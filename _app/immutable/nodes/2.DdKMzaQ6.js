var ti=Object.defineProperty;var ni=(n,e,t)=>e in n?ti(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var De=(n,e,t)=>ni(n,typeof e!="symbol"?e+"":e,t);import{r as Re,s as me,c as Hn,e as p,b as L,v as Te,d as k,f as b,i as m,j as H,y as f,k as R,T as G,u as Un,g as Bn,a as Fn,t as ee,h as te,z as F,l as h,m as ae,U as it,V as nn,W as Ae,n as se,X as ne,Y as gt,o as Se,Z as pt,_ as zt,A as Ke,$ as Mt,x as zn,a0 as Gt,a1 as sn,a2 as ln,a3 as Xe,a4 as rn,a5 as ye,a6 as Ce,a7 as kt,a8 as wt,a9 as Gn,F as Wn,aa as ii}from"../chunks/scheduler.yzaWflf5.js";import{a as Y,t as W,S as ve,i as _e,b as ce,d as ue,m as fe,e as de,g as Je,c as Ye,f as Wt,h as qn,j as Kn}from"../chunks/index.DLd42UDf.js";import{b as nt,w as rt,d as Et}from"../chunks/paths.C9UzVGoi.js";function je(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function si(n,e){n.d(1),e.delete(n.key)}function li(n,e){Y(n,1,1,()=>{e.delete(n.key)})}function Xn(n,e,t,i,s,r,l,o,u,c,a,d){let v=n.length,_=r.length,w=v;const $={};for(;w--;)$[n[w].key]=w;const g=[],C=new Map,P=new Map,S=[];for(w=_;w--;){const y=d(s,r,w),V=t(y);let E=l.get(V);E?S.push(()=>E.p(y,e)):(E=c(V,y),E.c()),C.set(V,g[w]=E),V in $&&P.set(V,Math.abs(w-$[V]))}const O=new Set,N=new Set;function q(y){W(y,1),y.m(o,a),l.set(y.key,y),a=y.first,_--}for(;v&&_;){const y=g[_-1],V=n[v-1],E=y.key,D=V.key;y===V?(a=y.first,v--,_--):C.has(D)?!l.has(E)||O.has(E)?q(y):N.has(D)?v--:P.get(E)>P.get(D)?(N.add(E),q(y)):(O.add(D),v--):(u(V,l),v--)}for(;v--;){const y=n[v];C.has(y.key)||u(y,l)}for(;_;)q(g[_-1]);return Re(S),g}function Dt(n,e){const t={},i={},s={$$scope:1};let r=n.length;for(;r--;){const l=n[r],o=e[r];if(o){for(const u in l)u in o||(i[u]=1);for(const u in o)s[u]||(t[u]=o[u],s[u]=1);n[r]=o}else for(const u in l)s[u]=1}for(const l in i)l in t||(t[l]=void 0);return t}function Jn(n){return typeof n=="object"&&n!==null?n:{}}const ri=nt+"/ring2.wav";let Yn=function(){},lt,Nt,Zn=.5,dt;if(typeof window<"u"){let n=window.AudioContext||window.webkitAudioContext;lt=new n,fetch(ri).then(e=>e.arrayBuffer()).then(e=>lt.decodeAudioData(e)).then(e=>{Nt=e}).catch(e=>console.error("Error loading sound file:",e)),Yn=function(){if(!Nt)return;dt=lt.createBufferSource(),dt.buffer=Nt;let e=lt.createGain();e.gain.value=Zn,dt.connect(e),e.connect(lt.destination),dt.start(0)}}function qt(){Yn()}function oi(n,e){Zn=n,qt()}function on(n){let e,t;return{c(){e=p("div"),t=ee(n[0]),this.h()},l(i){e=k(i,"DIV",{style:!0,class:!0});var s=b(e);t=te(s,n[0]),s.forEach(m),this.h()},h(){F(e,"top",n[3]+"px"),F(e,"left",n[2]+"px"),f(e,"class","tooltip svelte-43gogz")},m(i,s){R(i,e,s),h(e,t)},p(i,s){s&1&&ae(t,i[0]),s&8&&F(e,"top",i[3]+"px"),s&4&&F(e,"left",i[2]+"px")},d(i){i&&m(e)}}}function ai(n){let e,t,i,s,r,l;const o=n[8].default,u=Hn(o,n,n[7],null);let c=n[1]&&on(n);return{c(){e=p("div"),u&&u.c(),t=L(),c&&c.c(),i=Te(),this.h()},l(a){e=k(a,"DIV",{"aria-hidden":!0});var d=b(e);u&&u.l(d),d.forEach(m),t=H(a),c&&c.l(a),i=Te(),this.h()},h(){f(e,"aria-hidden","true")},m(a,d){R(a,e,d),u&&u.m(e,null),R(a,t,d),c&&c.m(a,d),R(a,i,d),s=!0,r||(l=[G(e,"mouseover",n[4]),G(e,"mouseleave",n[6]),G(e,"mousemove",n[5]),G(e,"focus",ci)],r=!0)},p(a,[d]){u&&u.p&&(!s||d&128)&&Un(u,o,a,a[7],s?Fn(o,a[7],d,null):Bn(a[7]),null),a[1]?c?c.p(a,d):(c=on(a),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},i(a){s||(W(u,a),s=!0)},o(a){Y(u,a),s=!1},d(a){a&&(m(e),m(t),m(i)),u&&u.d(a),c&&c.d(a),r=!1,Re(l)}}}const ci=function(){};function ui(n,e,t){let{$$slots:i={},$$scope:s}=e,{title:r=""}=e,l=!1,o,u;function c(v){t(1,l=!0),t(2,o=v.pageX+10),t(3,u=v.pageY+10)}function a(v){t(2,o=v.pageX+10),t(3,u=v.pageY+10)}function d(){t(1,l=!1)}return n.$$set=v=>{"title"in v&&t(0,r=v.title),"$$scope"in v&&t(7,s=v.$$scope)},[r,l,o,u,c,a,d,s,i]}class Kt extends ve{constructor(e){super(),_e(this,e,ui,ai,me,{title:0})}}function an(n){let e=Math.floor(n/60),t=Math.floor(n%60).toString().padStart(2,"0"),i=e.toString().padStart(2,"0");if(e>60){let s=Math.floor(e/60);return i=Math.floor(e%60).toString().padStart(2,"0"),`${s}:${i}:${t}`}return`${i}:${t}`}function cn(n){let e=Math.floor(n/60),t=Math.floor(n%60);if(e>60){let i=Math.floor(e/60);return e=Math.floor(e%60),`${i}h ${e} min`}else return e>0?`${e} min`:`${t} sec`}function un(n){let e=Math.floor(n/3600);e>0&&(n=n-e*3600);let t=Math.floor(n/60),i=Math.floor(n%60);return e==1?`${e} hour ${t} min`:e>0?`${e} hours ${t} min`:t>=5?`${t} min`:t>1?`${t} min ${i} sec`:`${i} sec`}class fi{constructor(e,t,i,s=300){De(this,"intervalId",0);De(this,"duration",0);De(this,"start",0);De(this,"remain",0);De(this,"onSec",e=>{});De(this,"onAlarm",()=>{});this.duration=e,this.remain=e-1,e>0&&(this.onSec=t,this.onAlarm=i,this.start=Date.now(),this.intervalId=setInterval(()=>{const r=Math.ceil((Date.now()-this.start)/1e3);let l=this.duration-r;l!=this.remain&&(t(this.remain),this.remain=l,this.remain<=0&&(this.onAlarm(),clearInterval(this.intervalId)))},s))}stop(){clearInterval(this.intervalId)}}function di(n){let e,t=an(n[0])+"",i,s,r;return{c(){e=p("button"),i=ee(t),this.h()},l(l){e=k(l,"BUTTON",{id:!0,class:!0});var o=b(e);i=te(o,t),o.forEach(m),this.h()},h(){f(e,"id","watch"),f(e,"class","svelte-1kj7nhv")},m(l,o){R(l,e,o),h(e,i),s||(r=G(e,"click",n[1]),s=!0)},p(l,o){o&1&&t!==(t=an(l[0])+"")&&ae(i,t)},d(l){l&&m(e),s=!1,r()}}}function hi(n){let e,t;return e=new Kt({props:{title:"stop timer",$$slots:{default:[di]},$$scope:{ctx:n}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,s){fe(e,i,s),t=!0},p(i,[s]){const r={};s&257&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){Y(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function mi(n,e,t){let{time:i=0}=e,{remainedSeconds:s=0}=e;var r;const l=it();function o(d){r!=null&&r.stop(),r=new fi(d,u,c),t(0,s=d)}function u(d){t(0,s=d)}function c(){qt(),l("alarming")}function a(){l("stop")}return n.$$set=d=>{"time"in d&&t(2,i=d.time),"remainedSeconds"in d&&t(0,s=d.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&o(i)},[s,a,i]}class vi extends ve{constructor(e){super(),_e(this,e,mi,hi,me,{time:2,remainedSeconds:0})}}function _i(n){let e,t,i,s,r,l;return{c(){e=p("button"),t=ee(n[1]),i=ee(" min"),this.h()},l(o){e=k(o,"BUTTON",{class:!0});var u=b(e);t=te(u,n[1]),i=te(u," min"),u.forEach(m),this.h()},h(){f(e,"class",s=nn(n[2])+" svelte-8w7xxt"),Ae(e,"pressed",n[0])},m(o,u){R(o,e,u),h(e,t),h(e,i),r||(l=G(e,"click",n[5]),r=!0)},p(o,[u]){u&2&&ae(t,o[1]),u&4&&s!==(s=nn(o[2])+" svelte-8w7xxt")&&f(e,"class",s),u&5&&Ae(e,"pressed",o[0])},i:se,o:se,d(o){o&&m(e),r=!1,l()}}}function gi(n,e,t){const i=it();let{value:s}=e,{name:r}=e,{pressed:l=!1}=e;function o(a,d){i("start",{name:a,val:d}),t(0,l=!0)}function u(){t(0,l=!1)}const c=function(){o(r,s)};return n.$$set=a=>{"value"in a&&t(1,s=a.value),"name"in a&&t(2,r=a.name),"pressed"in a&&t(0,l=a.pressed)},[l,s,r,o,u,c]}class Qn extends ve{constructor(e){super(),_e(this,e,gi,_i,me,{value:1,name:2,pressed:0,reset:4})}get reset(){return this.$$.ctx[4]}}const $e={WORK:"work",REST:"rest"},pi={afterClockIntervalS:3,afterClockTimeoutS:10,timersMultiplier:1},ki={afterClockIntervalS:10,afterClockTimeoutS:60*15,timersMultiplier:1*60};function tt(n){return n?pi:ki}/*! js-cookie v3.0.5 | MIT */function ht(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)n[i]=t[i]}return n}var wi={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ht(n,e){function t(s,r,l){if(!(typeof document>"u")){l=ht({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in l)l[u]&&(o+="; "+u,l[u]!==!0&&(o+="="+l[u].split(";")[0]));return document.cookie=s+"="+n.write(r,s)+o}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var r=document.cookie?document.cookie.split("; "):[],l={},o=0;o<r.length;o++){var u=r[o].split("="),c=u.slice(1).join("=");try{var a=decodeURIComponent(u[0]);if(l[a]=n.read(c,a),s===a)break}catch{}}return s?l[s]:l}}return Object.create({set:t,get:i,remove:function(s,r){t(s,"",ht({},r,{expires:-1}))},withAttributes:function(s){return Ht(this.converter,ht({},this.attributes,s))},withConverter:function(s){return Ht(ht({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var Ue=Ht(wi,{path:"/"});class Pe{constructor(e=0,t="",i=new Date,s=new Date){De(this,"start");De(this,"finish");De(this,"name");De(this,"value");this.start=i,this.finish=s,this.name=t,this.value=e}setDuration(e){this.finish=new Date(this.start.getTime()+e*1e3)}durationS(){return(this.finish.getTime()-this.start.getTime())/1e3}}const be={RUNNING:"RUNNING",STOPPED:"STOPPED",WAITING_FOR_STOP:"WAITING_FOR_STOP"};var qe=(n=>(n[n.EMIT=1]="EMIT",n[n.DO_NOT_EMIT=2]="DO_NOT_EMIT",n))(qe||{});let xn=60,bi=5*60;function Xt(n,e,t=xn){return(e.start.getTime()-n.finish.getTime())/1e3>t}function Ti(n,e=xn){var t=[],i=0;if(n.length<=1)return n;t.push(n[0]),i=0;for(let s=1;s<n.length;s++){const r=n[s];if(t[i].name!=r.name){t.push(r),i++;continue}Xt(t[i],r,e)?(t.push(r),i++):t[i].finish=r.finish}return t}function Vt(n,e=$e.REST,t=bi){var i=[],s=0;if(n.length<=1)return n;i.push(n[0]),s=0;for(let l=1;l<n.length;l++){const o=n[l];if(Xt(i[s],o,t)){var r=new Pe(0,e,i[s].finish,o.start);i.push(r),s++}i.push(o),s++}return i}function Ei(n){return n.forEach(e=>{if(!("name"in e&&"start"in e&&"finish"in e))return!1}),!0}function Di(n){let e=[];try{const t=JSON.parse(n);let i=[];Ei(t)&&t.forEach(s=>{i.push(new Pe(0,s.name,new Date(s.start*1e3),new Date(s.finish*1e3)))}),console.log("deserialized logs:",i),e=i}catch{e=[]}return new Ut(e)}class Ut{constructor(e){De(this,"additionalS",0);De(this,"list",[]);this.list=Vt(e,$e.REST)}serialize(){let e=[];return this.list.forEach(t=>{e.push({name:t.name,start:Math.floor(t.start.getTime()/1e3),finish:Math.floor(t.finish.getTime()/1e3)})}),JSON.stringify(e)}_normalize(){this.list=Vt(this.list,$e.REST),this.list=Ti(this.list,0)}addTimer(e){return this.list.push(e),this._normalize(),this}remove(e){for(var t=0;t<this.list.length;)this.list[t].start===e?this.list.splice(t,1):++t;this._normalize()}total(){let e=0;return this.list.forEach(t=>{t.name==$e.WORK&&(e+=t.durationS())}),e}fillGaps(e=new Pe){if(this.list=Vt(this.list),this.list.length>0){let t=this.list[this.list.length-1];Xt(t,e)&&this.list.push(new Pe(0,$e.REST,t.finish,e.start))}return this}}class Si{constructor(){De(this,"timerHistory");De(this,"active");this.timerHistory=new Ut([])}addTimer(e){return this.active=void 0,this.timerHistory.addTimer(e),this}remove(e){return this.timerHistory.remove(e),this}clearLogs(){return this.timerHistory=new Ut([]),this}resetActive(){return this.active=void 0,this}tick(e,t){if(!this.active)return!1;const i=this.active.value*t,s=(e.getTime()-this.active.start.getTime())/1e3,r=15*t;return s>i+r?(this.active.finish=new Date(this.active.start.getTime()+(i+r)*1e3),this.addTimer(this.active),!0):(this.active.finish=e,!1)}getRecoveryStatus(e,t){if(!this.active)return{shouldResume:!1,shouldArchive:!1,remainingMinutes:0};const i=(e.getTime()-this.active.start.getTime())/1e3,s=this.active.value*t,r=15*t;if(i>=s+r)return{shouldResume:!1,shouldArchive:!0,remainingMinutes:0};const l=s-i;return{shouldResume:l>0,shouldArchive:!1,remainingMinutes:Math.max(0,l/t)}}setActive(e){return this.active=e,this.timerHistory.fillGaps(),this}totalTime(){let e=this.timerHistory.total();return this.active&&this.active.name==$e.WORK&&(e+=this.active.durationS()),e}}function St(n,e,t={storage:"cookies",cookieExpireDays:31}){const i=t.serialize||JSON.stringify,s=t.deserialize||JSON.parse;let r=e;try{const o=t.storage==="cookies"?Ue.get(n):localStorage.getItem(n);o&&(r=s(o))}catch(o){console.warn(`Failed to load ${n} from ${t.storage}:`,o)}const l=rt(r);return l.subscribe(o=>{try{const u=i(o);t.storage==="cookies"?Ue.set(n,u,{expires:t.cookieExpireDays||31}):localStorage.setItem(n,u)}catch(u){console.warn(`Failed to save ${n} to ${t.storage}:`,u)}}),l}function Ii(){let n=new Si;{const t=Ue.get("logs");console.log("Loading pomApp from cookies:",t),t&&(n.timerHistory=Di(t));const i=Ue.get("activeTimer");if(i)try{const s=JSON.parse(i),r=new Date(s.start),l=new Date;(l.getTime()-r.getTime())/(1e3*60*60)<1?(n.active=new Pe(s.value,s.name,r,l),console.log("Loaded active timer from cookies:",n.active)):(console.log("Active timer too old, not restoring"),Ue.remove("activeTimer"))}catch(s){console.error("Failed to parse active timer:",s)}}const e=rt(n);return e.subscribe(t=>{const i=t.timerHistory.serialize();if(Ue.set("logs",i,{expires:31}),t.active){const s={name:t.active.name,start:t.active.start.getTime(),finish:t.active.finish.getTime(),value:t.active.value};Ue.set("activeTimer",JSON.stringify(s),{expires:31})}else Ue.remove("activeTimer")}),e}const Oe=Ii();function yi(){{const n=Ue.get("darkmode");return n!==void 0?n==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}}const Bt=St("darkmode",yi(),{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),Ci=Et(Oe,n=>n.totalTime()),mt=St("volume",10,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>parseInt(n,10)}),At=St("workTimers",[5,10,15,20,25],{storage:"cookies"}),jt=St("restTimers",[5,10,15,20,25],{storage:"cookies"}),Ft=rt(!1);function fn(n,e,t){const i=n.slice();return i[28]=e[t],i[29]=e,i[30]=t,i}function dn(n,e,t){const i=n.slice();return i[28]=e[t],i[31]=e,i[30]=t,i}function hn(n){let e,t="Ã—",i,s;function r(){return n[19](n[28])}return{c(){e=p("button"),e.textContent=t,this.h()},l(l){e=k(l,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1y3xtsd"&&(e.textContent=t),this.h()},h(){f(e,"class","delete-timer-btn svelte-1a20hk9"),f(e,"title","Remove")},m(l,o){R(l,e,o),i||(s=G(e,"click",r),i=!0)},p(l,o){n=l},d(l){l&&m(e),i=!1,s()}}}function mn(n){let e,t,i=n[30],s,r;const l=()=>n[18](t,i),o=()=>n[18](null,i);let u={value:n[28],name:$e.WORK};t=new Qn({props:u}),l(),t.$on("start",n[8]);let c=n[7]&&hn(n);return{c(){e=p("div"),ce(t.$$.fragment),s=L(),c&&c.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var d=b(e);ue(t.$$.fragment,d),s=H(d),c&&c.l(d),d.forEach(m),this.h()},h(){f(e,"class","timer-item svelte-1a20hk9")},m(a,d){R(a,e,d),fe(t,e,null),h(e,s),c&&c.m(e,null),r=!0},p(a,d){i!==a[30]&&(o(),i=a[30],l());const v={};d[0]&64&&(v.value=a[28]),t.$set(v),a[7]?c?c.p(a,d):(c=hn(a),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){a&&m(e),o(),de(t),c&&c.d()}}}function vn(n){let e,t="Ã—",i,s;function r(){return n[22](n[28])}return{c(){e=p("button"),e.textContent=t,this.h()},l(l){e=k(l,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(e)!=="svelte-utphua"&&(e.textContent=t),this.h()},h(){f(e,"class","delete-timer-btn svelte-1a20hk9"),f(e,"title","Remove")},m(l,o){R(l,e,o),i||(s=G(e,"click",r),i=!0)},p(l,o){n=l},d(l){l&&m(e),i=!1,s()}}}function _n(n){let e,t,i=n[30],s,r;const l=()=>n[21](t,i),o=()=>n[21](null,i);let u={value:n[28],name:$e.REST};t=new Qn({props:u}),l(),t.$on("start",n[8]);let c=n[7]&&vn(n);return{c(){e=p("div"),ce(t.$$.fragment),s=L(),c&&c.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var d=b(e);ue(t.$$.fragment,d),s=H(d),c&&c.l(d),d.forEach(m),this.h()},h(){f(e,"class","timer-item svelte-1a20hk9")},m(a,d){R(a,e,d),fe(t,e,null),h(e,s),c&&c.m(e,null),r=!0},p(a,d){i!==a[30]&&(o(),i=a[30],l());const v={};d[0]&32&&(v.value=a[28]),t.$set(v),a[7]?c?c.p(a,d):(c=vn(a),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){a&&m(e),o(),de(t),c&&c.d()}}}function gn(n){let e,t,i,s="Duration (min)",r,l,o,u,c,a,d,v,_,w="Cancel",$,g;return{c(){e=p("div"),t=p("div"),i=p("p"),i.textContent=s,r=L(),l=p("input"),o=L(),u=p("div"),c=p("button"),a=ee("Add"),v=L(),_=p("button"),_.textContent=w,this.h()},l(C){e=k(C,"DIV",{class:!0,role:!0});var P=b(e);t=k(P,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-label":!0});var S=b(t);i=k(S,"P",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-11xp5bx"&&(i.textContent=s),r=H(S),l=k(S,"INPUT",{class:!0,type:!0,min:!0,max:!0,placeholder:!0}),o=H(S),u=k(S,"DIV",{class:!0});var O=b(u);c=k(O,"BUTTON",{class:!0});var N=b(c);a=te(N,"Add"),N.forEach(m),v=H(O),_=k(O,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(_)!=="svelte-fzlqbe"&&(_.textContent=w),O.forEach(m),S.forEach(m),P.forEach(m),this.h()},h(){f(i,"class","dialog-title svelte-1a20hk9"),f(l,"class","dialog-input svelte-1a20hk9"),f(l,"type","number"),f(l,"min","1"),f(l,"max","999"),f(l,"placeholder","e.g. 45"),f(c,"class","dialog-ok svelte-1a20hk9"),c.disabled=d=!n[3]||n[3]<=0,f(_,"class","dialog-cancel svelte-1a20hk9"),f(u,"class","dialog-actions svelte-1a20hk9"),f(t,"class","dialog svelte-1a20hk9"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(t,"aria-label","Add timer"),f(e,"class","backdrop svelte-1a20hk9"),f(e,"role","presentation")},m(C,P){R(C,e,P),h(e,t),h(t,i),h(t,r),h(t,l),pt(l,n[3]),h(t,o),h(t,u),h(u,c),h(c,a),h(u,v),h(u,_),n[25](t),$||(g=[G(l,"input",n[24]),G(c,"click",n[11]),G(_,"click",n[10]),G(t,"keydown",n[13]),G(e,"click",n[14])],$=!0)},p(C,P){P[0]&8&&zt(l.value)!==C[3]&&pt(l,C[3]),P[0]&8&&d!==(d=!C[3]||C[3]<=0)&&(c.disabled=d)},d(C){C&&m(e),n[25](null),$=!1,Re(g)}}}function Oi(n){let e,t,i,s,r="Active",l,o,u,c,a,d="+",v,_,w,$,g,C="Rest",P,S,O,N,q,y="+",V,E,D,I,B,A=je(n[6]),M=[];for(let U=0;U<A.length;U+=1)M[U]=mn(dn(n,A,U));const j=U=>Y(M[U],1,1,()=>{M[U]=null}),K=n[17].default,Z=Hn(K,n,n[16],null);let x=je(n[5]),Q=[];for(let U=0;U<x.length;U+=1)Q[U]=_n(fn(n,x,U));const Le=U=>Y(Q[U],1,1,()=>{Q[U]=null});let le=n[2]&&gn(n);return{c(){e=p("div"),t=p("div"),i=p("div"),s=p("span"),s.textContent=r,l=p("br"),o=L(),u=p("div");for(let U=0;U<M.length;U+=1)M[U].c();c=L(),a=p("button"),a.textContent=d,v=L(),_=p("div"),Z&&Z.c(),w=L(),$=p("div"),g=p("span"),g.textContent=C,P=p("br"),S=L(),O=p("div");for(let U=0;U<Q.length;U+=1)Q[U].c();N=L(),q=p("button"),q.textContent=y,V=L(),le&&le.c(),E=Te(),this.h()},l(U){e=k(U,"DIV",{class:!0});var z=b(e);t=k(z,"DIV",{class:!0});var T=b(t);i=k(T,"DIV",{class:!0});var X=b(i);s=k(X,"SPAN",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-19szg5l"&&(s.textContent=r),l=k(X,"BR",{}),o=H(X),u=k(X,"DIV",{class:!0});var he=b(u);for(let J=0;J<M.length;J+=1)M[J].l(he);c=H(he),a=k(he,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(a)!=="svelte-u3e0gf"&&(a.textContent=d),he.forEach(m),X.forEach(m),v=H(T),_=k(T,"DIV",{class:!0});var oe=b(_);Z&&Z.l(oe),oe.forEach(m),w=H(T),$=k(T,"DIV",{class:!0});var Ne=b($);g=k(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1gtata5"&&(g.textContent=C),P=k(Ne,"BR",{}),S=H(Ne),O=k(Ne,"DIV",{class:!0});var Ve=b(O);for(let J=0;J<Q.length;J+=1)Q[J].l(Ve);N=H(Ve),q=k(Ve,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(q)!=="svelte-16vdexk"&&(q.textContent=y),Ve.forEach(m),Ne.forEach(m),T.forEach(m),z.forEach(m),V=H(U),le&&le.l(U),E=Te(),this.h()},h(){f(s,"class","label svelte-1a20hk9"),f(a,"class","add-btn svelte-1a20hk9"),f(a,"title","Add timer"),f(u,"class","timers-list svelte-1a20hk9"),f(i,"class","item svelte-1a20hk9"),f(_,"class","item svelte-1a20hk9"),f(g,"class","label svelte-1a20hk9"),f(q,"class","add-btn svelte-1a20hk9"),f(q,"title","Add timer"),f(O,"class","timers-list svelte-1a20hk9"),f($,"class","item svelte-1a20hk9"),f(t,"class","grid-container svelte-1a20hk9"),f(e,"class","controls-wrapper svelte-1a20hk9")},m(U,z){R(U,e,z),h(e,t),h(t,i),h(i,s),h(i,l),h(i,o),h(i,u);for(let T=0;T<M.length;T+=1)M[T]&&M[T].m(u,null);h(u,c),h(u,a),h(t,v),h(t,_),Z&&Z.m(_,null),h(t,w),h(t,$),h($,g),h($,P),h($,S),h($,O);for(let T=0;T<Q.length;T+=1)Q[T]&&Q[T].m(O,null);h(O,N),h(O,q),R(U,V,z),le&&le.m(U,z),R(U,E,z),D=!0,I||(B=[G(a,"click",n[20]),G(q,"click",n[23])],I=!0)},p(U,z){if(z[0]&4545){A=je(U[6]);let T;for(T=0;T<A.length;T+=1){const X=dn(U,A,T);M[T]?(M[T].p(X,z),W(M[T],1)):(M[T]=mn(X),M[T].c(),W(M[T],1),M[T].m(u,c))}for(Je(),T=A.length;T<M.length;T+=1)j(T);Ye()}if(Z&&Z.p&&(!D||z[0]&65536)&&Un(Z,K,U,U[16],D?Fn(K,U[16],z,null):Bn(U[16]),null),z[0]&4514){x=je(U[5]);let T;for(T=0;T<x.length;T+=1){const X=fn(U,x,T);Q[T]?(Q[T].p(X,z),W(Q[T],1)):(Q[T]=_n(X),Q[T].c(),W(Q[T],1),Q[T].m(O,N))}for(Je(),T=x.length;T<Q.length;T+=1)Le(T);Ye()}U[2]?le?le.p(U,z):(le=gn(U),le.c(),le.m(E.parentNode,E)):le&&(le.d(1),le=null)},i(U){if(!D){for(let z=0;z<A.length;z+=1)W(M[z]);W(Z,U);for(let z=0;z<x.length;z+=1)W(Q[z]);D=!0}},o(U){M=M.filter(Boolean);for(let z=0;z<M.length;z+=1)Y(M[z]);Y(Z,U),Q=Q.filter(Boolean);for(let z=0;z<Q.length;z+=1)Y(Q[z]);D=!1},d(U){U&&(m(e),m(V),m(E)),gt(M,U),Z&&Z.d(U),gt(Q,U),le&&le.d(U),I=!1,Re(B)}}}function Mi(n,e,t){let i,s,r;Se(n,jt,j=>t(5,i=j)),Se(n,At,j=>t(6,s=j)),Se(n,Ft,j=>t(7,r=j));let{$$slots:l={},$$scope:o}=e;const u=it();let c=[],a=[],d=!1,v=null,_=null,w=null;function $(j){r||u("start",{timer:j.detail.val,name:j.detail.name})}function g(j){v=j,t(3,_=null),t(2,d=!0),setTimeout(()=>{var K;(K=w==null?void 0:w.querySelector(".dialog-input"))==null||K.focus()},0)}function C(){t(2,d=!1),v=null}function P(){if(_!==null&&_>0){const j=Math.round(_);v==="work"?s.includes(j)||At.update(K=>[...K,j].sort((Z,x)=>Z-x)):v==="rest"&&(i.includes(j)||jt.update(K=>[...K,j].sort((Z,x)=>Z-x)))}C()}function S(j,K){j==="work"?At.update(Z=>Z.filter(x=>x!==K)):jt.update(Z=>Z.filter(x=>x!==K))}function O(j){j.key==="Enter"&&P(),j.key==="Escape"&&C()}function N(j){j.target===j.currentTarget&&C()}function q(){c.forEach(j=>j==null?void 0:j.reset()),a.forEach(j=>j==null?void 0:j.reset())}function y(j,K){Ke[j?"unshift":"push"](()=>{c[K]=j,t(0,c)})}const V=j=>S("work",j),E=()=>g("work");function D(j,K){Ke[j?"unshift":"push"](()=>{a[K]=j,t(1,a)})}const I=j=>S("rest",j),B=()=>g("rest");function A(){_=zt(this.value),t(3,_)}function M(j){Ke[j?"unshift":"push"](()=>{w=j,t(4,w)})}return n.$$set=j=>{"$$scope"in j&&t(16,o=j.$$scope)},[c,a,d,_,w,i,s,r,$,g,C,P,S,O,N,q,o,l,y,V,E,D,I,B,A,M]}class Ni extends ve{constructor(e){super(),_e(this,e,Mi,Oi,me,{clear:15},null,[-1,-1])}get clear(){return this.$$.ctx[15]}}function Vi(n){let e,t,i,s=`<img src="${nt}/volume_mute.svg" alt="Mute icon"/>`,r,l,o,u,c=`<img src="${nt}/volume_up.svg" alt="Volume max icon"/>`,a,d;return{c(){e=p("label"),t=p("div"),i=p("button"),i.innerHTML=s,r=L(),l=p("input"),o=L(),u=p("button"),u.innerHTML=c,this.h()},l(v){e=k(v,"LABEL",{});var _=b(e);t=k(_,"DIV",{class:!0});var w=b(t);i=k(w,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-t9bnpg"&&(i.innerHTML=s),r=H(w),l=k(w,"INPUT",{class:!0,type:!0,min:!0,max:!0}),o=H(w),u=k(w,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(u)!=="svelte-yorq7f"&&(u.innerHTML=c),w.forEach(m),_.forEach(m),this.h()},h(){f(i,"class","leftbutton svelte-1vsc329"),f(l,"class","slider bar svelte-1vsc329"),f(l,"type","range"),f(l,"min","0"),f(l,"max","100"),f(u,"class","svelte-1vsc329"),f(t,"class","container svelte-1vsc329")},m(v,_){R(v,e,_),h(e,t),h(t,i),h(t,r),h(t,l),pt(l,n[0]),h(t,o),h(t,u),a||(d=[G(i,"click",n[2]),G(l,"change",n[5]),G(l,"input",n[5]),G(l,"mouseup",n[1]),G(u,"click",n[3])],a=!0)},p(v,[_]){_&1&&pt(l,v[0])},i:se,o:se,d(v){v&&m(e),a=!1,Re(d)}}}function Ai(n,e,t){let i;Se(n,mt,c=>t(4,i=c));let s=i;function r(c){Mt(mt,i=parseInt(c.target.value,10),i)}function l(){Mt(mt,i=0,i)}function o(){Mt(mt,i=100,i)}function u(){s=zt(this.value),t(0,s),t(4,i)}return n.$$.update=()=>{n.$$.dirty&16&&(console.log("volume",i),oi(i/100),t(0,s=i))},[s,r,l,o,i,u]}class ji extends ve{constructor(e){super(),_e(this,e,Ai,Vi,me,{})}}function $i(n,e,t){const i=it();let{debugFlag:s}=e,{active:r=!0}=e,l=0,o=0;function u(a){console.log("run annoyer",a),clearInterval(l),clearTimeout(o),a&&(l=setInterval(()=>{qt(),r||clearInterval(l)},tt(s).afterClockIntervalS*1e3),o=setTimeout(()=>{t(0,r=!1),clearInterval(l),c()},tt(s).afterClockTimeoutS*1e3))}function c(){i("off")}return n.$$set=a=>{"debugFlag"in a&&t(1,s=a.debugFlag),"active"in a&&t(0,r=a.active)},n.$$.update=()=>{n.$$.dirty&1&&u(r)},[r,s]}class Pi extends ve{constructor(e){super(),_e(this,e,$i,null,me,{debugFlag:1,active:0})}}const pn=nt+"/tea.png",Ri=nt+"/clock_red.png",Li=nt+"/clock_yellow.png";function Hi(n){if(console.log("changeFavicon",n),typeof document>"u"||document===null)return;const e=document.getElementById("favicon");if(e!==null)switch(n){case be.STOPPED:e.href=pn;break;case be.RUNNING:e.href=Ri;break;case be.WAITING_FOR_STOP:e.href=Li;break;default:e.href=pn}}function Ui(){const{subscribe:n,set:e,update:t}=rt({state:be.STOPPED,currentTimer:new Pe,clockDuration:0});return{subscribe:n,start:(i,s,r)=>{const l=tt(r).timersMultiplier;t(o=>({state:be.RUNNING,currentTimer:new Pe(i,s),clockDuration:i*l}))},alarm:i=>{t(s=>{if(i){const r=Object.assign(Object.create(Object.getPrototypeOf(s.currentTimer)),s.currentTimer,{finish:new Date});return{...s,state:be.STOPPED,clockDuration:0,currentTimer:r}}else return{...s,state:be.WAITING_FOR_STOP}})},stop:()=>{t(i=>{const s=Object.assign(Object.create(Object.getPrototypeOf(i.currentTimer)),i.currentTimer,{finish:new Date});return{...i,state:be.STOPPED,clockDuration:0,currentTimer:s}})},reset:()=>{e({state:be.STOPPED,currentTimer:new Pe,clockDuration:0})}}}const Be=Ui(),Bi=Et(Be,n=>n.state),Fi=Et(Be,n=>n.currentTimer),zi=Et(Be,n=>n.clockDuration);function Gi(n){let e,t,i;return e=new ji({}),{c(){ce(e.$$.fragment),t=p("br")},l(s){ue(e.$$.fragment,s),t=k(s,"BR",{})},m(s,r){fe(e,s,r),R(s,t,r),i=!0},p:se,i(s){i||(W(e.$$.fragment,s),i=!0)},o(s){Y(e.$$.fragment,s),i=!1},d(s){s&&m(t),de(e,s)}}}function kn(n){let e,t;return e=new Kt({props:{title:"stop and don't save logs",$$slots:{default:[Wi]},$$scope:{ctx:n}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,s){fe(e,i,s),t=!0},p(i,s){const r={};s&65536&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){Y(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function Wi(n){let e,t="cancel",i,s,r,l;return{c(){e=p("button"),e.textContent=t,i=L(),s=p("br"),this.h()},l(o){e=k(o,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1wi9d3u"&&(e.textContent=t),i=H(o),s=k(o,"BR",{}),this.h()},h(){f(e,"id","stopper"),f(e,"class","svelte-1viwsah")},m(o,u){R(o,e,u),R(o,i,u),R(o,s,u),r||(l=G(e,"click",n[8]),r=!0)},p:se,d(o){o&&(m(e),m(i),m(s)),r=!1,l()}}}function qi(n){let e,t,i,s,r,l,o;function u(d){n[10](d)}let c={time:n[4]};n[0]!==void 0&&(c.remainedSeconds=n[0]),t=new vi({props:c}),Ke.push(()=>Wt(t,"remainedSeconds",u)),t.$on("alarming",n[6]),t.$on("stop",n[9]),r=new Kt({props:{title:"Volume",$$slots:{default:[Gi]},$$scope:{ctx:n}}});let a=n[2]!==be.STOPPED&&kn(n);return{c(){e=p("div"),ce(t.$$.fragment),s=L(),ce(r.$$.fragment),l=L(),a&&a.c(),this.h()},l(d){e=k(d,"DIV",{class:!0});var v=b(e);ue(t.$$.fragment,v),s=H(v),ue(r.$$.fragment,v),l=H(v),a&&a.l(v),v.forEach(m),this.h()},h(){f(e,"class","clock svelte-1viwsah")},m(d,v){R(d,e,v),fe(t,e,null),h(e,s),fe(r,e,null),h(e,l),a&&a.m(e,null),o=!0},p(d,v){const _={};v&16&&(_.time=d[4]),!i&&v&1&&(i=!0,_.remainedSeconds=d[0],Gt(()=>i=!1)),t.$set(_);const w={};v&65536&&(w.$$scope={dirty:v,ctx:d}),r.$set(w),d[2]!==be.STOPPED?a?(a.p(d,v),v&4&&W(a,1)):(a=kn(d),a.c(),W(a,1),a.m(e,null)):a&&(Je(),Y(a,1,1,()=>{a=null}),Ye())},i(d){o||(W(t.$$.fragment,d),W(r.$$.fragment,d),W(a),o=!0)},o(d){Y(t.$$.fragment,d),Y(r.$$.fragment,d),Y(a),o=!1},d(d){d&&m(e),de(t),de(r),a&&a.d()}}}function Ki(n){let e,t,i,s,r={$$slots:{default:[qi]},$$scope:{ctx:n}};return e=new Ni({props:r}),n[11](e),e.$on("start",n[5]),e.$on("stop",n[12]),i=new Pi({props:{active:n[2]===be.WAITING_FOR_STOP,debugFlag:n[1]}}),i.$on("off",n[13]),{c(){ce(e.$$.fragment),t=L(),ce(i.$$.fragment)},l(l){ue(e.$$.fragment,l),t=H(l),ue(i.$$.fragment,l)},m(l,o){fe(e,l,o),R(l,t,o),fe(i,l,o),s=!0},p(l,[o]){const u={};o&65557&&(u.$$scope={dirty:o,ctx:l}),e.$set(u);const c={};o&4&&(c.active=l[2]===be.WAITING_FOR_STOP),o&2&&(c.debugFlag=l[1]),i.$set(c)},i(l){s||(W(e.$$.fragment,l),W(i.$$.fragment,l),s=!0)},o(l){Y(e.$$.fragment,l),Y(i.$$.fragment,l),s=!1},d(l){l&&m(t),n[11](null),de(e,l),de(i,l)}}}function Xi(n,e,t){let i,s,r;Se(n,Bi,S=>t(2,i=S)),Se(n,Fi,S=>t(14,s=S)),Se(n,zi,S=>t(4,r=S));const l=it();let{debugFlag:o}=e,{remainedSeconds:u}=e,c;function a(S){i===be.RUNNING&&v(qe.EMIT),Be.start(S.detail.timer,S.detail.name,o),l("current",s)}function d(){const S=typeof document<"u"&&document.visibilityState==="visible";Be.alarm(S),S&&(c&&c.clear(),l("timer",s))}function v(S=qe.EMIT){Be.stop(),c&&c.clear(),S===qe.EMIT&&l("timer",s)}function _(){Be.reset(),c&&c.clear(),l("cancel")}function w(){i!==be.STOPPED&&v(qe.EMIT)}zn(()=>{document.addEventListener("visibilitychange",function(){i===be.WAITING_FOR_STOP&&document.visibilityState==="visible"&&(console.log("visibility change to visible"),v(qe.EMIT))})});function $(S){u=S,t(0,u)}function g(S){Ke[S?"unshift":"push"](()=>{c=S,t(3,c)})}const C=()=>v(qe.DO_NOT_EMIT),P=()=>v(qe.DO_NOT_EMIT);return n.$$set=S=>{"debugFlag"in S&&t(1,o=S.debugFlag),"remainedSeconds"in S&&t(0,u=S.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&Hi(i)},[u,o,i,c,r,a,d,v,_,w,$,g,C,P]}class Ji extends ve{constructor(e){super(),_e(this,e,Xi,Ki,me,{debugFlag:1,remainedSeconds:0})}}function Yi(n){let e;return{c(){e=ee("Active for")},l(t){e=te(t,"Active for")},m(t,i){R(t,e,i)},d(t){t&&m(e)}}}function Zi(n){let e;return{c(){e=ee("Rest for")},l(t){e=te(t,"Rest for")},m(t,i){R(t,e,i)},d(t){t&&m(e)}}}function wn(n){let e,t="running";return{c(){e=p("span"),e.textContent=t,this.h()},l(i){e=k(i,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1383egi"&&(e.textContent=t),this.h()},h(){f(e,"class","active-badge svelte-2774qv")},m(i,s){R(i,e,s)},d(i){i&&m(e)}}}function Qi(n){let e,t,i,s,r,l,o,u=cn(n[2])+"",c,a,d,v;function _(C,P){return C[1]?Zi:Yi}let w=_(n),$=w(n),g=n[0]&&wn();return{c(){e=p("div"),t=p("snap"),i=ee(n[3]),s=L(),r=p("snap"),$.c(),l=L(),o=p("snap"),c=ee(u),a=L(),g&&g.c(),this.h()},l(C){e=k(C,"DIV",{class:!0});var P=b(e);t=k(P,"SNAP",{class:!0});var S=b(t);i=te(S,n[3]),S.forEach(m),s=H(P),r=k(P,"SNAP",{});var O=b(r);$.l(O),O.forEach(m),l=H(P),o=k(P,"SNAP",{class:!0});var N=b(o);c=te(N,u),N.forEach(m),a=H(P),g&&g.l(P),P.forEach(m),this.h()},h(){f(t,"class","time work svelte-2774qv"),f(o,"class","duration svelte-2774qv"),f(e,"class","logline svelte-2774qv"),Ae(e,"topLog",n[0]),Ae(e,"rest",n[1]),Ae(e,"clickable",!n[0])},m(C,P){R(C,e,P),h(e,t),h(t,i),h(e,s),h(e,r),$.m(r,null),h(e,l),h(e,o),h(o,c),h(e,a),g&&g.m(e,null),d||(v=G(e,"click",n[4]),d=!0)},p(C,[P]){w!==(w=_(C))&&($.d(1),$=w(C),$&&($.c(),$.m(r,null))),P&4&&u!==(u=cn(C[2])+"")&&ae(c,u),C[0]?g||(g=wn(),g.c(),g.m(e,null)):g&&(g.d(1),g=null),P&1&&Ae(e,"topLog",C[0]),P&2&&Ae(e,"rest",C[1]),P&1&&Ae(e,"clickable",!C[0])},i:se,o:se,d(C){C&&m(e),$.d(),g&&g.d(),d=!1,v()}}}function xi(n){let e=n.getHours().toString().padStart(2,"0"),t=n.getMinutes().toString().padStart(2,"0");return`${e}:${t}`}function es(n,e,t){let i,s,{start:r}=e,{finish:l}=e,{name:o}=e,{value:u=0}=e,{topLog:c=!1}=e;const a=it();let d=xi(r);function v(){c||a("click")}return n.$$set=_=>{"start"in _&&t(5,r=_.start),"finish"in _&&t(6,l=_.finish),"name"in _&&t(7,o=_.name),"value"in _&&t(8,u=_.value),"topLog"in _&&t(0,c=_.topLog)},n.$$.update=()=>{n.$$.dirty&96&&t(2,i=(l.getTime()-r.getTime())/1e3),n.$$.dirty&128&&t(1,s=o===$e.REST)},[c,s,i,d,v,r,l,o,u]}class ei extends ve{constructor(e){super(),_e(this,e,es,Qi,me,{start:5,finish:6,name:7,value:8,topLog:0})}}const Jt=rt(null);function _t(n){Jt.set(n)}function vt(){Jt.set(null)}function ts(n){const e=n.slice(),t=e[23].getTime()-e[1].start.getTime();e[25]=t;const i=e[1].finish.getTime()-e[1].start.getTime();e[5]=i;const s=e[25]/e[5]*e[24];e[26]=s;const r=e[24]-e[26];e[27]=r;const l=parseFloat(e[20].left)+e[26];return e[28]=l,e}function $t(n){const e=n.slice(),t=e[8](e[1]);e[20]=t;const i=e[9](e[1]);e[21]=i;const s=e[10](e[1],e[4]);e[22]=s;const r=e[22]?e[11](e[1],e[4]):null;e[23]=r;const l=parseFloat(e[20].width);return e[24]=l,e}function bn(n,e,t){const i=n.slice();i[29]=e[t];const s=i[8](i[29]);i[20]=s;const r=i[9](i[29]);i[21]=r;const l=i[10](i[29],i[0]);i[22]=l;const o=i[22]?i[11](i[29],i[0]):null;i[23]=o;const u=parseFloat(i[20].width);i[24]=u;const c=!i[21]&&i[24]<.5?"2px":i[20].width;return i[30]=c,i}function ns(n){const e=n.slice(),t=e[23].getTime()-e[29].start.getTime();e[25]=t;const i=e[29].finish.getTime()-e[29].start.getTime();e[5]=i;const s=e[25]/e[5]*e[24];e[26]=s;const r=e[24]-e[26];e[27]=r;const l=parseFloat(e[20].left)+e[26];return e[28]=l,e}function Tn(n,e,t){const i=n.slice();return i[33]=e[t],i}function En(n){let e;return{c(){e=p("div"),this.h()},l(t){e=k(t,"DIV",{class:!0,style:!0,title:!0}),b(e).forEach(m),this.h()},h(){f(e,"class","future-overlay svelte-1k1xkrk"),F(e,"left",n[6].left),F(e,"width",n[6].width),f(e,"title","Future time")},m(t,i){R(t,e,i)},p(t,i){i[0]&64&&F(e,"left",t[6].left),i[0]&64&&F(e,"width",t[6].width)},d(t){t&&m(e)}}}function Dn(n){let e,t,i=n[33].label+"",s,r;return{c(){e=p("div"),t=p("div"),s=ee(i),r=L(),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0});var o=b(e);t=k(o,"DIV",{class:!0});var u=b(t);s=te(u,i),u.forEach(m),r=H(o),o.forEach(m),this.h()},h(){f(t,"class","grid-label svelte-1k1xkrk"),f(e,"class","grid-line svelte-1k1xkrk"),F(e,"left",n[33].position+"%")},m(l,o){R(l,e,o),h(e,t),h(t,s),h(e,r)},p(l,o){o[0]&128&&i!==(i=l[33].label+"")&&ae(s,i),o[0]&128&&F(e,"left",l[33].position+"%")},d(l){l&&m(e)}}}function is(n){let e,t,i,s,r;function l(){return n[16](n[29])}return{c(){e=p("div"),this.h()},l(o){e=k(o,"DIV",{class:!0,style:!0,title:!0}),b(e).forEach(m),this.h()},h(){f(e,"class",t="timer-block "+(n[21]?n[22]?"overtime":"work":"rest")+" svelte-1k1xkrk"),F(e,"left",n[20].left),F(e,"width",n[30]),F(e,"min-width",n[21]?"0":"2px"),F(e,"cursor","pointer"),f(e,"title",i=ie(n[29].start)+" - "+ie(n[29].finish)+" ("+bt(n[29])+")"+(n[22]?" âš ï¸ Overtime":""))},m(o,u){R(o,e,u),s||(r=G(e,"click",l),s=!0)},p(o,u){n=o,u[0]&1&&t!==(t="timer-block "+(n[21]?n[22]?"overtime":"work":"rest")+" svelte-1k1xkrk")&&f(e,"class",t),u[0]&1&&F(e,"left",n[20].left),u[0]&1&&F(e,"width",n[30]),u[0]&1&&F(e,"min-width",n[21]?"0":"2px"),u[0]&1&&i!==(i=ie(n[29].start)+" - "+ie(n[29].finish)+" ("+bt(n[29])+")"+(n[22]?" âš ï¸ Overtime":""))&&f(e,"title",i)},d(o){o&&m(e),s=!1,r()}}}function Sn(n){let e,t,i,s,r,l,o;function u(){return n[14](n[29])}function c(){return n[15](n[29])}return{c(){e=p("div"),i=L(),s=p("div"),this.h()},l(a){e=k(a,"DIV",{class:!0,style:!0,title:!0}),b(e).forEach(m),i=H(a),s=k(a,"DIV",{class:!0,style:!0,title:!0}),b(s).forEach(m),this.h()},h(){f(e,"class","timer-block work svelte-1k1xkrk"),F(e,"left",n[20].left),F(e,"width",n[26]+"%"),F(e,"cursor","pointer"),f(e,"title",t=ie(n[29].start)+" - "+ie(n[23])+" (Normal)"),f(s,"class","timer-block overtime svelte-1k1xkrk"),F(s,"left",n[28]+"%"),F(s,"width",n[27]+"%"),F(s,"cursor","pointer"),f(s,"title",r=ie(n[23])+" - "+ie(n[29].finish)+" âš ï¸ Overtime")},m(a,d){R(a,e,d),R(a,i,d),R(a,s,d),l||(o=[G(e,"click",u),G(s,"click",c)],l=!0)},p(a,d){n=a,d[0]&1&&F(e,"left",n[20].left),d[0]&1&&F(e,"width",n[26]+"%"),d[0]&1&&t!==(t=ie(n[29].start)+" - "+ie(n[23])+" (Normal)")&&f(e,"title",t),d[0]&1&&F(s,"left",n[28]+"%"),d[0]&1&&F(s,"width",n[27]+"%"),d[0]&1&&r!==(r=ie(n[23])+" - "+ie(n[29].finish)+" âš ï¸ Overtime")&&f(s,"title",r)},d(a){a&&(m(e),m(i),m(s)),l=!1,Re(o)}}}function In(n,e){let t,i,s;function r(c,a){return a[0]&1&&(i=null),i==null&&(i=!!(c[21]&&c[23]&&c[23].getTime()>c[29].start.getTime()&&c[23].getTime()<c[29].finish.getTime())),i?Sn:is}function l(c,a){return a===Sn?ns(c):c}let o=r(e,[-1,-1]),u=o(l(e,o));return{key:n,first:null,c(){t=Te(),u.c(),s=Te(),this.h()},l(c){t=Te(),u.l(c),s=Te(),this.h()},h(){this.first=t},m(c,a){R(c,t,a),u.m(c,a),R(c,s,a)},p(c,a){e=c,o===(o=r(e,a))&&u?u.p(l(e,o),a):(u.d(1),u=o(l(e,o)),u&&(u.c(),u.m(s.parentNode,s)))},d(c){c&&(m(t),m(s)),u.d(c)}}}function yn(n){let e,t;function i(o,u){return u[0]&18&&(e=null),e==null&&(e=!!(o[21]&&o[23]&&o[23].getTime()>o[1].start.getTime()&&o[23].getTime()<o[1].finish.getTime())),e?Cn:ss}function s(o,u){return u===Cn?ts(o):o}let r=i(n,[-1,-1]),l=r(s(n,r));return{c(){l.c(),t=Te()},l(o){l.l(o),t=Te()},m(o,u){l.m(o,u),R(o,t,u)},p(o,u){r===(r=i(o,u))&&l?l.p(s(o,r),u):(l.d(1),l=r(s(o,r)),l&&(l.c(),l.m(t.parentNode,t)))},d(o){o&&m(t),l.d(o)}}}function ss(n){let e,t,i;return{c(){e=p("div"),this.h()},l(s){e=k(s,"DIV",{class:!0,style:!0,title:!0}),b(e).forEach(m),this.h()},h(){f(e,"class",t="timer-block active "+(n[21]?n[22]?"overtime":"work":"rest")+" svelte-1k1xkrk"),F(e,"left",n[20].left),F(e,"width",n[20].width),f(e,"title",i="Active: "+ie(n[1].start)+" - now ("+bt(n[1])+")"+(n[22]?" âš ï¸ Overtime":""))},m(s,r){R(s,e,r)},p(s,r){r[0]&18&&t!==(t="timer-block active "+(s[21]?s[22]?"overtime":"work":"rest")+" svelte-1k1xkrk")&&f(e,"class",t),r[0]&2&&F(e,"left",s[20].left),r[0]&2&&F(e,"width",s[20].width),r[0]&18&&i!==(i="Active: "+ie(s[1].start)+" - now ("+bt(s[1])+")"+(s[22]?" âš ï¸ Overtime":""))&&f(e,"title",i)},d(s){s&&m(e)}}}function Cn(n){let e,t,i,s,r;return{c(){e=p("div"),i=L(),s=p("div"),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0,title:!0}),b(e).forEach(m),i=H(l),s=k(l,"DIV",{class:!0,style:!0,title:!0}),b(s).forEach(m),this.h()},h(){f(e,"class","timer-block active work svelte-1k1xkrk"),F(e,"left",n[20].left),F(e,"width",n[26]+"%"),f(e,"title",t="Active: "+ie(n[1].start)+" - "+ie(n[23])+" (Normal)"),f(s,"class","timer-block active overtime svelte-1k1xkrk"),F(s,"left",n[28]+"%"),F(s,"width",n[27]+"%"),f(s,"title",r="Active: "+ie(n[23])+" - now âš ï¸ Overtime")},m(l,o){R(l,e,o),R(l,i,o),R(l,s,o)},p(l,o){o[0]&2&&F(e,"left",l[20].left),o[0]&18&&F(e,"width",l[26]+"%"),o[0]&18&&t!==(t="Active: "+ie(l[1].start)+" - "+ie(l[23])+" (Normal)")&&f(e,"title",t),o[0]&18&&F(s,"left",l[28]+"%"),o[0]&18&&F(s,"width",l[27]+"%"),o[0]&18&&r!==(r="Active: "+ie(l[23])+" - now âš ï¸ Overtime")&&f(s,"title",r)},d(l){l&&(m(e),m(i),m(s))}}}function ls(n){let e,t,i='<span class="timeline-title svelte-1k1xkrk">Timeline</span> <div class="legend svelte-1k1xkrk"><span class="legend-item svelte-1k1xkrk"><span class="legend-color work svelte-1k1xkrk"></span> <span>Work</span></span> <span class="legend-item svelte-1k1xkrk" title="Overtime: 2+ min after alarm, or 25+ min for consecutive work"><span class="legend-color overtime svelte-1k1xkrk"></span> <span>Overtime</span></span> <span class="legend-item svelte-1k1xkrk"><span class="legend-color rest svelte-1k1xkrk"></span> <span>Rest</span></span></div>',s,r,l,o=ie(new Date(n[2]))+"",u,c,a,d=ie(new Date(n[3]))+"",v,_,w,$,g=[],C=new Map,P,S=n[6].visible&&En(n),O=je(n[7]),N=[];for(let E=0;E<O.length;E+=1)N[E]=Dn(Tn(n,O,E));let q=je(n[0]);const y=E=>E[29].start;for(let E=0;E<q.length;E+=1){let D=bn(n,q,E),I=y(D);C.set(I,g[E]=In(I,D))}let V=n[1]&&yn($t(n));return{c(){e=p("div"),t=p("div"),t.innerHTML=i,s=L(),r=p("div"),l=p("div"),u=ee(o),c=L(),a=p("div"),v=ee(d),_=L(),S&&S.c(),w=L();for(let E=0;E<N.length;E+=1)N[E].c();$=L();for(let E=0;E<g.length;E+=1)g[E].c();P=L(),V&&V.c(),this.h()},l(E){e=k(E,"DIV",{class:!0});var D=b(e);t=k(D,"DIV",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-1sof6z9"&&(t.innerHTML=i),s=H(D),r=k(D,"DIV",{class:!0});var I=b(r);l=k(I,"DIV",{class:!0});var B=b(l);u=te(B,o),B.forEach(m),c=H(I),a=k(I,"DIV",{class:!0});var A=b(a);v=te(A,d),A.forEach(m),_=H(I),S&&S.l(I),w=H(I);for(let M=0;M<N.length;M+=1)N[M].l(I);$=H(I);for(let M=0;M<g.length;M+=1)g[M].l(I);P=H(I),V&&V.l(I),I.forEach(m),D.forEach(m),this.h()},h(){f(t,"class","timeline-header svelte-1k1xkrk"),f(l,"class","time-label start svelte-1k1xkrk"),f(a,"class","time-label end svelte-1k1xkrk"),f(r,"class","timeline-bar svelte-1k1xkrk"),f(e,"class","timeline-container svelte-1k1xkrk")},m(E,D){R(E,e,D),h(e,t),h(e,s),h(e,r),h(r,l),h(l,u),h(r,c),h(r,a),h(a,v),h(r,_),S&&S.m(r,null),h(r,w);for(let I=0;I<N.length;I+=1)N[I]&&N[I].m(r,null);h(r,$);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(r,null);h(r,P),V&&V.m(r,null)},p(E,D){if(D[0]&4&&o!==(o=ie(new Date(E[2]))+"")&&ae(u,o),D[0]&8&&d!==(d=ie(new Date(E[3]))+"")&&ae(v,d),E[6].visible?S?S.p(E,D):(S=En(E),S.c(),S.m(r,w)):S&&(S.d(1),S=null),D[0]&128){O=je(E[7]);let I;for(I=0;I<O.length;I+=1){const B=Tn(E,O,I);N[I]?N[I].p(B,D):(N[I]=Dn(B),N[I].c(),N[I].m(r,$))}for(;I<N.length;I+=1)N[I].d(1);N.length=O.length}D[0]&3841&&(q=je(E[0]),g=Xn(g,D,y,1,E,q,C,r,si,In,P,bn)),E[1]?V?V.p($t(E),D):(V=yn($t(E)),V.c(),V.m(r,null)):V&&(V.d(1),V=null)},i:se,o:se,d(E){E&&m(e),S&&S.d(),gt(N,E);for(let D=0;D<g.length;D+=1)g[D].d();V&&V.d()}}}function ie(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function bt(n){return`${Math.round(n.durationS()/60)} min`}function rs(n,e,t){let i,s,r,l,o,u,{timers:c=[]}=e,{activeTimer:a=null}=e;const d=40*60*1e3;let v=0,_=0;function w(y){if(s===0)return{left:"0%",width:"0%"};const V=y.start.getTime()-r,E=y.finish.getTime()-y.start.getTime(),D=V/s*100,I=E/s*100;return{left:`${D}%`,width:`${I}%`}}function $(y){return y.name===$e.WORK}function g(y,V){const E=V.findIndex(A=>A.start.getTime()===y.start.getTime());if(E<=0)return!0;const D=V[E-1];return $(D)?(y.start.getTime()-D.finish.getTime())/(1e3*60)>=5:D.durationS()/60>=5}function C(y,V){if(!$(y))return[];const E=[y],D=V.findIndex(I=>I.start.getTime()===y.start.getTime());for(let I=D-1;I>=0;I--){const B=V[I],A=E[0],j=(A.start.getTime()-B.finish.getTime())/(1e3*60);if($(B)&&j<5)E.unshift(B);else{if(!$(B)&&B.durationS()/60<5)continue;if(!$(B)&&g(A,V))break}}return E}function P(y,V){if(!$(y)||!y.value||y.value===0)return!1;const E=2,D=25,I=C(y,V);if(I.length===1){const B=y.durationS()/60,A=y.value;return B>A+E}else{const B=I.reduce((M,j)=>M+(j.value||0),0);return I.reduce((M,j)=>M+j.durationS()/60,0)>B+D}}function S(y,V){if(!P(y,V)||!y.value)return null;const E=2,D=25,I=C(y,V);if(I.length===1){const B=y.start.getTime()+(y.value+E)*60*1e3;return new Date(B)}else{const A=I.reduce((j,K)=>j+(K.value||0),0)+D;let M=0;for(const j of I){const K=j.durationS()/60,Z=M+K;if(Z>A){const x=A-M,Q=j.start.getTime()+x*60*1e3;return new Date(Q)}M=Z}}return null}const O=y=>_t(y),N=y=>_t(y),q=y=>_t(y);return n.$$set=y=>{"timers"in y&&t(0,c=y.timers),"activeTimer"in y&&t(1,a=y.activeTimer)},n.$$.update=()=>{n.$$.dirty[0]&3&&t(4,i=a?[...c,a]:c),n.$$.dirty[0]&16&&t(2,r=i.length===0?Date.now():Math.min(...i.map(y=>y.start.getTime()))),n.$$.dirty[0]&12310&&t(3,l=(()=>{if(i.length===0)return Date.now()+d;const V=Math.max(...i.map(D=>D.finish.getTime()));let E=Math.max(V,r+d);if(E+=v*36e5,a&&E!==_){const D=a.finish.getTime(),I=E-D,B=10*60*1e3;I<B&&(t(12,v++,v),E+=36e5,t(13,_=E),console.log("Extended timeline, total extensions:",v,"new end:",new Date(E)))}return E})()),n.$$.dirty[0]&12&&t(5,s=l-r),n.$$.dirty[0]&44&&t(7,o=(()=>{if(s===0)return[];const y=[],V=new Date(r),E=new Date(l),D=new Date(V);for(D.setMinutes(0,0,0),D.setHours(D.getHours()+1);D.getTime()<=E.getTime();){const B=(D.getTime()-r)/s*100;if(B>=0&&B<=100){const A=B<5||B>95;y.push({position:B,label:A?"":D.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})})}D.setHours(D.getHours()+1)}return y})()),n.$$.dirty[0]&44&&t(6,u=(()=>{const y=Date.now();if(l>y){const V=Math.max(r,y),E=V-r,D=l-V,I=E/s*100,B=D/s*100;return{left:`${I}%`,width:`${B}%`,visible:B>0}}return{left:"0%",width:"0%",visible:!1}})())},[c,a,r,l,i,s,u,o,w,$,P,S,v,_,O,N,q]}class os extends ve{constructor(e){super(),_e(this,e,rs,ls,me,{timers:0,activeTimer:1},null,[-1,-1])}}function Pt(n){const e=n.slice(),t=e[10](e[0],e[7].finish);return e[37]=t,e}function Rt(n){const e=n.slice(),t=e[10](e[1],e[0]);return e[37]=t,e}function Lt(n){const e=n.slice(),t=e[10](e[8].start,e[1]);return e[37]=t,e}function On(n,e,t){const i=n.slice();return i[38]=e[t],i}function Mn(n){let e,t,i,s,r="Edit Timer",l,o,u="Ã—",c,a,d,v,_,w="Type:",$,g,C=n[4].name+"",P,S,O,N,q="Duration:",y,V,E,D,I,B,A,M,j,K=Ee(n[2])+"",Z,x,Q,Le=Ee(n[3])+"",le,U,z,T,X,he,oe,Ne="ðŸ’¡ Drag the edges to adjust timer boundaries",Ve,J,Ie,Fe="Delete",st,He,It,ze,Yt="Cancel",yt,Ge,Zt="Save",Ct,Qt,ge=n[6].length>0&&Nn(n),pe=n[8]&&An(Lt(n)),ke=n[4]&&jn(Rt(n)),we=n[7]&&$n(Pt(n));return{c(){e=p("div"),t=p("div"),i=p("div"),s=p("h2"),s.textContent=r,l=L(),o=p("button"),o.textContent=u,c=L(),a=p("div"),d=p("div"),v=p("div"),_=p("span"),_.textContent=w,$=L(),g=p("span"),P=ee(C),S=L(),O=p("div"),N=p("span"),N.textContent=q,y=L(),V=p("span"),E=ee(n[9]),D=ee(" min"),I=L(),ge&&ge.c(),B=L(),A=p("div"),M=p("div"),j=p("span"),Z=ee(K),x=L(),Q=p("span"),le=ee(Le),U=L(),z=p("div"),pe&&pe.c(),T=L(),ke&&ke.c(),X=L(),we&&we.c(),he=L(),oe=p("div"),oe.textContent=Ne,Ve=L(),J=p("div"),Ie=p("button"),Ie.textContent=Fe,st=L(),He=p("div"),It=L(),ze=p("button"),ze.textContent=Yt,yt=L(),Ge=p("button"),Ge.textContent=Zt,this.h()},l(re){e=k(re,"DIV",{class:!0});var Me=b(e);t=k(Me,"DIV",{class:!0});var Ze=b(t);i=k(Ze,"DIV",{class:!0});var ot=b(i);s=k(ot,"H2",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1ut3txv"&&(s.textContent=r),l=H(ot),o=k(ot,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-y9ayml"&&(o.textContent=u),ot.forEach(m),c=H(Ze),a=k(Ze,"DIV",{class:!0});var Qe=b(a);d=k(Qe,"DIV",{class:!0});var at=b(d);v=k(at,"DIV",{class:!0});var ct=b(v);_=k(ct,"SPAN",{class:!0,"data-svelte-h":!0}),ne(_)!=="svelte-owo3qx"&&(_.textContent=w),$=H(ct),g=k(ct,"SPAN",{class:!0});var xt=b(g);P=te(xt,C),xt.forEach(m),ct.forEach(m),S=H(at),O=k(at,"DIV",{class:!0});var ut=b(O);N=k(ut,"SPAN",{class:!0,"data-svelte-h":!0}),ne(N)!=="svelte-2ef875"&&(N.textContent=q),y=H(ut),V=k(ut,"SPAN",{class:!0});var Ot=b(V);E=te(Ot,n[9]),D=te(Ot," min"),Ot.forEach(m),ut.forEach(m),at.forEach(m),I=H(Qe),ge&&ge.l(Qe),B=H(Qe),A=k(Qe,"DIV",{class:!0});var xe=b(A);M=k(xe,"DIV",{class:!0});var ft=b(M);j=k(ft,"SPAN",{});var en=b(j);Z=te(en,K),en.forEach(m),x=H(ft),Q=k(ft,"SPAN",{});var tn=b(Q);le=te(tn,Le),tn.forEach(m),ft.forEach(m),U=H(xe),z=k(xe,"DIV",{class:!0});var et=b(z);pe&&pe.l(et),T=H(et),ke&&ke.l(et),X=H(et),we&&we.l(et),et.forEach(m),he=H(xe),oe=k(xe,"DIV",{class:!0,"data-svelte-h":!0}),ne(oe)!=="svelte-173xjy6"&&(oe.textContent=Ne),xe.forEach(m),Qe.forEach(m),Ve=H(Ze),J=k(Ze,"DIV",{class:!0});var We=b(J);Ie=k(We,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(Ie)!=="svelte-6r50uh"&&(Ie.textContent=Fe),st=H(We),He=k(We,"DIV",{class:!0}),b(He).forEach(m),It=H(We),ze=k(We,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(ze)!=="svelte-1ph2inm"&&(ze.textContent=Yt),yt=H(We),Ge=k(We,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(Ge)!=="svelte-9t0vpj"&&(Ge.textContent=Zt),We.forEach(m),Ze.forEach(m),Me.forEach(m),this.h()},h(){f(s,"class","svelte-khj96w"),f(o,"class","close-btn svelte-khj96w"),f(i,"class","modal-header svelte-khj96w"),f(_,"class","label svelte-khj96w"),f(g,"class","value svelte-khj96w"),f(v,"class","info svelte-khj96w"),f(N,"class","label svelte-khj96w"),f(V,"class","value svelte-khj96w"),f(O,"class","info svelte-khj96w"),f(d,"class","info-row svelte-khj96w"),f(M,"class","timeline-labels svelte-khj96w"),f(z,"class","timeline-track svelte-khj96w"),f(oe,"class","timeline-hint svelte-khj96w"),f(A,"class","timeline-editor svelte-khj96w"),f(a,"class","modal-body svelte-khj96w"),f(Ie,"class","btn btn-delete svelte-khj96w"),f(He,"class","spacer svelte-khj96w"),f(ze,"class","btn btn-cancel svelte-khj96w"),f(Ge,"class","btn btn-save svelte-khj96w"),f(J,"class","modal-footer svelte-khj96w"),f(t,"class","modal svelte-khj96w"),f(e,"class","modal-backdrop svelte-khj96w")},m(re,Me){R(re,e,Me),h(e,t),h(t,i),h(i,s),h(i,l),h(i,o),h(t,c),h(t,a),h(a,d),h(d,v),h(v,_),h(v,$),h(v,g),h(g,P),h(d,S),h(d,O),h(O,N),h(O,y),h(O,V),h(V,E),h(V,D),h(a,I),ge&&ge.m(a,null),h(a,B),h(a,A),h(A,M),h(M,j),h(j,Z),h(M,x),h(M,Q),h(Q,le),h(A,U),h(A,z),pe&&pe.m(z,null),h(z,T),ke&&ke.m(z,null),h(z,X),we&&we.m(z,null),h(A,he),h(A,oe),n[30](A),h(t,Ve),h(t,J),h(J,Ie),h(J,st),h(J,He),h(J,It),h(J,ze),h(J,yt),h(J,Ge),Ct||(Qt=[G(o,"click",n[16]),G(i,"click",sn(n[27])),G(a,"click",sn(n[26])),G(Ie,"click",n[17]),G(ze,"click",n[16]),G(Ge,"click",n[15]),G(e,"click",n[16])],Ct=!0)},p(re,Me){Me[0]&16&&C!==(C=re[4].name+"")&&ae(P,C),Me[0]&512&&ae(E,re[9]),re[6].length>0?ge?ge.p(re,Me):(ge=Nn(re),ge.c(),ge.m(a,B)):ge&&(ge.d(1),ge=null),Me[0]&4&&K!==(K=Ee(re[2])+"")&&ae(Z,K),Me[0]&8&&Le!==(Le=Ee(re[3])+"")&&ae(le,Le),re[8]?pe?pe.p(Lt(re),Me):(pe=An(Lt(re)),pe.c(),pe.m(z,T)):pe&&(pe.d(1),pe=null),re[4]?ke?ke.p(Rt(re),Me):(ke=jn(Rt(re)),ke.c(),ke.m(z,X)):ke&&(ke.d(1),ke=null),re[7]?we?we.p(Pt(re),Me):(we=$n(Pt(re)),we.c(),we.m(z,null)):we&&(we.d(1),we=null)},d(re){re&&m(e),ge&&ge.d(),pe&&pe.d(),ke&&ke.d(),we&&we.d(),n[30](null),Ct=!1,Re(Qt)}}}function Nn(n){let e,t=je(n[6]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Vn(On(n,t,s));return{c(){e=p("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var r=b(e);for(let l=0;l<i.length;l+=1)i[l].l(r);r.forEach(m),this.h()},h(){f(e,"class","warnings svelte-khj96w")},m(s,r){R(s,e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(s,r){if(r[0]&64){t=je(s[6]);let l;for(l=0;l<t.length;l+=1){const o=On(s,t,l);i[l]?i[l].p(o,r):(i[l]=Vn(o),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&m(e),gt(i,s)}}}function Vn(n){let e,t,i=n[38]+"",s;return{c(){e=p("div"),t=ee("âš ï¸ "),s=ee(i),this.h()},l(r){e=k(r,"DIV",{class:!0});var l=b(e);t=te(l,"âš ï¸ "),s=te(l,i),l.forEach(m),this.h()},h(){f(e,"class","warning-item svelte-khj96w")},m(r,l){R(r,e,l),h(e,t),h(e,s)},p(r,l){l[0]&64&&i!==(i=r[38]+"")&&ae(s,i)},d(r){r&&m(e)}}}function An(n){let e,t,i=n[8].name+"",s,r,l;return{c(){e=p("div"),t=p("span"),s=ee(i),this.h()},l(o){e=k(o,"DIV",{class:!0,style:!0,title:!0});var u=b(e);t=k(u,"SPAN",{class:!0});var c=b(t);s=te(c,i),c.forEach(m),u.forEach(m),this.h()},h(){f(t,"class","timer-label svelte-khj96w"),f(e,"class",r="timer-block prev "+(n[14](n[8])?"work":"rest")+" svelte-khj96w"),F(e,"left",n[37].left),F(e,"width",n[37].width),f(e,"title",l=n[8].name+": "+Ee(n[8].start)+" - "+Ee(n[1]))},m(o,u){R(o,e,u),h(e,t),h(t,s)},p(o,u){u[0]&256&&i!==(i=o[8].name+"")&&ae(s,i),u[0]&256&&r!==(r="timer-block prev "+(o[14](o[8])?"work":"rest")+" svelte-khj96w")&&f(e,"class",r),u[0]&258&&F(e,"left",o[37].left),u[0]&258&&F(e,"width",o[37].width),u[0]&258&&l!==(l=o[8].name+": "+Ee(o[8].start)+" - "+Ee(o[1]))&&f(e,"title",l)},d(o){o&&m(e)}}}function jn(n){let e,t,i,s,r,l=n[4].name+"",o,u,c,a=Ee(n[1])+"",d,v,_=Ee(n[0])+"",w,$,g,C,P,S;return{c(){e=p("div"),t=p("div"),i=L(),s=p("div"),r=p("div"),o=ee(l),u=L(),c=p("div"),d=ee(a),v=ee(" - "),w=ee(_),$=L(),g=p("div"),this.h()},l(O){e=k(O,"DIV",{class:!0,style:!0});var N=b(e);t=k(N,"DIV",{class:!0,title:!0}),b(t).forEach(m),i=H(N),s=k(N,"DIV",{class:!0});var q=b(s);r=k(q,"DIV",{class:!0});var y=b(r);o=te(y,l),y.forEach(m),u=H(q),c=k(q,"DIV",{class:!0});var V=b(c);d=te(V,a),v=te(V," - "),w=te(V,_),V.forEach(m),q.forEach(m),$=H(N),g=k(N,"DIV",{class:!0,title:!0}),b(g).forEach(m),N.forEach(m),this.h()},h(){f(t,"class","drag-handle left svelte-khj96w"),f(t,"title","Drag to adjust start time"),f(r,"class","timer-label svelte-khj96w"),f(c,"class","timer-times svelte-khj96w"),f(s,"class","timer-content svelte-khj96w"),f(g,"class","drag-handle right svelte-khj96w"),f(g,"title","Drag to adjust end time"),f(e,"class",C="timer-block current "+(n[14](n[4])?"work":"rest")+" svelte-khj96w"),F(e,"left",n[37].left),F(e,"width",n[37].width)},m(O,N){R(O,e,N),h(e,t),h(e,i),h(e,s),h(s,r),h(r,o),h(s,u),h(s,c),h(c,d),h(c,v),h(c,w),h(e,$),h(e,g),P||(S=[G(t,"mousedown",n[28]),G(g,"mousedown",n[29])],P=!0)},p(O,N){N[0]&16&&l!==(l=O[4].name+"")&&ae(o,l),N[0]&2&&a!==(a=Ee(O[1])+"")&&ae(d,a),N[0]&1&&_!==(_=Ee(O[0])+"")&&ae(w,_),N[0]&16&&C!==(C="timer-block current "+(O[14](O[4])?"work":"rest")+" svelte-khj96w")&&f(e,"class",C),N[0]&3&&F(e,"left",O[37].left),N[0]&3&&F(e,"width",O[37].width)},d(O){O&&m(e),P=!1,Re(S)}}}function $n(n){let e,t,i=n[7].name+"",s,r,l;return{c(){e=p("div"),t=p("span"),s=ee(i),this.h()},l(o){e=k(o,"DIV",{class:!0,style:!0,title:!0});var u=b(e);t=k(u,"SPAN",{class:!0});var c=b(t);s=te(c,i),c.forEach(m),u.forEach(m),this.h()},h(){f(t,"class","timer-label svelte-khj96w"),f(e,"class",r="timer-block next "+(n[14](n[7])?"work":"rest")+" svelte-khj96w"),F(e,"left",n[37].left),F(e,"width",n[37].width),f(e,"title",l=n[7].name+": "+Ee(n[0])+" - "+Ee(n[7].finish))},m(o,u){R(o,e,u),h(e,t),h(t,s)},p(o,u){u[0]&128&&i!==(i=o[7].name+"")&&ae(s,i),u[0]&128&&r!==(r="timer-block next "+(o[14](o[7])?"work":"rest")+" svelte-khj96w")&&f(e,"class",r),u[0]&129&&F(e,"left",o[37].left),u[0]&129&&F(e,"width",o[37].width),u[0]&129&&l!==(l=o[7].name+": "+Ee(o[0])+" - "+Ee(o[7].finish))&&f(e,"title",l)},d(o){o&&m(e)}}}function as(n){let e,t,i,s=n[4]&&Mn(n);return{c(){s&&s.c(),e=Te()},l(r){s&&s.l(r),e=Te()},m(r,l){s&&s.m(r,l),R(r,e,l),t||(i=[G(window,"keydown",n[18]),G(window,"mousemove",n[12]),G(window,"mouseup",n[13])],t=!0)},p(r,l){r[4]?s?s.p(r,l):(s=Mn(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:se,o:se,d(r){r&&m(e),s&&s.d(r),t=!1,Re(i)}}}function Ee(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function cs(n,e,t){let i,s,r,l,o,u,c,a,d,v,_,w;Se(n,Jt,T=>t(4,_=T)),Se(n,Oe,T=>t(25,w=T));let $=0,g=0,C,P,S=null,O=!1,N=null,q=0,y=400,V;function E(){const T=[];if(s&&(c.getTime()-s.start.getTime())/(1e3*60)<.5&&T.push(`Previous ${s.name} will be removed (< 30 sec)`),r){const X=a;(r.finish.getTime()-X.getTime())/(1e3*60)<.5&&T.push(`Next ${r.name} will be removed (< 30 sec)`)}return T}function D(T,X){const he=T.getTime()-l.getTime(),oe=X.getTime()-T.getTime(),Ne=he/u*100,Ve=oe/u*100;return{left:`${Ne}%`,width:`${Ve}%`}}function I(T,X){O=!0,N=T,q=X.clientX,V&&(y=V.offsetWidth),X.preventDefault()}function B(T){if(!O||!N)return;const he=(T.clientX-q)/y*u,oe=Math.round(he/(60*1e3));N==="start"?t(19,$=oe):t(20,g=oe)}function A(){O=!1,N=null}function M(T){return T.name===$e.WORK}function j(){if(_){if(c>=a){alert("Start time must be before finish time");return}v.length>0&&!confirm(`Warning:
${v.join(`
`)}

Continue with save?`)||(Oe.update(T=>{const X=T.timerHistory.list.findIndex(J=>J.start.getTime()===_.start.getTime());if(X===-1)return T;const he=T.timerHistory.list[X],oe=[];if(X>0){const J=T.timerHistory.list[X-1],Ie=he.start.getTime();if(c.getTime()!==Ie){const Fe=new Date(c);if((Fe.getTime()-J.start.getTime())/1e3<30)oe.push(X-1);else{const He=new Pe(J.value,J.name,J.start,Fe);T.timerHistory.list[X-1]=He}}}if(X<T.timerHistory.list.length-1){const J=T.timerHistory.list[X+1],Ie=he.finish.getTime();if(a.getTime()!==Ie){const Fe=new Date(a);if((J.finish.getTime()-Fe.getTime())/1e3<30)oe.push(X+1);else{const He=new Pe(J.value,J.name,Fe,J.finish);T.timerHistory.list[X+1]=He}}}oe.sort((J,Ie)=>Ie-J).forEach(J=>{T.timerHistory.list.splice(J,1)});const Ne=X-oe.filter(J=>J<X).length,Ve=new Pe(he.value,he.name,c,a);return T.timerHistory.list[Ne]=Ve,T}),vt())}}function K(){vt()}function Z(){_&&confirm("Delete this timer?")&&(Oe.update(T=>T.remove(_.start)),vt())}function x(T){T.key==="Escape"&&vt()}function Q(T){ln.call(this,n,T)}function Le(T){ln.call(this,n,T)}const le=T=>I("start",T),U=T=>I("end",T);function z(T){Ke[T?"unshift":"push"](()=>{V=T,t(5,V)})}return n.$$.update=()=>{n.$$.dirty[0]&33554448&&t(24,i=_?w.timerHistory.list.findIndex(T=>T.start.getTime()===_.start.getTime()):-1),n.$$.dirty[0]&50331648&&t(8,s=i>0?w.timerHistory.list[i-1]:null),n.$$.dirty[0]&50331648&&t(7,r=i>=0&&i<w.timerHistory.list.length-1?w.timerHistory.list[i+1]:null),n.$$.dirty[0]&8388624&&_&&_.start.getTime()!==S&&(t(23,S=_.start.getTime()),t(21,C=_.start instanceof Date?_.start:new Date(_.start)),t(22,P=_.finish instanceof Date?_.finish:new Date(_.finish)),t(19,$=0),t(20,g=0)),n.$$.dirty[0]&2097152&&t(2,l=C?new Date(C.getTime()-30*60*1e3):new Date),n.$$.dirty[0]&4194304&&t(3,o=P?new Date(P.getTime()+30*60*1e3):new Date),n.$$.dirty[0]&12&&(u=o.getTime()-l.getTime()),n.$$.dirty[0]&16&&(_||t(23,S=null)),n.$$.dirty[0]&2621440&&t(1,c=C?new Date(C.getTime()+$*60*1e3):new Date),n.$$.dirty[0]&5242880&&t(0,a=P?new Date(P.getTime()+g*60*1e3):new Date),n.$$.dirty[0]&19&&t(9,d=_?Math.round((a.getTime()-c.getTime())/(1e3*60)):0)},t(6,v=E()),[a,c,l,o,_,V,v,r,s,d,D,I,B,A,M,j,K,Z,x,$,g,C,P,S,i,w,Q,Le,le,U,z]}class us extends ve{constructor(e){super(),_e(this,e,cs,as,me,{},null,[-1,-1])}}function fs(n){let e,t,i,s,r,l,o,u,c,a;return{c(){e=p("div"),t=p("button"),i=ee(n[1]),r=L(),l=p("button"),o=ee(n[2]),this.h()},l(d){e=k(d,"DIV",{class:!0});var v=b(e);t=k(v,"BUTTON",{class:!0});var _=b(t);i=te(_,n[1]),_.forEach(m),r=H(v),l=k(v,"BUTTON",{class:!0});var w=b(l);o=te(w,n[2]),w.forEach(m),v.forEach(m),this.h()},h(){f(t,"class",s="tab "+(n[0]?"":"active")+" svelte-1hgfxul"),f(l,"class",u="tab "+(n[0]?"active":"")+" svelte-1hgfxul"),f(e,"class","tabs-container svelte-1hgfxul")},m(d,v){R(d,e,v),h(e,t),h(t,i),h(e,r),h(e,l),h(l,o),c||(a=[G(t,"click",n[3]),G(l,"click",n[4])],c=!0)},p(d,[v]){v&2&&ae(i,d[1]),v&1&&s!==(s="tab "+(d[0]?"":"active")+" svelte-1hgfxul")&&f(t,"class",s),v&4&&ae(o,d[2]),v&1&&u!==(u="tab "+(d[0]?"active":"")+" svelte-1hgfxul")&&f(l,"class",u)},i:se,o:se,d(d){d&&m(e),c=!1,Re(a)}}}function ds(n,e,t){let{checked:i=!1}=e,{leftLabel:s=""}=e,{rightLabel:r=""}=e;const l=()=>t(0,i=!1),o=()=>t(0,i=!0);return n.$$set=u=>{"checked"in u&&t(0,i=u.checked),"leftLabel"in u&&t(1,s=u.leftLabel),"rightLabel"in u&&t(2,r=u.rightLabel)},[i,s,r,l,o]}class hs extends ve{constructor(e){super(),_e(this,e,ds,fs,me,{checked:0,leftLabel:1,rightLabel:2})}}function Pn(n,e,t){const i=n.slice();return i[8]=e[t],i}function ms(n){let e,t,i=[],s=new Map,r,l=n[0].active&&Rn(n),o=je([...n[1]].reverse());const u=c=>c[8].start;for(let c=0;c<o.length;c+=1){let a=Pn(n,o,c),d=u(a);s.set(d,i[c]=Ln(d,a))}return{c(){e=p("div"),l&&l.c(),t=L();for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=k(c,"DIV",{class:!0});var a=b(e);l&&l.l(a),t=H(a);for(let d=0;d<i.length;d+=1)i[d].l(a);a.forEach(m),this.h()},h(){f(e,"class","logs svelte-rjdqds")},m(c,a){R(c,e,a),l&&l.m(e,null),h(e,t);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);r=!0},p(c,a){c[0].active?l?(l.p(c,a),a&1&&W(l,1)):(l=Rn(c),l.c(),W(l,1),l.m(e,t)):l&&(Je(),Y(l,1,1,()=>{l=null}),Ye()),a&2&&(o=je([...c[1]].reverse()),Je(),i=Xn(i,a,u,1,c,o,s,e,li,Ln,null,Pn),Ye())},i(c){if(!r){W(l);for(let a=0;a<o.length;a+=1)W(i[a]);r=!0}},o(c){Y(l);for(let a=0;a<i.length;a+=1)Y(i[a]);r=!1},d(c){c&&m(e),l&&l.d();for(let a=0;a<i.length;a+=1)i[a].d()}}}function vs(n){let e,t;return e=new os({props:{timers:n[1],activeTimer:n[0].active}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,s){fe(e,i,s),t=!0},p(i,s){const r={};s&2&&(r.timers=i[1]),s&1&&(r.activeTimer=i[0].active),e.$set(r)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){Y(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function Rn(n){let e,t;const i=[n[0].active,{topLog:!0}];let s={};for(let r=0;r<i.length;r+=1)s=Xe(s,i[r]);return e=new ei({props:s}),{c(){ce(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,l){fe(e,r,l),t=!0},p(r,l){const o=l&1?Dt(i,[Jn(r[0].active),i[1]]):{};e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Ln(n,e){let t,i,s;const r=[e[8],{topLog:!1}];function l(){return e[6](e[8])}let o={};for(let u=0;u<r.length;u+=1)o=Xe(o,r[u]);return i=new ei({props:o}),i.$on("click",l),i.$on("remove",e[7]),{key:n,first:null,c(){t=Te(),ce(i.$$.fragment),this.h()},l(u){t=Te(),ue(i.$$.fragment,u),this.h()},h(){this.first=t},m(u,c){R(u,t,c),fe(i,u,c),s=!0},p(u,c){e=u;const a=c&2?Dt(r,[Jn(e[8]),r[1]]):{};i.$set(a)},i(u){s||(W(i.$$.fragment,u),s=!0)},o(u){Y(i.$$.fragment,u),s=!1},d(u){u&&m(t),de(i,u)}}}function _s(n){let e,t,i,s,r="Clear logs",l,o,u="Active time: ",c,a=un(n[3])+"",d,v,_,w,$,g,C,P,S,O,N,q,y;e=new us({});function V(A){n[5](A)}let E={leftLabel:"Logs",rightLabel:"Graph"};n[2]!==void 0&&(E.checked=n[2]),$=new hs({props:E}),Ke.push(()=>Wt($,"checked",V));const D=[vs,ms],I=[];function B(A,M){return A[2]?0:1}return S=B(n),O=I[S]=D[S](n),{c(){ce(e.$$.fragment),t=L(),i=p("div"),s=p("button"),s.textContent=r,l=L(),o=p("span"),o.textContent=u,c=p("span"),d=ee(a),v=L(),_=p("div"),w=p("div"),ce($.$$.fragment),C=L(),P=p("div"),O.c(),this.h()},l(A){ue(e.$$.fragment,A),t=H(A),i=k(A,"DIV",{class:!0});var M=b(i);s=k(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1renoko"&&(s.textContent=r),l=H(M),o=k(M,"SPAN",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-18pz33x"&&(o.textContent=u),c=k(M,"SPAN",{class:!0});var j=b(c);d=te(j,a),j.forEach(m),M.forEach(m),v=H(A),_=k(A,"DIV",{class:!0});var K=b(_);w=k(K,"DIV",{class:!0});var Z=b(w);ue($.$$.fragment,Z),Z.forEach(m),C=H(K),P=k(K,"DIV",{class:!0});var x=b(P);O.l(x),x.forEach(m),K.forEach(m),this.h()},h(){f(s,"class","clear svelte-rjdqds"),f(o,"class","svelte-rjdqds"),f(c,"class","svelte-rjdqds"),f(i,"class","header svelte-rjdqds"),f(w,"class","tabs-header svelte-rjdqds"),f(P,"class","content-wrapper svelte-rjdqds"),f(_,"class","content-section svelte-rjdqds")},m(A,M){fe(e,A,M),R(A,t,M),R(A,i,M),h(i,s),h(i,l),h(i,o),h(i,c),h(c,d),R(A,v,M),R(A,_,M),h(_,w),fe($,w,null),h(_,C),h(_,P),I[S].m(P,null),N=!0,q||(y=G(s,"click",n[4]),q=!0)},p(A,[M]){(!N||M&8)&&a!==(a=un(A[3])+"")&&ae(d,a);const j={};!g&&M&4&&(g=!0,j.checked=A[2],Gt(()=>g=!1)),$.$set(j);let K=S;S=B(A),S===K?I[S].p(A,M):(Je(),Y(I[K],1,1,()=>{I[K]=null}),Ye(),O=I[S],O?O.p(A,M):(O=I[S]=D[S](A),O.c()),W(O,1),O.m(P,null))},i(A){N||(W(e.$$.fragment,A),W($.$$.fragment,A),W(O),N=!0)},o(A){Y(e.$$.fragment,A),Y($.$$.fragment,A),Y(O),N=!1},d(A){A&&(m(t),m(i),m(v),m(_)),de(e,A),de($),I[S].d(),q=!1,y()}}}function gs(n,e,t){let i,s;Se(n,Oe,d=>t(0,i=d)),Se(n,Ci,d=>t(3,s=d));var r=[];let l=!0;const o=()=>Oe.update(d=>d.clearLogs());function u(d){l=d,t(2,l)}const c=d=>_t(d),a=d=>Oe.update(v=>v.remove(d.detail));return n.$$.update=()=>{var d;n.$$.dirty&1&&t(1,r=((d=i==null?void 0:i.timerHistory)==null?void 0:d.list)||[])},[i,r,l,s,o,u,c,a]}class ps extends ve{constructor(e){super(),_e(this,e,gs,_s,me,{})}}function ks(n){const e=n-1;return e*e*e+1}function Tt(n,{delay:e=0,duration:t=400,easing:i=ks,x:s=0,y:r=0,opacity:l=0}={}){const o=getComputedStyle(n),u=+o.opacity,c=o.transform==="none"?"":o.transform,a=u*(1-l),[d,v]=rn(s),[_,w]=rn(r);return{delay:e,duration:t,easing:i,css:($,g)=>`
			transform: ${c} translate(${(1-$)*d}${v}, ${(1-$)*_}${w});
			opacity: ${u-a*g}`}}function ws(n){let e,t,i,s,r,l,o,u,c,a,d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},n[0]],v={};for(let _=0;_<d.length;_+=1)v=Xe(v,d[_]);return{c(){e=ye("svg"),t=ye("circle"),i=ye("line"),s=ye("line"),r=ye("line"),l=ye("line"),o=ye("line"),u=ye("line"),c=ye("line"),a=ye("line"),this.h()},l(_){e=Ce(_,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var w=b(e);t=Ce(w,"circle",{cx:!0,cy:!0,r:!0}),b(t).forEach(m),i=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(i).forEach(m),s=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(s).forEach(m),r=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(r).forEach(m),l=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(l).forEach(m),o=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(o).forEach(m),u=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(u).forEach(m),c=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(c).forEach(m),a=Ce(w,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(a).forEach(m),w.forEach(m),this.h()},h(){f(t,"cx","12"),f(t,"cy","12"),f(t,"r","5"),f(i,"x1","12"),f(i,"y1","1"),f(i,"x2","12"),f(i,"y2","3"),f(s,"x1","12"),f(s,"y1","21"),f(s,"x2","12"),f(s,"y2","23"),f(r,"x1","4.22"),f(r,"y1","4.22"),f(r,"x2","5.64"),f(r,"y2","5.64"),f(l,"x1","18.36"),f(l,"y1","18.36"),f(l,"x2","19.78"),f(l,"y2","19.78"),f(o,"x1","1"),f(o,"y1","12"),f(o,"x2","3"),f(o,"y2","12"),f(u,"x1","21"),f(u,"y1","12"),f(u,"x2","23"),f(u,"y2","12"),f(c,"x1","4.22"),f(c,"y1","19.78"),f(c,"x2","5.64"),f(c,"y2","18.36"),f(a,"x1","18.36"),f(a,"y1","5.64"),f(a,"x2","19.78"),f(a,"y2","4.22"),kt(e,v)},m(_,w){R(_,e,w),h(e,t),h(e,i),h(e,s),h(e,r),h(e,l),h(e,o),h(e,u),h(e,c),h(e,a)},p(_,[w]){kt(e,v=Dt(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},w&1&&_[0]]))},i:se,o:se,d(_){_&&m(e)}}}function bs(n,e,t){const i=[];let s=wt(e,i);return n.$$set=r=>{e=Xe(Xe({},e),Gn(r)),t(0,s=wt(e,i))},[s]}class Ts extends ve{constructor(e){super(),_e(this,e,bs,ws,me,{})}}function Es(n){let e,t,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},n[0]],s={};for(let r=0;r<i.length;r+=1)s=Xe(s,i[r]);return{c(){e=ye("svg"),t=ye("path"),this.h()},l(r){e=Ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var l=b(e);t=Ce(l,"path",{d:!0}),b(t).forEach(m),l.forEach(m),this.h()},h(){f(t,"d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"),kt(e,s)},m(r,l){R(r,e,l),h(e,t)},p(r,[l]){kt(e,s=Dt(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},l&1&&r[0]]))},i:se,o:se,d(r){r&&m(e)}}}function Ds(n,e,t){const i=[];let s=wt(e,i);return n.$$set=r=>{e=Xe(Xe({},e),Gn(r)),t(0,s=wt(e,i))},[s]}class Ss extends ve{constructor(e){super(),_e(this,e,Ds,Es,me,{})}}function Is(n){let e,t,i,s,r;return t=new Ts({}),{c(){e=p("div"),ce(t.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=b(e);ue(t.$$.fragment,o),o.forEach(m),this.h()},h(){f(e,"class","icon sun svelte-1u641rb")},m(l,o){R(l,e,o),fe(t,e,null),r=!0},i(l){r||(W(t.$$.fragment,l),l&&Wn(()=>{r&&(s&&s.end(1),i=qn(e,Tt,{y:20,duration:400}),i.start())}),r=!0)},o(l){Y(t.$$.fragment,l),i&&i.invalidate(),l&&(s=Kn(e,Tt,{y:-20,duration:400})),r=!1},d(l){l&&m(e),de(t),l&&s&&s.end()}}}function ys(n){let e,t,i,s,r;return t=new Ss({}),{c(){e=p("div"),ce(t.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=b(e);ue(t.$$.fragment,o),o.forEach(m),this.h()},h(){f(e,"class","icon moon svelte-1u641rb")},m(l,o){R(l,e,o),fe(t,e,null),r=!0},i(l){r||(W(t.$$.fragment,l),l&&Wn(()=>{r&&(s&&s.end(1),i=qn(e,Tt,{y:20,duration:400}),i.start())}),r=!0)},o(l){Y(t.$$.fragment,l),i&&i.invalidate(),l&&(s=Kn(e,Tt,{y:-20,duration:400})),r=!1},d(l){l&&m(e),de(t),l&&s&&s.end()}}}function Cs(n){let e,t,i,s,r,l,o,u;const c=[ys,Is],a=[];function d(v,_){return v[0]?0:1}return i=d(n),s=a[i]=c[i](n),{c(){e=p("button"),t=p("div"),s.c(),this.h()},l(v){e=k(v,"BUTTON",{class:!0,"aria-label":!0,title:!0});var _=b(e);t=k(_,"DIV",{class:!0});var w=b(t);s.l(w),w.forEach(m),_.forEach(m),this.h()},h(){f(t,"class","icon-container svelte-1u641rb"),f(e,"class","theme-toggle svelte-1u641rb"),f(e,"aria-label","Toggle dark mode"),f(e,"title",r=n[0]?"Switch to light mode":"Switch to dark mode")},m(v,_){R(v,e,_),h(e,t),a[i].m(t,null),l=!0,o||(u=G(e,"click",n[1]),o=!0)},p(v,[_]){let w=i;i=d(v),i!==w&&(Je(),Y(a[w],1,1,()=>{a[w]=null}),Ye(),s=a[i],s||(s=a[i]=c[i](v),s.c()),W(s,1),s.m(t,null)),(!l||_&1&&r!==(r=v[0]?"Switch to light mode":"Switch to dark mode"))&&f(e,"title",r)},i(v){l||(W(s),l=!0)},o(v){Y(s),l=!1},d(v){v&&m(e),a[i].d(),o=!1,u()}}}function Os(n,e,t){let i;Se(n,Bt,r=>t(0,i=r));function s(){Bt.update(r=>!r)}return[i,s]}class Ms extends ve{constructor(e){super(),_e(this,e,Os,Cs,me,{})}}function Ns(n){let e,t;return{c(){e=ye("svg"),t=ye("path"),this.h()},l(i){e=Ce(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var s=b(e);t=Ce(s,"path",{d:!0}),b(t).forEach(m),s.forEach(m),this.h()},h(){f(t,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(i,s){R(i,e,s),h(e,t)},p:se,i:se,o:se,d(i){i&&m(e)}}}class Vs extends ve{constructor(e){super(),_e(this,e,null,Ns,me,{})}}function As(n){let e,t,i,s,r,l,o,u,c,a,d="Let's Pomodoro!",v,_,w,$,g,C,P,S,O,N,q,y;o=new Vs({}),w=new Ms({});function V(D){n[11](D)}let E={debugFlag:n[0]};return n[1]!==void 0&&(E.remainedSeconds=n[1]),g=new Ji({props:E}),Ke.push(()=>Wt(g,"remainedSeconds",V)),g.$on("timer",n[5]),g.$on("current",n[6]),g.$on("cancel",n[7]),O=new ps({}),{c(){e=p("main"),t=p("div"),i=p("div"),s=p("div"),r=p("div"),l=p("button"),ce(o.$$.fragment),c=L(),a=p("h1"),a.textContent=d,v=L(),_=p("div"),ce(w.$$.fragment),$=L(),ce(g.$$.fragment),P=L(),S=p("div"),ce(O.$$.fragment),this.h()},l(D){e=k(D,"MAIN",{class:!0});var I=b(e);t=k(I,"DIV",{class:!0});var B=b(t);i=k(B,"DIV",{class:!0});var A=b(i);s=k(A,"DIV",{class:!0});var M=b(s);r=k(M,"DIV",{class:!0});var j=b(r);l=k(j,"BUTTON",{class:!0,title:!0});var K=b(l);ue(o.$$.fragment,K),K.forEach(m),j.forEach(m),c=H(M),a=k(M,"H1",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-cxq7y3"&&(a.textContent=d),v=H(M),_=k(M,"DIV",{class:!0});var Z=b(_);ue(w.$$.fragment,Z),Z.forEach(m),M.forEach(m),$=H(A),ue(g.$$.fragment,A),A.forEach(m),P=H(B),S=k(B,"DIV",{class:!0});var x=b(S);ue(O.$$.fragment,x),x.forEach(m),B.forEach(m),I.forEach(m),this.h()},h(){f(l,"class","icon-button svelte-svftym"),f(l,"title",u=n[4]?"Done":"Edit timers"),Ae(l,"active",n[4]),f(r,"class","edit-wrapper svelte-svftym"),f(a,"class","logo svelte-svftym"),f(_,"class","toggle-wrapper svelte-svftym"),f(s,"class","header-row svelte-svftym"),f(i,"class","pomodoro svelte-svftym"),f(S,"class","logs svelte-svftym"),f(t,"class","container svelte-svftym"),f(e,"class","svelte-svftym"),Ae(e,"dark",n[3])},m(D,I){R(D,e,I),h(e,t),h(t,i),h(i,s),h(s,r),h(r,l),fe(o,l,null),h(s,c),h(s,a),h(s,v),h(s,_),fe(w,_,null),h(i,$),fe(g,i,null),h(t,P),h(t,S),fe(O,S,null),N=!0,q||(y=G(l,"click",n[10]),q=!0)},p(D,I){(!N||I&16&&u!==(u=D[4]?"Done":"Edit timers"))&&f(l,"title",u),(!N||I&16)&&Ae(l,"active",D[4]);const B={};I&1&&(B.debugFlag=D[0]),!C&&I&2&&(C=!0,B.remainedSeconds=D[1],Gt(()=>C=!1)),g.$set(B),(!N||I&8)&&Ae(e,"dark",D[3])},i(D){N||(W(o.$$.fragment,D),W(w.$$.fragment,D),W(g.$$.fragment,D),W(O.$$.fragment,D),N=!0)},o(D){Y(o.$$.fragment,D),Y(w.$$.fragment,D),Y(g.$$.fragment,D),Y(O.$$.fragment,D),N=!1},d(D){D&&m(e),de(o),de(w),de(g),de(O),q=!1,y()}}}function js(n){let e;return{c(){e=p("main"),this.h()},l(t){e=k(t,"MAIN",{style:!0,class:!0}),b(e).forEach(m),this.h()},h(){F(e,"background-color","gray"),F(e,"height","90 vh"),f(e,"class","svelte-svftym")},m(t,i){R(t,e,i)},p:se,i:se,o:se,d(t){t&&m(e)}}}function $s(n){let e,t,i,s,r;const l=[js,As],o=[];function u(c,a){return c[2]?0:1}return e=u(n),t=o[e]=l[e](n),{c(){t.c(),i=L(),s=Te()},l(c){t.l(c),i=H(c),s=Te()},m(c,a){o[e].m(c,a),R(c,i,a),R(c,s,a),r=!0},p(c,[a]){let d=e;e=u(c),e===d?o[e].p(c,a):(Je(),Y(o[d],1,1,()=>{o[d]=null}),Ye(),t=o[e],t?t.p(c,a):(t=o[e]=l[e](c),t.c()),W(t,1),t.m(i.parentNode,i))},i(c){r||(W(t),r=!0)},o(c){Y(t),r=!1},d(c){c&&(m(i),m(s)),o[e].d(c)}}}function Ps(n,e,t){let i,s,r;Se(n,Bt,g=>t(3,i=g)),Se(n,Oe,g=>t(9,s=g)),Se(n,Ft,g=>t(4,r=g));let l=!1,o,u=!0,c;ii(()=>{c&&clearInterval(c)});function a(g){Oe.update(C=>C.addTimer(g.detail))}function d(g){Oe.update(C=>C.setActive(g.detail))}function v(){Oe.update(g=>g.resetActive())}zn(()=>{if(console.log("get darkmode:",i),s!=null&&s.active){const g=s.getRecoveryStatus(new Date,tt(l).timersMultiplier);g.shouldArchive?(Oe.update(C=>(C.active&&C.addTimer(C.active),C)),console.log("Timer expired beyond cap while closed, archived to history")):g.shouldResume?(Be.start(g.remainingMinutes,s.active.name,l),console.log("Resumed timer with",g.remainingMinutes,"minutes remaining")):console.log("Timer in overtime, resumed background monitoring")}t(2,u=!1)});const _=()=>Ft.update(g=>!g);function w(g){o=g,t(1,o)}function $(){l=this.checked,t(0,l)}return n.$$.update=()=>{n.$$.dirty&515&&s&&o!==void 0&&Oe.update(g=>(g.tick(new Date,tt(l).timersMultiplier),g)),n.$$.dirty&769&&(s!=null&&s.active?c||t(8,c=setInterval(()=>{Oe.update(g=>{const C=tt(l).timersMultiplier;return g.tick(new Date,C)&&Be.stop(),g})},1e3)):c&&(clearInterval(c),t(8,c=void 0)))},[l,o,u,i,r,a,d,v,c,s,_,w,$]}class Bs extends ve{constructor(e){super(),_e(this,e,Ps,$s,me,{})}}export{Bs as component};
