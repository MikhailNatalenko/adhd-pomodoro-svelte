var Cn=Object.defineProperty;var yn=(n,e,t)=>e in n?Cn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var te=(n,e,t)=>yn(n,typeof e!="symbol"?e+"":e,t);import{r as Re,s as le,c as dn,e as k,b as M,v as $e,d as T,f as N,i as _,j as A,y as v,k as j,T as B,u as mn,g as vn,a as gn,t as W,h as q,z,l as h,m as me,U as He,V as Bt,W as Ae,n as ne,X as H,Y as wt,A as Fe,Z as _e,o as Te,_ as _t,$ as On,x as pn,a0 as It,H as Nn,F as Ft,a1 as Mn,a2 as An,a3 as _n}from"../chunks/scheduler.Dcm1gJQ0.js";import{a as U,t as R,S as re,i as oe,b as Y,d as Z,m as Q,e as x,g as Le,c as Pe,f as Ct,h as xe}from"../chunks/index.DvOo2HUA.js";import{b as ze,w as ot,d as at}from"../chunks/paths.BuPzOcT-.js";function be(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function $n(n,e){n.d(1),e.delete(n.key)}function Ln(n,e){U(n,1,1,()=>{e.delete(n.key)})}function bn(n,e,t,s,i,r,l,o,u,c,a,f){let d=n.length,D=r.length,b=d;const E={};for(;b--;)E[n[b].key]=b;const p=[],m=new Map,C=new Map,g=[];for(b=D;b--;){const P=f(i,r,b),w=t(P);let S=l.get(w);S?g.push(()=>S.p(P,e)):(S=c(w,P),S.c()),m.set(w,p[b]=S),w in E&&C.set(w,Math.abs(b-E[w]))}const y=new Set,L=new Set;function $(P){R(P,1),P.m(o,a),l.set(P.key,P),a=P.first,D--}for(;d&&D;){const P=p[D-1],w=n[d-1],S=P.key,I=w.key;P===w?(a=P.first,d--,D--):m.has(I)?!l.has(S)||y.has(S)?$(P):L.has(I)?d--:C.get(S)>C.get(I)?(L.add(S),$(P)):(y.add(I),d--):(u(w,l),d--)}for(;d--;){const P=n[d];m.has(P.key)||u(P,l)}for(;D;)$(p[D-1]);return Re(g),p}function kn(n,e){const t={},s={},i={$$scope:1};let r=n.length;for(;r--;){const l=n[r],o=e[r];if(o){for(const u in l)u in o||(s[u]=1);for(const u in o)i[u]||(t[u]=o[u],i[u]=1);n[r]=o}else for(const u in l)i[u]=1}for(const l in s)l in t||(t[l]=void 0);return t}function Tn(n){return typeof n=="object"&&n!==null?n:{}}const Pn=ze+"/ring2.wav";let wn=function(){},We,bt,Sn=.5,et;if(typeof window<"u"){let n=window.AudioContext||window.webkitAudioContext;We=new n,fetch(Pn).then(e=>e.arrayBuffer()).then(e=>We.decodeAudioData(e)).then(e=>{bt=e}).catch(e=>console.error("Error loading sound file:",e)),wn=function(){if(!bt)return;et=We.createBufferSource(),et.buffer=bt;let e=We.createGain();e.gain.value=Sn,et.connect(e),e.connect(We.destination),et.start(0)}}function yt(){wn()}function jn(n,e){Sn=n,yt()}function zt(n){let e,t;return{c(){e=k("div"),t=W(n[0]),this.h()},l(s){e=T(s,"DIV",{style:!0,class:!0});var i=N(e);t=q(i,n[0]),i.forEach(_),this.h()},h(){z(e,"top",n[3]+"px"),z(e,"left",n[2]+"px"),v(e,"class","tooltip svelte-43gogz")},m(s,i){j(s,e,i),h(e,t)},p(s,i){i&1&&me(t,s[0]),i&8&&z(e,"top",s[3]+"px"),i&4&&z(e,"left",s[2]+"px")},d(s){s&&_(e)}}}function Vn(n){let e,t,s,i,r,l;const o=n[8].default,u=dn(o,n,n[7],null);let c=n[1]&&zt(n);return{c(){e=k("div"),u&&u.c(),t=M(),c&&c.c(),s=$e(),this.h()},l(a){e=T(a,"DIV",{"aria-hidden":!0});var f=N(e);u&&u.l(f),f.forEach(_),t=A(a),c&&c.l(a),s=$e(),this.h()},h(){v(e,"aria-hidden","true")},m(a,f){j(a,e,f),u&&u.m(e,null),j(a,t,f),c&&c.m(a,f),j(a,s,f),i=!0,r||(l=[B(e,"mouseover",n[4]),B(e,"mouseleave",n[6]),B(e,"mousemove",n[5]),B(e,"focus",Rn)],r=!0)},p(a,[f]){u&&u.p&&(!i||f&128)&&mn(u,o,a,a[7],i?gn(o,a[7],f,null):vn(a[7]),null),a[1]?c?c.p(a,f):(c=zt(a),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(a){i||(R(u,a),i=!0)},o(a){U(u,a),i=!1},d(a){a&&(_(e),_(t),_(s)),u&&u.d(a),c&&c.d(a),r=!1,Re(l)}}}const Rn=function(){};function Un(n,e,t){let{$$slots:s={},$$scope:i}=e,{title:r=""}=e,l=!1,o,u;function c(d){t(1,l=!0),t(2,o=d.pageX+10),t(3,u=d.pageY+10)}function a(d){t(2,o=d.pageX+10),t(3,u=d.pageY+10)}function f(){t(1,l=!1)}return n.$$set=d=>{"title"in d&&t(0,r=d.title),"$$scope"in d&&t(7,i=d.$$scope)},[r,l,o,u,c,a,f,i,s]}class Ot extends re{constructor(e){super(),oe(this,e,Un,Vn,le,{title:0})}}function Ht(n){let e=Math.floor(n/60),t=Math.floor(n%60).toString().padStart(2,"0"),s=e.toString().padStart(2,"0");if(e>60){let i=Math.floor(e/60);return s=Math.floor(e%60).toString().padStart(2,"0"),`${i}:${s}:${t}`}return`${s}:${t}`}function Gt(n){let e=Math.floor(n/60),t=Math.floor(n%60);if(e>60){let s=Math.floor(e/60);return e=Math.floor(e%60),`${s}h ${e} min`}else return e>0?`${e} min`:`${t} sec`}function Wt(n){let e=Math.floor(n/3600);e>0&&(n=n-e*3600);let t=Math.floor(n/60),s=Math.floor(n%60);return e==1?`${e} hour ${t} min`:e>0?`${e} hours ${t} min`:t>=5?`${t} min`:t>1?`${t} min ${s} sec`:`${s} sec`}class Bn{constructor(e,t,s,i=300){te(this,"intervalId",0);te(this,"duration",0);te(this,"start",0);te(this,"remain",0);te(this,"onSec",e=>{});te(this,"onAlarm",()=>{});this.duration=e,this.remain=e,e>0&&(this.onSec=t,this.onAlarm=s,this.start=Date.now(),this.intervalId=setInterval(()=>{const r=Math.ceil((Date.now()-this.start)/1e3);let l=this.duration-r;l!=this.remain&&(t(this.remain),this.remain=l,this.remain<=0&&(this.onAlarm(),clearInterval(this.intervalId)))},i))}stop(){clearInterval(this.intervalId)}}function Fn(n){let e,t=Ht(n[0])+"",s,i,r;return{c(){e=k("button"),s=W(t),this.h()},l(l){e=T(l,"BUTTON",{id:!0,class:!0});var o=N(e);s=q(o,t),o.forEach(_),this.h()},h(){v(e,"id","watch"),v(e,"class","svelte-1kj7nhv")},m(l,o){j(l,e,o),h(e,s),i||(r=B(e,"click",n[1]),i=!0)},p(l,o){o&1&&t!==(t=Ht(l[0])+"")&&me(s,t)},d(l){l&&_(e),i=!1,r()}}}function zn(n){let e,t;return e=new Ot({props:{title:"stop timer",$$slots:{default:[Fn]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,i){Q(e,s,i),t=!0},p(s,[i]){const r={};i&257&&(r.$$scope={dirty:i,ctx:s}),e.$set(r)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){U(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Hn(n,e,t){let{time:s=0}=e,{remainedSeconds:i=0}=e;var r;const l=He();function o(f){r!=null&&r.stop(),r=new Bn(f,u,c),t(0,i=f)}function u(f){t(0,i=f)}function c(){yt(),l("alarming")}function a(){l("stop")}return n.$$set=f=>{"time"in f&&t(2,s=f.time),"remainedSeconds"in f&&t(0,i=f.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&o(s)},[i,a,s]}class Gn extends re{constructor(e){super(),oe(this,e,Hn,zn,le,{time:2,remainedSeconds:0})}}function Wn(n){let e,t,s,i,r,l;return{c(){e=k("button"),t=W(n[1]),s=W(" min"),this.h()},l(o){e=T(o,"BUTTON",{class:!0});var u=N(e);t=q(u,n[1]),s=q(u," min"),u.forEach(_),this.h()},h(){v(e,"class",i=Bt(n[2])+" svelte-8w7xxt"),Ae(e,"pressed",n[0])},m(o,u){j(o,e,u),h(e,t),h(e,s),r||(l=B(e,"click",n[5]),r=!0)},p(o,[u]){u&2&&me(t,o[1]),u&4&&i!==(i=Bt(o[2])+" svelte-8w7xxt")&&v(e,"class",i),u&5&&Ae(e,"pressed",o[0])},i:ne,o:ne,d(o){o&&_(e),r=!1,l()}}}function qn(n,e,t){const s=He();let{value:i}=e,{name:r}=e,{pressed:l=!1}=e;function o(a,f){s("start",{name:a,val:f}),t(0,l=!0)}function u(){t(0,l=!1)}const c=function(){o(r,i)};return n.$$set=a=>{"value"in a&&t(1,i=a.value),"name"in a&&t(2,r=a.name),"pressed"in a&&t(0,l=a.pressed)},[l,i,r,o,u,c]}class En extends re{constructor(e){super(),oe(this,e,qn,Wn,le,{value:1,name:2,pressed:0,reset:4})}get reset(){return this.$$.ctx[4]}}const ie={WORK:"work",REST:"rest"},Kn={afterClockIntervalS:3,afterClockTimeoutS:10,timersMultiplier:1},Jn={afterClockIntervalS:10,afterClockTimeoutS:60*15,timersMultiplier:1*60};function St(n){return n?Kn:Jn}function qt(n,e,t){const s=n.slice();return s[9]=e[t],s[10]=e,s[11]=t,s}const Xn=n=>({}),Kt=n=>({class:"item svelte-1rvg6ah"});function Jt(n,e,t){const s=n.slice();return s[9]=e[t],s[12]=e,s[11]=t,s}function Xt(n){let e,t=n[11],s,i,r;const l=()=>n[6](e,t),o=()=>n[6](null,t);let u={value:n[9],name:ie.WORK};return e=new En({props:u}),l(),e.$on("start",n[2]),{c(){Y(e.$$.fragment),s=M(),i=k("br")},l(c){Z(e.$$.fragment,c),s=A(c),i=T(c,"BR",{})},m(c,a){Q(e,c,a),j(c,s,a),j(c,i,a),r=!0},p(c,a){t!==c[11]&&(o(),t=c[11],l());const f={};e.$set(f)},i(c){r||(R(e.$$.fragment,c),r=!0)},o(c){U(e.$$.fragment,c),r=!1},d(c){c&&(_(s),_(i)),o(),x(e,c)}}}function Yt(n){let e,t=n[11],s,i,r;const l=()=>n[7](e,t),o=()=>n[7](null,t);let u={value:n[9],name:ie.REST};return e=new En({props:u}),l(),e.$on("start",n[2]),{c(){Y(e.$$.fragment),s=M(),i=k("br")},l(c){Z(e.$$.fragment,c),s=A(c),i=T(c,"BR",{})},m(c,a){Q(e,c,a),j(c,s,a),j(c,i,a),r=!0},p(c,a){t!==c[11]&&(o(),t=c[11],l());const f={};e.$set(f)},i(c){r||(R(e.$$.fragment,c),r=!0)},o(c){U(e.$$.fragment,c),r=!1},d(c){c&&(_(s),_(i)),o(),x(e,c)}}}function Yn(n){let e,t,s,i,r="Active",l,o,u,c,a,f,d="Rest",D,b,E,p=be(n[1]),m=[];for(let w=0;w<p.length;w+=1)m[w]=Xt(Jt(n,p,w));const C=w=>U(m[w],1,1,()=>{m[w]=null}),g=n[5].default,y=dn(g,n,n[4],Kt);let L=be(n[1]),$=[];for(let w=0;w<L.length;w+=1)$[w]=Yt(qt(n,L,w));const P=w=>U($[w],1,1,()=>{$[w]=null});return{c(){e=k("div"),t=k("div"),s=k("div"),i=k("span"),i.textContent=r,l=k("br"),o=M();for(let w=0;w<m.length;w+=1)m[w].c();u=M(),y&&y.c(),c=M(),a=k("div"),f=k("span"),f.textContent=d,D=k("br"),b=M();for(let w=0;w<$.length;w+=1)$[w].c();this.h()},l(w){e=T(w,"DIV",{});var S=N(e);t=T(S,"DIV",{class:!0});var I=N(t);s=T(I,"DIV",{class:!0});var O=N(s);i=T(O,"SPAN",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-19szg5l"&&(i.textContent=r),l=T(O,"BR",{}),o=A(O);for(let ee=0;ee<m.length;ee+=1)m[ee].l(O);O.forEach(_),u=A(I),y&&y.l(I),c=A(I),a=T(I,"DIV",{class:!0});var F=N(a);f=T(F,"SPAN",{class:!0,"data-svelte-h":!0}),H(f)!=="svelte-1gtata5"&&(f.textContent=d),D=T(F,"BR",{}),b=A(F);for(let ee=0;ee<$.length;ee+=1)$[ee].l(F);F.forEach(_),I.forEach(_),S.forEach(_),this.h()},h(){v(i,"class","label svelte-1rvg6ah"),v(s,"class","item svelte-1rvg6ah"),v(f,"class","label svelte-1rvg6ah"),v(a,"class","item svelte-1rvg6ah"),v(t,"class","grid-container svelte-1rvg6ah")},m(w,S){j(w,e,S),h(e,t),h(t,s),h(s,i),h(s,l),h(s,o);for(let I=0;I<m.length;I+=1)m[I]&&m[I].m(s,null);h(t,u),y&&y.m(t,null),h(t,c),h(t,a),h(a,f),h(a,D),h(a,b);for(let I=0;I<$.length;I+=1)$[I]&&$[I].m(a,null);E=!0},p(w,[S]){if(S&7){p=be(w[1]);let I;for(I=0;I<p.length;I+=1){const O=Jt(w,p,I);m[I]?(m[I].p(O,S),R(m[I],1)):(m[I]=Xt(O),m[I].c(),R(m[I],1),m[I].m(s,null))}for(Le(),I=p.length;I<m.length;I+=1)C(I);Pe()}if(y&&y.p&&(!E||S&16)&&mn(y,g,w,w[4],E?gn(g,w[4],S,Xn):vn(w[4]),Kt),S&7){L=be(w[1]);let I;for(I=0;I<L.length;I+=1){const O=qt(w,L,I);$[I]?($[I].p(O,S),R($[I],1)):($[I]=Yt(O),$[I].c(),R($[I],1),$[I].m(a,null))}for(Le(),I=L.length;I<$.length;I+=1)P(I);Pe()}},i(w){if(!E){for(let S=0;S<p.length;S+=1)R(m[S]);R(y,w);for(let S=0;S<L.length;S+=1)R($[S]);E=!0}},o(w){m=m.filter(Boolean);for(let S=0;S<m.length;S+=1)U(m[S]);U(y,w),$=$.filter(Boolean);for(let S=0;S<$.length;S+=1)U($[S]);E=!1},d(w){w&&_(e),wt(m,w),y&&y.d(w),wt($,w)}}}function Zn(n,e,t){let{$$slots:s={},$$scope:i}=e;const r=He();let l=[],o=[5,10,15,20,25,120];function u(d){r("start",{timer:d.detail.val,name:d.detail.name}),console.log("handleTimerStart")}function c(){l.forEach(d=>{d&&d.reset()})}function a(d,D){Fe[d?"unshift":"push"](()=>{l[D]=d,t(0,l)})}function f(d,D){Fe[d?"unshift":"push"](()=>{l[D+l.length]=d,t(0,l)})}return n.$$set=d=>{"$$scope"in d&&t(4,i=d.$$scope)},[l,o,u,c,i,s,a,f]}class Qn extends re{constructor(e){super(),oe(this,e,Zn,Yn,le,{clear:3})}get clear(){return this.$$.ctx[3]}}/*! js-cookie v3.0.5 | MIT */function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)n[s]=t[s]}return n}var xn={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Et(n,e){function t(i,r,l){if(!(typeof document>"u")){l=tt({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in l)l[u]&&(o+="; "+u,l[u]!==!0&&(o+="="+l[u].split(";")[0]));return document.cookie=i+"="+n.write(r,i)+o}}function s(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var r=document.cookie?document.cookie.split("; "):[],l={},o=0;o<r.length;o++){var u=r[o].split("="),c=u.slice(1).join("=");try{var a=decodeURIComponent(u[0]);if(l[a]=n.read(c,a),i===a)break}catch{}}return i?l[i]:l}}return Object.create({set:t,get:s,remove:function(i,r){t(i,"",tt({},r,{expires:-1}))},withAttributes:function(i){return Et(this.converter,tt({},this.attributes,i))},withConverter:function(i){return Et(tt({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var lt=Et(xn,{path:"/"});class Ve{constructor(e=0,t="",s=new Date,i=new Date){te(this,"start");te(this,"finish");te(this,"name");te(this,"value");this.start=s,this.finish=i,this.name=t,this.value=e}setDuration(e){this.finish=new Date(this.start.getTime()+e*1e3)}durationS(){return(this.finish.getTime()-this.start.getTime())/1e3}}const X={RUNNING:"RUNNING",STOPPED:"STOPPED",WAITING_FOR_STOP:"WAITING_FOR_STOP"};var Me=(n=>(n[n.EMIT=1]="EMIT",n[n.DO_NOT_EMIT=2]="DO_NOT_EMIT",n))(Me||{});let Dn=60,es=5*60;function Nt(n,e,t=Dn){return(e.start.getTime()-n.finish.getTime())/1e3>t}function ts(n,e=Dn){var t=[],s=0;if(n.length<=1)return n;t.push(n[0]),s=0;for(let i=1;i<n.length;i++){const r=n[i];if(t[s].name!=r.name){t.push(r),s++;continue}Nt(t[s],r,e)?(t.push(r),s++):t[s].finish=r.finish}return t}function kt(n,e=ie.REST,t=es){var s=[],i=0;if(n.length<=1)return n;s.push(n[0]),i=0;for(let l=1;l<n.length;l++){const o=n[l];if(Nt(s[i],o,t)){var r=new Ve(0,e,s[i].finish,o.start);s.push(r),i++}s.push(o),i++}return s}function ns(n){return n.forEach(e=>{if(!("name"in e&&"start"in e&&"finish"in e))return!1}),!0}function ss(n){let e=[];try{const t=JSON.parse(n);let s=[];ns(t)&&t.forEach(i=>{s.push(new Ve(0,i.name,new Date(i.start*1e3),new Date(i.finish*1e3)))}),console.log("deserialized logs:",s),e=s}catch{e=[]}return new Dt(e)}class Dt{constructor(e){te(this,"additionalS",0);te(this,"list",[]);this.list=kt(e,ie.REST)}normalize(e){var t=kt(this.list,ie.REST);return e&&(t=ts(t)),t}serialize(){let e=[];return this.list.forEach(t=>{e.push({name:t.name,start:Math.floor(t.start.getTime()/1e3),finish:Math.floor(t.finish.getTime()/1e3)})}),console.log("Serializing logs:",JSON.stringify(e)),JSON.stringify(e)}addTimer(e){return this.list.length>0&&this.list[this.list.length-1].start==e.start?(this.list[this.list.length-1].finish=e.finish,this.list=this.list,this):(this.list.push(e),this)}changeLineType(e){return this.list.forEach(t=>{t.start===e&&(t.name=t.name===ie.REST?ie.WORK:ie.REST)}),this}remove(e){for(var t=0;t<this.list.length;)this.list[t].start===e?this.list.splice(t,1):++t}total(){let e=0;return this.list.forEach(t=>{t.name==ie.WORK&&(e+=t.durationS())}),e}fillGaps(e=new Ve){if(this.list=kt(this.list),this.list.length>0){let t=this.list[this.list.length-1];Nt(t,e)&&this.list.push(new Ve(0,ie.REST,t.finish,e.start))}return this}addDurSec(e){return this.additionalS+=e,this}getAdditional(){return this.additionalS}}class is{constructor(){te(this,"timerHistory");te(this,"active");this.timerHistory=new Dt([])}addTimer(e){return this.active=void 0,this.timerHistory.addTimer(e),this}remove(e){return this.timerHistory.remove(e),this}changeLineType(e){return this.timerHistory.changeLineType(e),this}clearLogs(){return this.timerHistory=new Dt([]),this}resetActive(){return this.active=void 0,this}setActiveDur(e){return this.active?(this.active.finish=new Date,this):this}setActive(e){return this.active=e,this.timerHistory.fillGaps(),this}totalTime(){let e=this.timerHistory.total();return this.active&&this.active.name==ie.WORK&&(e+=this.active.durationS()),e}}function Mt(n,e,t={storage:"cookies",cookieExpireDays:31}){const s=t.serialize||JSON.stringify,i=t.deserialize||JSON.parse;let r=e;try{const o=t.storage==="cookies"?lt.get(n):localStorage.getItem(n);o&&(r=i(o))}catch(o){console.warn(`Failed to load ${n} from ${t.storage}:`,o)}const l=ot(r);return l.subscribe(o=>{try{const u=s(o);t.storage==="cookies"?lt.set(n,u,{expires:t.cookieExpireDays||31}):localStorage.setItem(n,u)}catch(u){console.warn(`Failed to save ${n} to ${t.storage}:`,u)}}),l}function ls(){let n=new is;{const t=lt.get("logs");console.log("Loading pomApp from cookies:",t),t&&(n.timerHistory=ss(t))}const e=ot(n);return e.subscribe(t=>{const s=t.timerHistory.serialize();lt.set("logs",s,{expires:31}),console.log("Saved pomApp to cookies")}),e}const de=ls(),Zt=Mt("darkmode",!1,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),Qt=Mt("raw_view",!1,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),rs=at(de,n=>n.totalTime()),nt=Mt("volume",10,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>parseInt(n,10)});function os(n){let e,t,s,i=`<img src="${ze}/volume_mute.svg" alt="Mute icon"/>`,r,l,o,u,c=`<img src="${ze}/volume_up.svg" alt="Volume max icon"/>`,a,f;return{c(){e=k("label"),t=k("div"),s=k("button"),s.innerHTML=i,r=M(),l=k("input"),o=M(),u=k("button"),u.innerHTML=c,this.h()},l(d){e=T(d,"LABEL",{});var D=N(e);t=T(D,"DIV",{class:!0});var b=N(t);s=T(b,"BUTTON",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-t9bnpg"&&(s.innerHTML=i),r=A(b),l=T(b,"INPUT",{class:!0,type:!0,min:!0,max:!0}),o=A(b),u=T(b,"BUTTON",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-yorq7f"&&(u.innerHTML=c),b.forEach(_),D.forEach(_),this.h()},h(){v(s,"class","leftbutton svelte-1vsc329"),v(l,"class","slider bar svelte-1vsc329"),v(l,"type","range"),v(l,"min","0"),v(l,"max","100"),v(u,"class","svelte-1vsc329"),v(t,"class","container svelte-1vsc329")},m(d,D){j(d,e,D),h(e,t),h(t,s),h(t,r),h(t,l),_e(l,n[0]),h(t,o),h(t,u),a||(f=[B(s,"click",n[2]),B(l,"change",n[5]),B(l,"input",n[5]),B(l,"mouseup",n[1]),B(u,"click",n[3])],a=!0)},p(d,[D]){D&1&&_e(l,d[0])},i:ne,o:ne,d(d){d&&_(e),a=!1,Re(f)}}}function as(n,e,t){let s;Te(n,nt,c=>t(4,s=c));let i=s;function r(c){_t(nt,s=parseInt(c.target.value,10),s)}function l(){_t(nt,s=0,s)}function o(){_t(nt,s=100,s)}function u(){i=On(this.value),t(0,i),t(4,s)}return n.$$.update=()=>{n.$$.dirty&16&&(console.log("volume",s),jn(s/100),t(0,i=s))},[i,r,l,o,s,u]}class cs extends re{constructor(e){super(),oe(this,e,as,os,le,{})}}function us(n,e,t){const s=He();let{debugFlag:i}=e,{active:r=!0}=e,l=0,o=0;function u(a){console.log("run annoyer",a),clearInterval(l),clearTimeout(o),a&&(l=setInterval(()=>{yt(),r||clearInterval(l)},St(i).afterClockIntervalS*1e3),o=setTimeout(()=>{t(0,r=!1),clearInterval(l),c()},St(i).afterClockTimeoutS*1e3))}function c(){s("off")}return n.$$set=a=>{"debugFlag"in a&&t(1,i=a.debugFlag),"active"in a&&t(0,r=a.active)},n.$$.update=()=>{n.$$.dirty&1&&u(r)},[r,i]}class fs extends re{constructor(e){super(),oe(this,e,us,null,le,{debugFlag:1,active:0})}}const xt=ze+"/tea.png",hs=ze+"/clock_red.png",ds=ze+"/clock_yellow.png";function ms(n){if(console.log("changeFavicon",n),typeof document>"u"||document===null)return;const e=document.getElementById("favicon");if(e!==null)switch(n){case X.STOPPED:e.href=xt;break;case X.RUNNING:e.href=hs;break;case X.WAITING_FOR_STOP:e.href=ds;break;default:e.href=xt}}function vs(){const{subscribe:n,set:e,update:t}=ot({state:X.STOPPED,currentTimer:new Ve,clockDuration:0});return{subscribe:n,start:(s,i,r)=>{const l=St(r).timersMultiplier;t(o=>({state:X.RUNNING,currentTimer:new Ve(s,i),clockDuration:s*l}))},alarm:s=>{t(i=>{if(s){const r=Object.assign(Object.create(Object.getPrototypeOf(i.currentTimer)),i.currentTimer,{finish:new Date});return{...i,state:X.STOPPED,clockDuration:0,currentTimer:r}}else return{...i,state:X.WAITING_FOR_STOP}})},stop:()=>{t(s=>{const i=Object.assign(Object.create(Object.getPrototypeOf(s.currentTimer)),s.currentTimer,{finish:new Date});return{...s,state:X.STOPPED,clockDuration:0,currentTimer:i}})},reset:()=>{e({state:X.STOPPED,currentTimer:new Ve,clockDuration:0})}}}const je=vs(),gs=at(je,n=>n.state),ps=at(je,n=>n.currentTimer),_s=at(je,n=>n.clockDuration);function bs(n){let e,t,s;return e=new cs({}),{c(){Y(e.$$.fragment),t=k("br")},l(i){Z(e.$$.fragment,i),t=T(i,"BR",{})},m(i,r){Q(e,i,r),j(i,t,r),s=!0},p:ne,i(i){s||(R(e.$$.fragment,i),s=!0)},o(i){U(e.$$.fragment,i),s=!1},d(i){i&&_(t),x(e,i)}}}function en(n){let e,t;return e=new Ot({props:{title:"stop and don't save logs",$$slots:{default:[ks]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,i){Q(e,s,i),t=!0},p(s,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:s}),e.$set(r)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){U(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function ks(n){let e,t="cancel",s,i,r,l;return{c(){e=k("button"),e.textContent=t,s=M(),i=k("br"),this.h()},l(o){e=T(o,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1wi9d3u"&&(e.textContent=t),s=A(o),i=T(o,"BR",{}),this.h()},h(){v(e,"id","stopper"),v(e,"class","svelte-1viwsah")},m(o,u){j(o,e,u),j(o,s,u),j(o,i,u),r||(l=B(e,"click",n[8]),r=!0)},p:ne,d(o){o&&(_(e),_(s),_(i)),r=!1,l()}}}function Ts(n){let e,t,s,i,r,l,o;function u(f){n[10](f)}let c={time:n[4]};n[0]!==void 0&&(c.remainedSeconds=n[0]),t=new Gn({props:c}),Fe.push(()=>Ct(t,"remainedSeconds",u)),t.$on("alarming",n[6]),t.$on("stop",n[9]),r=new Ot({props:{title:"Volume",$$slots:{default:[bs]},$$scope:{ctx:n}}});let a=n[2]!==X.STOPPED&&en(n);return{c(){e=k("div"),Y(t.$$.fragment),i=M(),Y(r.$$.fragment),l=M(),a&&a.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var d=N(e);Z(t.$$.fragment,d),i=A(d),Z(r.$$.fragment,d),l=A(d),a&&a.l(d),d.forEach(_),this.h()},h(){v(e,"class","clock svelte-1viwsah")},m(f,d){j(f,e,d),Q(t,e,null),h(e,i),Q(r,e,null),h(e,l),a&&a.m(e,null),o=!0},p(f,d){const D={};d&16&&(D.time=f[4]),!s&&d&1&&(s=!0,D.remainedSeconds=f[0],It(()=>s=!1)),t.$set(D);const b={};d&65536&&(b.$$scope={dirty:d,ctx:f}),r.$set(b),f[2]!==X.STOPPED?a?(a.p(f,d),d&4&&R(a,1)):(a=en(f),a.c(),R(a,1),a.m(e,null)):a&&(Le(),U(a,1,1,()=>{a=null}),Pe())},i(f){o||(R(t.$$.fragment,f),R(r.$$.fragment,f),R(a),o=!0)},o(f){U(t.$$.fragment,f),U(r.$$.fragment,f),U(a),o=!1},d(f){f&&_(e),x(t),x(r),a&&a.d()}}}function ws(n){let e,t,s,i,r={$$slots:{default:[Ts]},$$scope:{ctx:n}};return e=new Qn({props:r}),n[11](e),e.$on("start",n[5]),e.$on("stop",n[12]),s=new fs({props:{active:n[2]===X.WAITING_FOR_STOP,debugFlag:n[1]}}),s.$on("off",n[13]),{c(){Y(e.$$.fragment),t=M(),Y(s.$$.fragment)},l(l){Z(e.$$.fragment,l),t=A(l),Z(s.$$.fragment,l)},m(l,o){Q(e,l,o),j(l,t,o),Q(s,l,o),i=!0},p(l,[o]){const u={};o&65557&&(u.$$scope={dirty:o,ctx:l}),e.$set(u);const c={};o&4&&(c.active=l[2]===X.WAITING_FOR_STOP),o&2&&(c.debugFlag=l[1]),s.$set(c)},i(l){i||(R(e.$$.fragment,l),R(s.$$.fragment,l),i=!0)},o(l){U(e.$$.fragment,l),U(s.$$.fragment,l),i=!1},d(l){l&&_(t),n[11](null),x(e,l),x(s,l)}}}function Ss(n,e,t){let s,i,r;Te(n,gs,g=>t(2,s=g)),Te(n,ps,g=>t(14,i=g)),Te(n,_s,g=>t(4,r=g));const l=He();let{debugFlag:o}=e,{remainedSeconds:u}=e,c;function a(g){s===X.RUNNING&&d(Me.EMIT),je.start(g.detail.timer,g.detail.name,o),l("current",i)}function f(){const g=typeof document<"u"&&document.visibilityState==="visible";je.alarm(g),g&&(c&&c.clear(),l("timer",i))}function d(g=Me.EMIT){je.stop(),c&&c.clear(),g===Me.EMIT&&l("timer",i)}function D(){je.reset(),c&&c.clear(),l("cancel")}function b(){s!==X.STOPPED&&d(Me.EMIT)}pn(()=>{document.addEventListener("visibilitychange",function(){s===X.WAITING_FOR_STOP&&document.visibilityState==="visible"&&(console.log("visibility change to visible"),d(Me.EMIT))})});function E(g){u=g,t(0,u)}function p(g){Fe[g?"unshift":"push"](()=>{c=g,t(3,c)})}const m=()=>d(Me.DO_NOT_EMIT),C=()=>d(Me.DO_NOT_EMIT);return n.$$set=g=>{"debugFlag"in g&&t(1,o=g.debugFlag),"remainedSeconds"in g&&t(0,u=g.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&ms(s)},[u,o,s,c,r,a,f,d,D,b,E,p,m,C]}class Es extends re{constructor(e){super(),oe(this,e,Ss,ws,le,{debugFlag:1,remainedSeconds:0})}}function st(n,{delay:e=0,duration:t=400,easing:s=Nn}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*i}`}}function Ds(n){let e;return{c(){e=W("Active for")},l(t){e=q(t,"Active for")},m(t,s){j(t,e,s)},d(t){t&&_(e)}}}function Is(n){let e;return{c(){e=W("Rest for")},l(t){e=q(t,"Rest for")},m(t,s){j(t,e,s)},d(t){t&&_(e)}}}function tn(n){let e,t,s,i,r,l,o,u,c,a;return{c(){e=k("button"),t=W("ch"),i=M(),r=k("button"),l=W("x"),this.h()},l(f){e=T(f,"BUTTON",{class:!0});var d=N(e);t=q(d,"ch"),d.forEach(_),i=A(f),r=T(f,"BUTTON",{class:!0});var D=N(r);l=q(D,"x"),D.forEach(_),this.h()},h(){v(e,"class","mini svelte-i9m2em"),e.hidden=n[1],v(r,"class","mini cross svelte-i9m2em"),r.hidden=n[1]},m(f,d){j(f,e,d),h(e,t),j(f,i,d),j(f,r,d),h(r,l),u=!0,c||(a=[B(e,"click",n[10]),B(r,"click",n[11])],c=!0)},p(f,d){(!u||d&2)&&(e.hidden=f[1]),(!u||d&2)&&(r.hidden=f[1])},i(f){u||(f&&Ft(()=>{u&&(s||(s=xe(e,st,{duration:100},!0)),s.run(1))}),f&&Ft(()=>{u&&(o||(o=xe(r,st,{duration:100},!0)),o.run(1))}),u=!0)},o(f){f&&(s||(s=xe(e,st,{duration:100},!1)),s.run(0)),f&&(o||(o=xe(r,st,{duration:100},!1)),o.run(0)),u=!1},d(f){f&&(_(e),_(i),_(r)),f&&s&&s.end(),f&&o&&o.end(),c=!1,Re(a)}}}function Cs(n){let e,t,s,i,r,l,o,u=Gt(n[4])+"",c,a;function f(E,p){return E[3]?Is:Ds}let d=f(n),D=d(n),b=n[1]&&!n[2]&&tn(n);return{c(){e=k("snap"),t=k("snap"),s=W(n[5]),i=M(),r=k("snap"),D.c(),l=M(),o=k("snap"),c=W(u),a=M(),b&&b.c(),this.h()},l(E){e=T(E,"SNAP",{class:!0});var p=N(e);t=T(p,"SNAP",{class:!0});var m=N(t);s=q(m,n[5]),m.forEach(_),i=A(p),r=T(p,"SNAP",{});var C=N(r);D.l(C),C.forEach(_),l=A(p),o=T(p,"SNAP",{class:!0});var g=N(o);c=q(g,u),g.forEach(_),a=A(p),b&&b.l(p),p.forEach(_),this.h()},h(){v(t,"class","time work svelte-i9m2em"),v(o,"class","duration svelte-i9m2em"),v(e,"class","logline svelte-i9m2em"),Ae(e,"topLog",n[2]),Ae(e,"rest",n[3])},m(E,p){j(E,e,p),h(e,t),h(t,s),h(e,i),h(e,r),D.m(r,null),h(e,l),h(e,o),h(o,c),h(e,a),b&&b.m(e,null)},p(E,[p]){d!==(d=f(E))&&(D.d(1),D=d(E),D&&(D.c(),D.m(r,null))),p&16&&u!==(u=Gt(E[4])+"")&&me(c,u),E[1]&&!E[2]?b?(b.p(E,p),p&6&&R(b,1)):(b=tn(E),b.c(),R(b,1),b.m(e,null)):b&&(Le(),U(b,1,1,()=>{b=null}),Pe()),p&4&&Ae(e,"topLog",E[2]),p&8&&Ae(e,"rest",E[3])},i(E){R(b)},o(E){U(b)},d(E){E&&_(e),D.d(),b&&b.d()}}}function ys(n){let e=n.getHours().toString().padStart(2,"0"),t=n.getMinutes().toString().padStart(2,"0");return`${e}:${t}`}function Os(n,e,t){let s,i;const r=He();let{start:l}=e,{finish:o}=e,{name:u}=e,{rawView:c}=e,{topLog:a=!1}=e,f=ys(l);function d(p){r("change",p)}function D(p){r("remove",p)}const b=()=>d(l),E=()=>D(l);return n.$$set=p=>{"start"in p&&t(0,l=p.start),"finish"in p&&t(8,o=p.finish),"name"in p&&t(9,u=p.name),"rawView"in p&&t(1,c=p.rawView),"topLog"in p&&t(2,a=p.topLog)},n.$$.update=()=>{n.$$.dirty&257&&t(4,s=(o.getTime()-l.getTime())/1e3),n.$$.dirty&512&&t(3,i=u===ie.REST)},[l,c,a,i,s,f,d,D,o,u,b,E]}class In extends re{constructor(e){super(),oe(this,e,Os,Cs,le,{start:0,finish:8,name:9,rawView:1,topLog:2})}}const At=ot(null);function Ns(n){At.set(n)}function it(){At.set(null)}function Tt(n){const e=n.slice(),t=e[7](e[1]);e[14]=t;const s=e[8](e[1]);e[15]=s;const i=e[9](e[1],e[4]);return e[16]=i,e}function nn(n,e,t){const s=n.slice();s[17]=e[t];const i=s[7](s[17]);s[14]=i;const r=s[8](s[17]);s[15]=r;const l=s[9](s[17],s[0]);s[16]=l;const o=parseFloat(s[14].width);s[18]=o;const u=!s[15]&&s[18]<.5?"2px":s[14].width;return s[19]=u,s}function sn(n,e,t){const s=n.slice();return s[22]=e[t],s}function ln(n){let e;return{c(){e=k("div"),this.h()},l(t){e=T(t,"DIV",{class:!0,style:!0,title:!0}),N(e).forEach(_),this.h()},h(){v(e,"class","future-overlay svelte-tywv71"),z(e,"left",n[5].left),z(e,"width",n[5].width),v(e,"title","Future time")},m(t,s){j(t,e,s)},p(t,s){s&32&&z(e,"left",t[5].left),s&32&&z(e,"width",t[5].width)},d(t){t&&_(e)}}}function rn(n){let e,t,s=n[22].label+"",i,r;return{c(){e=k("div"),t=k("div"),i=W(s),r=M(),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0});var o=N(e);t=T(o,"DIV",{class:!0});var u=N(t);i=q(u,s),u.forEach(_),r=A(o),o.forEach(_),this.h()},h(){v(t,"class","grid-label svelte-tywv71"),v(e,"class","grid-line svelte-tywv71"),z(e,"left",n[22].position+"%")},m(l,o){j(l,e,o),h(e,t),h(t,i),h(e,r)},p(l,o){o&64&&s!==(s=l[22].label+"")&&me(i,s),o&64&&z(e,"left",l[22].position+"%")},d(l){l&&_(e)}}}function on(n,e){let t,s,i,r,l;function o(){return e[11](e[17])}return{key:n,first:null,c(){t=k("div"),this.h()},l(u){t=T(u,"DIV",{class:!0,style:!0,title:!0}),N(t).forEach(_),this.h()},h(){v(t,"class",s="timer-block "+(e[15]?e[16]?"overtime":"work":"rest")+" svelte-tywv71"),z(t,"left",e[14].left),z(t,"width",e[19]),z(t,"min-width",e[15]?"0":"2px"),z(t,"cursor","pointer"),v(t,"title",i=ke(e[17].start)+" - "+ke(e[17].finish)+" ("+rt(e[17])+")"+(e[16]?" ⚠️ Overtime":"")),this.first=t},m(u,c){j(u,t,c),r||(l=B(t,"click",o),r=!0)},p(u,c){e=u,c&1&&s!==(s="timer-block "+(e[15]?e[16]?"overtime":"work":"rest")+" svelte-tywv71")&&v(t,"class",s),c&1&&z(t,"left",e[14].left),c&1&&z(t,"width",e[19]),c&1&&z(t,"min-width",e[15]?"0":"2px"),c&1&&i!==(i=ke(e[17].start)+" - "+ke(e[17].finish)+" ("+rt(e[17])+")"+(e[16]?" ⚠️ Overtime":""))&&v(t,"title",i)},d(u){u&&_(t),r=!1,l()}}}function an(n){let e,t,s;return{c(){e=k("div"),this.h()},l(i){e=T(i,"DIV",{class:!0,style:!0,title:!0}),N(e).forEach(_),this.h()},h(){v(e,"class",t="timer-block active "+(n[15]?n[16]?"overtime":"work":"rest")+" svelte-tywv71"),z(e,"left",n[14].left),z(e,"width",n[14].width),v(e,"title",s="Active: "+ke(n[1].start)+" - now ("+rt(n[1])+")"+(n[16]?" ⚠️ Overtime":""))},m(i,r){j(i,e,r)},p(i,r){r&18&&t!==(t="timer-block active "+(i[15]?i[16]?"overtime":"work":"rest")+" svelte-tywv71")&&v(e,"class",t),r&2&&z(e,"left",i[14].left),r&2&&z(e,"width",i[14].width),r&18&&s!==(s="Active: "+ke(i[1].start)+" - now ("+rt(i[1])+")"+(i[16]?" ⚠️ Overtime":""))&&v(e,"title",s)},d(i){i&&_(e)}}}function Ms(n){let e,t,s='<span class="timeline-title svelte-tywv71">Timeline</span> <div class="legend svelte-tywv71"><span class="legend-item svelte-tywv71"><span class="legend-color work svelte-tywv71"></span> <span>Work</span></span> <span class="legend-item svelte-tywv71"><span class="legend-color overtime svelte-tywv71"></span> <span>Overtime</span></span> <span class="legend-item svelte-tywv71"><span class="legend-color rest svelte-tywv71"></span> <span>Rest</span></span></div>',i,r,l,o=ke(new Date(n[2]))+"",u,c,a,f=ke(new Date(n[3]))+"",d,D,b,E,p=[],m=new Map,C,g=n[5].visible&&ln(n),y=be(n[6]),L=[];for(let S=0;S<y.length;S+=1)L[S]=rn(sn(n,y,S));let $=be(n[0]);const P=S=>S[17].start;for(let S=0;S<$.length;S+=1){let I=nn(n,$,S),O=P(I);m.set(O,p[S]=on(O,I))}let w=n[1]&&an(Tt(n));return{c(){e=k("div"),t=k("div"),t.innerHTML=s,i=M(),r=k("div"),l=k("div"),u=W(o),c=M(),a=k("div"),d=W(f),D=M(),g&&g.c(),b=M();for(let S=0;S<L.length;S+=1)L[S].c();E=M();for(let S=0;S<p.length;S+=1)p[S].c();C=M(),w&&w.c(),this.h()},l(S){e=T(S,"DIV",{class:!0});var I=N(e);t=T(I,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1xacswk"&&(t.innerHTML=s),i=A(I),r=T(I,"DIV",{class:!0});var O=N(r);l=T(O,"DIV",{class:!0});var F=N(l);u=q(F,o),F.forEach(_),c=A(O),a=T(O,"DIV",{class:!0});var ee=N(a);d=q(ee,f),ee.forEach(_),D=A(O),g&&g.l(O),b=A(O);for(let se=0;se<L.length;se+=1)L[se].l(O);E=A(O);for(let se=0;se<p.length;se+=1)p[se].l(O);C=A(O),w&&w.l(O),O.forEach(_),I.forEach(_),this.h()},h(){v(t,"class","timeline-header svelte-tywv71"),v(l,"class","time-label start svelte-tywv71"),v(a,"class","time-label end svelte-tywv71"),v(r,"class","timeline-bar svelte-tywv71"),v(e,"class","timeline-container svelte-tywv71")},m(S,I){j(S,e,I),h(e,t),h(e,i),h(e,r),h(r,l),h(l,u),h(r,c),h(r,a),h(a,d),h(r,D),g&&g.m(r,null),h(r,b);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m(r,null);h(r,E);for(let O=0;O<p.length;O+=1)p[O]&&p[O].m(r,null);h(r,C),w&&w.m(r,null)},p(S,[I]){if(I&4&&o!==(o=ke(new Date(S[2]))+"")&&me(u,o),I&8&&f!==(f=ke(new Date(S[3]))+"")&&me(d,f),S[5].visible?g?g.p(S,I):(g=ln(S),g.c(),g.m(r,b)):g&&(g.d(1),g=null),I&64){y=be(S[6]);let O;for(O=0;O<y.length;O+=1){const F=sn(S,y,O);L[O]?L[O].p(F,I):(L[O]=rn(F),L[O].c(),L[O].m(r,E))}for(;O<L.length;O+=1)L[O].d(1);L.length=y.length}I&897&&($=be(S[0]),p=bn(p,I,P,1,S,$,m,r,$n,on,C,nn)),S[1]?w?w.p(Tt(S),I):(w=an(Tt(S)),w.c(),w.m(r,null)):w&&(w.d(1),w=null)},i:ne,o:ne,d(S){S&&_(e),g&&g.d(),wt(L,S);for(let I=0;I<p.length;I+=1)p[I].d();w&&w.d()}}}function ke(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function rt(n){return`${Math.round(n.durationS()/60)} min`}function As(n,e,t){let s,i,r,l,o,u,{timers:c=[]}=e,{activeTimer:a=null}=e;const f=2*60*60*1e3;function d(m){if(i===0)return{left:"0%",width:"0%"};const C=m.start.getTime()-r,g=m.finish.getTime()-m.start.getTime(),y=C/i*100,L=g/i*100;return{left:`${y}%`,width:`${L}%`}}function D(m){return m.name===ie.WORK}function b(m,C){const g=C.findIndex(P=>P.start.getTime()===m.start.getTime());if(g<=0)return!0;const y=C[g-1];return D(y)?(m.start.getTime()-y.finish.getTime())/(1e3*60)>=1:!0}function E(m,C){if(!D(m))return!1;if(!b(m,C))return!0;if(!m.value||m.value===0)return!1;const g=m.durationS()/60,y=m.value;return g>y*1.1}const p=m=>Ns(m);return n.$$set=m=>{"timers"in m&&t(0,c=m.timers),"activeTimer"in m&&t(1,a=m.activeTimer)},n.$$.update=()=>{n.$$.dirty&3&&t(4,s=a?[...c,a]:c),n.$$.dirty&16&&t(10,i=(()=>{if(s.length===0)return f;const m=Math.max(...s.map(C=>C.finish.getTime()))-Math.min(...s.map(C=>C.start.getTime()));return Math.max(m,f)})()),n.$$.dirty&16&&t(2,r=s.length===0?Date.now():Math.min(...s.map(m=>m.start.getTime()))),n.$$.dirty&22&&t(3,l=(()=>{if(s.length===0)return Date.now()+f;const C=Math.max(...s.map(y=>y.finish.getTime()));let g=Math.max(C,r+f);if(a){const y=Date.now(),L=g-y,$=10*60*1e3;L<$&&L>0&&(g=g+36e5)}return g})()),n.$$.dirty&1036&&t(6,o=(()=>{if(i===0)return[];const m=[],C=new Date(r),g=new Date(l),y=new Date(C);for(y.setMinutes(0,0,0),y.setHours(y.getHours()+1);y.getTime()<=g.getTime();){const $=(y.getTime()-r)/i*100;$>=0&&$<=100&&m.push({position:$,label:y.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),y.setHours(y.getHours()+1)}return m})()),n.$$.dirty&1036&&t(5,u=(()=>{const m=Date.now();if(l>m){const C=Math.max(r,m),g=C-r,y=l-C,L=g/i*100,$=y/i*100;return{left:`${L}%`,width:`${$}%`,visible:$>0}}return{left:"0%",width:"0%",visible:!1}})())},[c,a,r,l,s,u,o,d,D,E,i,p]}class $s extends re{constructor(e){super(),oe(this,e,As,Ms,le,{timers:0,activeTimer:1})}}function cn(n){let e,t,s,i,r="Edit Timer",l,o,u="×",c,a,f,d,D="Type:",b,E,p=n[0].name+"",m,C,g,y,L="Duration:",$,P,w,S,I,O,F,ee="Start Date",se,ae,ce,ve,V,G="Start Time",J,K,Ue,Se,Ee,$t="Finish Date",ct,we,ut,De,Ie,Lt="Finish Time",ft,pe,ht,ue,Ce,Pt="Delete",dt,Ge,mt,ye,jt="Cancel",vt,Oe,Vt="Save",gt,Rt;return{c(){e=k("div"),t=k("div"),s=k("div"),i=k("h2"),i.textContent=r,l=M(),o=k("button"),o.textContent=u,c=M(),a=k("div"),f=k("div"),d=k("span"),d.textContent=D,b=M(),E=k("span"),m=W(p),C=M(),g=k("div"),y=k("span"),y.textContent=L,$=M(),P=k("span"),w=W(n[5]),S=W(" min"),I=M(),O=k("div"),F=k("label"),F.textContent=ee,se=M(),ae=k("input"),ce=M(),ve=k("div"),V=k("label"),V.textContent=G,J=M(),K=k("input"),Ue=M(),Se=k("div"),Ee=k("label"),Ee.textContent=$t,ct=M(),we=k("input"),ut=M(),De=k("div"),Ie=k("label"),Ie.textContent=Lt,ft=M(),pe=k("input"),ht=M(),ue=k("div"),Ce=k("button"),Ce.textContent=Pt,dt=M(),Ge=k("div"),mt=M(),ye=k("button"),ye.textContent=jt,vt=M(),Oe=k("button"),Oe.textContent=Vt,this.h()},l(fe){e=T(fe,"DIV",{class:!0});var ge=N(e);t=T(ge,"DIV",{class:!0});var Be=N(t);s=T(Be,"DIV",{class:!0});var qe=N(s);i=T(qe,"H2",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1ut3txv"&&(i.textContent=r),l=A(qe),o=T(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-y9ayml"&&(o.textContent=u),qe.forEach(_),c=A(Be),a=T(Be,"DIV",{class:!0});var he=N(a);f=T(he,"DIV",{class:!0});var Ke=N(f);d=T(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-owo3qx"&&(d.textContent=D),b=A(Ke),E=T(Ke,"SPAN",{class:!0});var Ut=N(E);m=q(Ut,p),Ut.forEach(_),Ke.forEach(_),C=A(he),g=T(he,"DIV",{class:!0});var Je=N(g);y=T(Je,"SPAN",{class:!0,"data-svelte-h":!0}),H(y)!=="svelte-2ef875"&&(y.textContent=L),$=A(Je),P=T(Je,"SPAN",{class:!0});var pt=N(P);w=q(pt,n[5]),S=q(pt," min"),pt.forEach(_),Je.forEach(_),I=A(he),O=T(he,"DIV",{class:!0});var Xe=N(O);F=T(Xe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(F)!=="svelte-1ckltzx"&&(F.textContent=ee),se=A(Xe),ae=T(Xe,"INPUT",{id:!0,type:!0,class:!0}),Xe.forEach(_),ce=A(he),ve=T(he,"DIV",{class:!0});var Ye=N(ve);V=T(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(V)!=="svelte-khap7h"&&(V.textContent=G),J=A(Ye),K=T(Ye,"INPUT",{id:!0,type:!0,step:!0,class:!0}),Ye.forEach(_),Ue=A(he),Se=T(he,"DIV",{class:!0});var Ze=N(Se);Ee=T(Ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(Ee)!=="svelte-149h0b9"&&(Ee.textContent=$t),ct=A(Ze),we=T(Ze,"INPUT",{id:!0,type:!0,class:!0}),Ze.forEach(_),ut=A(he),De=T(he,"DIV",{class:!0});var Qe=N(De);Ie=T(Qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(Ie)!=="svelte-xk8g5r"&&(Ie.textContent=Lt),ft=A(Qe),pe=T(Qe,"INPUT",{id:!0,type:!0,step:!0,class:!0}),Qe.forEach(_),he.forEach(_),ht=A(Be),ue=T(Be,"DIV",{class:!0});var Ne=N(ue);Ce=T(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),H(Ce)!=="svelte-6r50uh"&&(Ce.textContent=Pt),dt=A(Ne),Ge=T(Ne,"DIV",{class:!0}),N(Ge).forEach(_),mt=A(Ne),ye=T(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),H(ye)!=="svelte-1ph2inm"&&(ye.textContent=jt),vt=A(Ne),Oe=T(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),H(Oe)!=="svelte-9t0vpj"&&(Oe.textContent=Vt),Ne.forEach(_),Be.forEach(_),ge.forEach(_),this.h()},h(){v(i,"class","svelte-5ojikg"),v(o,"class","close-btn svelte-5ojikg"),v(s,"class","modal-header svelte-5ojikg"),v(d,"class","label svelte-5ojikg"),v(E,"class","value svelte-5ojikg"),v(f,"class","info svelte-5ojikg"),v(y,"class","label svelte-5ojikg"),v(P,"class","value svelte-5ojikg"),v(g,"class","info svelte-5ojikg"),v(F,"for","start-date"),v(F,"class","svelte-5ojikg"),v(ae,"id","start-date"),v(ae,"type","date"),v(ae,"class","svelte-5ojikg"),v(O,"class","form-group svelte-5ojikg"),v(V,"for","start-time"),v(V,"class","svelte-5ojikg"),v(K,"id","start-time"),v(K,"type","time"),v(K,"step","60"),v(K,"class","svelte-5ojikg"),v(ve,"class","form-group svelte-5ojikg"),v(Ee,"for","finish-date"),v(Ee,"class","svelte-5ojikg"),v(we,"id","finish-date"),v(we,"type","date"),v(we,"class","svelte-5ojikg"),v(Se,"class","form-group svelte-5ojikg"),v(Ie,"for","finish-time"),v(Ie,"class","svelte-5ojikg"),v(pe,"id","finish-time"),v(pe,"type","time"),v(pe,"step","60"),v(pe,"class","svelte-5ojikg"),v(De,"class","form-group svelte-5ojikg"),v(a,"class","modal-body svelte-5ojikg"),v(Ce,"class","btn btn-delete svelte-5ojikg"),v(Ge,"class","spacer svelte-5ojikg"),v(ye,"class","btn btn-cancel svelte-5ojikg"),v(Oe,"class","btn btn-save svelte-5ojikg"),v(ue,"class","modal-footer svelte-5ojikg"),v(t,"class","modal svelte-5ojikg"),v(e,"class","modal-backdrop svelte-5ojikg")},m(fe,ge){j(fe,e,ge),h(e,t),h(t,s),h(s,i),h(s,l),h(s,o),h(t,c),h(t,a),h(a,f),h(f,d),h(f,b),h(f,E),h(E,m),h(a,C),h(a,g),h(g,y),h(g,$),h(g,P),h(P,w),h(P,S),h(a,I),h(a,O),h(O,F),h(O,se),h(O,ae),_e(ae,n[3]),h(a,ce),h(a,ve),h(ve,V),h(ve,J),h(ve,K),_e(K,n[1]),h(a,Ue),h(a,Se),h(Se,Ee),h(Se,ct),h(Se,we),_e(we,n[4]),h(a,ut),h(a,De),h(De,Ie),h(De,ft),h(De,pe),_e(pe,n[2]),h(t,ht),h(t,ue),h(ue,Ce),h(ue,dt),h(ue,Ge),h(ue,mt),h(ue,ye),h(ue,vt),h(ue,Oe),gt||(Rt=[B(o,"click",n[7]),B(ae,"input",n[11]),B(K,"input",n[12]),B(we,"input",n[13]),B(pe,"input",n[14]),B(Ce,"click",n[8]),B(ye,"click",n[7]),B(Oe,"click",n[6]),B(t,"click",Mn(n[10])),B(e,"click",n[7])],gt=!0)},p(fe,ge){ge&1&&p!==(p=fe[0].name+"")&&me(m,p),ge&32&&me(w,fe[5]),ge&8&&_e(ae,fe[3]),ge&2&&_e(K,fe[1]),ge&16&&_e(we,fe[4]),ge&4&&_e(pe,fe[2])},d(fe){fe&&_(e),gt=!1,Re(Rt)}}}function Ls(n){let e,t,s,i=n[0]&&cn(n);return{c(){i&&i.c(),e=$e()},l(r){i&&i.l(r),e=$e()},m(r,l){i&&i.m(r,l),j(r,e,l),t||(s=B(window,"keydown",n[9]),t=!0)},p(r,[l]){r[0]?i?i.p(r,l):(i=cn(r),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:ne,o:ne,d(r){r&&_(e),i&&i.d(r),t=!1,s()}}}function Ps(n,e,t){let s,i;Te(n,At,C=>t(0,i=C));let r="",l="",o="",u="";function c(){if(!i)return;const C=new Date(`${o}T${r}`),g=new Date(`${u}T${l}`);if(C>=g){alert("Start time must be before finish time");return}de.update(y=>{const L=y.timerHistory.list.find($=>$.start.getTime()===i.start.getTime());return L&&(L.start=C,L.finish=g),y}),it()}function a(){it()}function f(){i&&confirm("Delete this timer?")&&(de.update(C=>C.remove(i.start)),it())}function d(C){C.key==="Escape"&&it()}function D(C){An.call(this,n,C)}function b(){o=this.value,t(3,o),t(0,i)}function E(){r=this.value,t(1,r),t(0,i)}function p(){u=this.value,t(4,u),t(0,i)}function m(){l=this.value,t(2,l),t(0,i)}return n.$$.update=()=>{if(n.$$.dirty&1&&i){const C=i.start,g=i.finish;t(3,o=C.toISOString().split("T")[0]),t(1,r=`${String(C.getHours()).padStart(2,"0")}:${String(C.getMinutes()).padStart(2,"0")}`),t(4,u=g.toISOString().split("T")[0]),t(2,l=`${String(g.getHours()).padStart(2,"0")}:${String(g.getMinutes()).padStart(2,"0")}`)}n.$$.dirty&1&&t(5,s=i?Math.round(i.durationS()/60):0)},[i,r,l,o,u,s,c,a,f,d,D,b,E,p,m]}class js extends re{constructor(e){super(),oe(this,e,Ps,Ls,le,{})}}function Vs(n){let e,t,s,i,r,l,o,u,c,a,f,d,D,b,E;return{c(){e=k("div"),t=k("span"),s=W(n[1]),r=M(),l=k("label"),o=k("input"),u=M(),c=k("span"),a=M(),f=k("span"),d=W(n[2]),this.h()},l(p){e=T(p,"DIV",{class:!0});var m=N(e);t=T(m,"SPAN",{class:!0});var C=N(t);s=q(C,n[1]),C.forEach(_),r=A(m),l=T(m,"LABEL",{class:!0});var g=N(l);o=T(g,"INPUT",{type:!0,class:!0}),u=A(g),c=T(g,"SPAN",{class:!0}),N(c).forEach(_),g.forEach(_),a=A(m),f=T(m,"SPAN",{class:!0});var y=N(f);d=q(y,n[2]),y.forEach(_),m.forEach(_),this.h()},h(){v(t,"class",i="toggle-label "+(n[0]?"":"active")+" svelte-hq2js7"),v(o,"type","checkbox"),v(o,"class","svelte-hq2js7"),v(c,"class","slider svelte-hq2js7"),v(l,"class","toggle-switch svelte-hq2js7"),v(f,"class",D="toggle-label "+(n[0]?"active":"")+" svelte-hq2js7"),v(e,"class","toggle-container svelte-hq2js7")},m(p,m){j(p,e,m),h(e,t),h(t,s),h(e,r),h(e,l),h(l,o),o.checked=n[0],h(l,u),h(l,c),h(e,a),h(e,f),h(f,d),b||(E=B(o,"change",n[3]),b=!0)},p(p,[m]){m&2&&me(s,p[1]),m&1&&i!==(i="toggle-label "+(p[0]?"":"active")+" svelte-hq2js7")&&v(t,"class",i),m&1&&(o.checked=p[0]),m&4&&me(d,p[2]),m&1&&D!==(D="toggle-label "+(p[0]?"active":"")+" svelte-hq2js7")&&v(f,"class",D)},i:ne,o:ne,d(p){p&&_(e),b=!1,E()}}}function Rs(n,e,t){let{checked:s=!1}=e,{leftLabel:i=""}=e,{rightLabel:r=""}=e;function l(){s=this.checked,t(0,s)}return n.$$set=o=>{"checked"in o&&t(0,s=o.checked),"leftLabel"in o&&t(1,i=o.leftLabel),"rightLabel"in o&&t(2,r=o.rightLabel)},[s,i,r,l]}class Us extends re{constructor(e){super(),oe(this,e,Rs,Vs,le,{checked:0,leftLabel:1,rightLabel:2})}}function un(n,e,t){const s=n.slice();return s[10]=e[t],s}function Bs(n){let e,t,s=[],i=new Map,r,l=n[1].active&&fn(n),o=be([...n[2]].reverse());const u=c=>c[10].start;for(let c=0;c<o.length;c+=1){let a=un(n,o,c),f=u(a);i.set(f,s[c]=hn(f,a))}return{c(){e=k("div"),l&&l.c(),t=M();for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=T(c,"DIV",{class:!0});var a=N(e);l&&l.l(a),t=A(a);for(let f=0;f<s.length;f+=1)s[f].l(a);a.forEach(_),this.h()},h(){v(e,"class","logs svelte-1jzxnm3")},m(c,a){j(c,e,a),l&&l.m(e,null),h(e,t);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);r=!0},p(c,a){c[1].active?l?(l.p(c,a),a&2&&R(l,1)):(l=fn(c),l.c(),R(l,1),l.m(e,t)):l&&(Le(),U(l,1,1,()=>{l=null}),Pe()),a&5&&(o=be([...c[2]].reverse()),Le(),s=bn(s,a,u,1,c,o,i,e,Ln,hn,null,un),Pe())},i(c){if(!r){R(l);for(let a=0;a<o.length;a+=1)R(s[a]);r=!0}},o(c){U(l);for(let a=0;a<s.length;a+=1)U(s[a]);r=!1},d(c){c&&_(e),l&&l.d();for(let a=0;a<s.length;a+=1)s[a].d()}}}function Fs(n){let e,t;return e=new $s({props:{timers:n[2],activeTimer:n[1].active}}),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,i){Q(e,s,i),t=!0},p(s,i){const r={};i&4&&(r.timers=s[2]),i&2&&(r.activeTimer=s[1].active),e.$set(r)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){U(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function fn(n){let e,t,s;const i=[n[1].active,{rawView:n[0]},{topLog:!0}];let r={};for(let l=0;l<i.length;l+=1)r=_n(r,i[l]);return e=new In({props:r}),{c(){Y(e.$$.fragment),t=k("br")},l(l){Z(e.$$.fragment,l),t=T(l,"BR",{})},m(l,o){Q(e,l,o),j(l,t,o),s=!0},p(l,o){const u=o&3?kn(i,[o&2&&Tn(l[1].active),o&1&&{rawView:l[0]},i[2]]):{};e.$set(u)},i(l){s||(R(e.$$.fragment,l),s=!0)},o(l){U(e.$$.fragment,l),s=!1},d(l){l&&_(t),x(e,l)}}}function hn(n,e){let t,s,i,r,l;const o=[e[10],{rawView:e[0]},{topLog:!1}];let u={};for(let c=0;c<o.length;c+=1)u=_n(u,o[c]);return s=new In({props:u}),s.$on("change",e[8]),s.$on("remove",e[9]),{key:n,first:null,c(){t=$e(),Y(s.$$.fragment),i=M(),r=k("br"),this.h()},l(c){t=$e(),Z(s.$$.fragment,c),i=A(c),r=T(c,"BR",{}),this.h()},h(){this.first=t},m(c,a){j(c,t,a),Q(s,c,a),j(c,i,a),j(c,r,a),l=!0},p(c,a){e=c;const f=a&5?kn(o,[a&4&&Tn(e[10]),a&1&&{rawView:e[0]},o[2]]):{};s.$set(f)},i(c){l||(R(s.$$.fragment,c),l=!0)},o(c){U(s.$$.fragment,c),l=!1},d(c){c&&(_(t),_(i),_(r)),x(s,c)}}}function zs(n){let e,t,s,i,r,l="Clear logs",o,u,c="Active time: ",a,f=Wt(n[4])+"",d,D,b,E,p,m="Edit",C,g,y,L,$,P,w,S,I,O,F;e=new js({});function ee(V){n[7](V)}let se={leftLabel:"Logs",rightLabel:"Graph"};n[3]!==void 0&&(se.checked=n[3]),y=new Us({props:se}),Fe.push(()=>Ct(y,"checked",ee));const ae=[Fs,Bs],ce=[];function ve(V,G){return V[3]?0:1}return P=ve(n),w=ce[P]=ae[P](n),{c(){Y(e.$$.fragment),t=M(),s=k("div"),i=k("div"),r=k("button"),r.textContent=l,o=M(),u=k("span"),u.textContent=c,a=k("span"),d=W(f),D=M(),b=k("input"),E=M(),p=k("label"),p.textContent=m,C=M(),g=k("div"),Y(y.$$.fragment),$=M(),w.c(),S=$e(),this.h()},l(V){Z(e.$$.fragment,V),t=A(V),s=T(V,"DIV",{class:!0});var G=N(s);i=T(G,"DIV",{class:!0});var J=N(i);r=T(J,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1renoko"&&(r.textContent=l),o=A(J),u=T(J,"SPAN",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-18pz33x"&&(u.textContent=c),a=T(J,"SPAN",{class:!0});var K=N(a);d=q(K,f),K.forEach(_),D=A(J),b=T(J,"INPUT",{type:!0,id:!0,name:!0}),E=A(J),p=T(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(p)!=="svelte-mquioa"&&(p.textContent=m),J.forEach(_),C=A(G),g=T(G,"DIV",{class:!0});var Ue=N(g);Z(y.$$.fragment,Ue),Ue.forEach(_),G.forEach(_),$=A(V),w.l(V),S=$e(),this.h()},h(){v(r,"class","clear svelte-1jzxnm3"),v(u,"class","svelte-1jzxnm3"),v(a,"class","svelte-1jzxnm3"),v(b,"type","checkbox"),v(b,"id","edit"),v(b,"name","edit"),v(p,"for","edit"),v(p,"class","svelte-1jzxnm3"),v(i,"class","header-left svelte-1jzxnm3"),v(g,"class","header-right svelte-1jzxnm3"),v(s,"class","header svelte-1jzxnm3")},m(V,G){Q(e,V,G),j(V,t,G),j(V,s,G),h(s,i),h(i,r),h(i,o),h(i,u),h(i,a),h(a,d),h(i,D),h(i,b),b.checked=n[0],h(i,E),h(i,p),h(s,C),h(s,g),Q(y,g,null),j(V,$,G),ce[P].m(V,G),j(V,S,G),I=!0,O||(F=[B(r,"click",n[5]),B(b,"change",n[6])],O=!0)},p(V,[G]){(!I||G&16)&&f!==(f=Wt(V[4])+"")&&me(d,f),G&1&&(b.checked=V[0]);const J={};!L&&G&8&&(L=!0,J.checked=V[3],It(()=>L=!1)),y.$set(J);let K=P;P=ve(V),P===K?ce[P].p(V,G):(Le(),U(ce[K],1,1,()=>{ce[K]=null}),Pe(),w=ce[P],w?w.p(V,G):(w=ce[P]=ae[P](V),w.c()),R(w,1),w.m(S.parentNode,S))},i(V){I||(R(e.$$.fragment,V),R(y.$$.fragment,V),R(w),I=!0)},o(V){U(e.$$.fragment,V),U(y.$$.fragment,V),U(w),I=!1},d(V){V&&(_(t),_(s),_($),_(S)),x(e,V),x(y),ce[P].d(V),O=!1,Re(F)}}}function Hs(n,e){return n!=null&&n.timerHistory?n.timerHistory.normalize(!e):[]}function Gs(n,e,t){let s,i,r;Te(n,Qt,D=>t(0,s=D)),Te(n,de,D=>t(1,i=D)),Te(n,rs,D=>t(4,r=D));var l=[];let o=!0;const u=()=>de.update(D=>D.clearLogs());function c(){s=this.checked,Qt.set(s)}function a(D){o=D,t(3,o)}const f=D=>de.update(b=>b.changeLineType(D.detail)),d=D=>de.update(b=>b.remove(D.detail));return n.$$.update=()=>{n.$$.dirty&3&&t(2,l=Hs(i,s))},[s,i,l,o,r,u,c,a,f,d]}class Ws extends re{constructor(e){super(),oe(this,e,Gs,zs,le,{})}}function qs(n){let e,t,s,i,r="Let's Pomodoro!",l,o,u,c,a,f,d;function D(E){n[9](E)}let b={debugFlag:n[1]};return n[0]!==void 0&&(b.remainedSeconds=n[0]),o=new Es({props:b}),Fe.push(()=>Ct(o,"remainedSeconds",D)),o.$on("timer",n[4]),o.$on("current",n[5]),o.$on("cancel",n[6]),f=new Ws({}),{c(){e=k("main"),t=k("div"),s=k("div"),i=k("h1"),i.textContent=r,l=M(),Y(o.$$.fragment),c=M(),a=k("div"),Y(f.$$.fragment),this.h()},l(E){e=T(E,"MAIN",{class:!0});var p=N(e);t=T(p,"DIV",{class:!0});var m=N(t);s=T(m,"DIV",{class:!0});var C=N(s);i=T(C,"H1",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-cxq7y3"&&(i.textContent=r),l=A(C),Z(o.$$.fragment,C),C.forEach(_),c=A(m),a=T(m,"DIV",{class:!0});var g=N(a);Z(f.$$.fragment,g),g.forEach(_),m.forEach(_),p.forEach(_),this.h()},h(){v(i,"class","logo svelte-1tn61l8"),v(s,"class","pomodoro svelte-1tn61l8"),v(a,"class","logs svelte-1tn61l8"),v(t,"class","container svelte-1tn61l8"),v(e,"class","svelte-1tn61l8"),Ae(e,"dark",n[3])},m(E,p){j(E,e,p),h(e,t),h(t,s),h(s,i),h(s,l),Q(o,s,null),h(t,c),h(t,a),Q(f,a,null),d=!0},p(E,p){const m={};p&2&&(m.debugFlag=E[1]),!u&&p&1&&(u=!0,m.remainedSeconds=E[0],It(()=>u=!1)),o.$set(m),(!d||p&8)&&Ae(e,"dark",E[3])},i(E){d||(R(o.$$.fragment,E),R(f.$$.fragment,E),d=!0)},o(E){U(o.$$.fragment,E),U(f.$$.fragment,E),d=!1},d(E){E&&_(e),x(o),x(f)}}}function Ks(n){let e;return{c(){e=k("main"),this.h()},l(t){e=T(t,"MAIN",{style:!0,class:!0}),N(e).forEach(_),this.h()},h(){z(e,"background-color","gray"),z(e,"height","90 vh"),v(e,"class","svelte-1tn61l8")},m(t,s){j(t,e,s)},p:ne,i:ne,o:ne,d(t){t&&_(e)}}}function Js(n){let e,t,s,i,r,l,o,u,c,a="Toggle Dark Mode",f,d,D;const b=[Ks,qs],E=[];function p(m,C){return m[2]?0:1}return e=p(n),t=E[e]=b[e](n),{c(){t.c(),s=M(),i=k("div"),r=k("label"),l=W("Debug:"),o=k("input"),u=M(),c=k("button"),c.textContent=a,this.h()},l(m){t.l(m),s=A(m),i=T(m,"DIV",{class:!0});var C=N(i);r=T(C,"LABEL",{id:!0});var g=N(r);l=q(g,"Debug:"),o=T(g,"INPUT",{type:!0}),u=A(g),c=T(g,"BUTTON",{"data-svelte-h":!0}),H(c)!=="svelte-7kmdhl"&&(c.textContent=a),g.forEach(_),C.forEach(_),this.h()},h(){v(o,"type","checkbox"),v(r,"id","debug"),v(i,"class","debug-div svelte-1tn61l8")},m(m,C){E[e].m(m,C),j(m,s,C),j(m,i,C),h(i,r),h(r,l),h(r,o),o.checked=n[1],h(r,u),h(r,c),f=!0,d||(D=[B(o,"change",n[10]),B(c,"click",n[7])],d=!0)},p(m,[C]){let g=e;e=p(m),e===g?E[e].p(m,C):(Le(),U(E[g],1,1,()=>{E[g]=null}),Pe(),t=E[e],t?t.p(m,C):(t=E[e]=b[e](m),t.c()),R(t,1),t.m(s.parentNode,s)),C&2&&(o.checked=m[1])},i(m){f||(R(t),f=!0)},o(m){U(t),f=!1},d(m){m&&(_(s),_(i)),E[e].d(m),d=!1,Re(D)}}}function Xs(n,e,t){let s,i;Te(n,Zt,b=>t(3,s=b)),Te(n,de,b=>t(8,i=b));let r=!1,l,o=!0;function u(b){de.update(E=>E.addTimer(b.detail))}function c(b){de.update(E=>E.setActive(b.detail))}function a(){de.update(b=>b.resetActive())}pn(()=>{console.log("get darkmode:",s),t(2,o=!1)});function f(){Zt.update(b=>!b),console.log("toggle dark",s)}function d(b){l=b,t(0,l)}function D(){r=this.checked,t(1,r)}return n.$$.update=()=>{n.$$.dirty&257&&i&&l!==void 0&&de.update(b=>(b.setActiveDur(l),b))},[l,r,o,s,u,c,a,f,i,d,D]}class ei extends re{constructor(e){super(),oe(this,e,Xs,Js,le,{})}}export{ei as component};
