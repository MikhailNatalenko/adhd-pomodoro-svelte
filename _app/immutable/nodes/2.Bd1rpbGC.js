var Cn=Object.defineProperty;var yn=(n,e,t)=>e in n?Cn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var te=(n,e,t)=>yn(n,typeof e!="symbol"?e+"":e,t);import{r as Re,s as le,c as dn,e as k,b as N,v as Me,d as T,f as A,i as p,j as L,y as v,k as j,T as F,u as mn,g as vn,a as gn,t as W,h as q,z,l as h,m as me,U as He,V as Ft,W as Le,n as ne,X as H,Y as wt,A as Ue,Z as pe,o as ke,_ as _t,$ as On,x as pn,a0 as It,H as An,F as Ut,a1 as Nn,a2 as Ln,a3 as _n}from"../chunks/scheduler.Dcm1gJQ0.js";import{a as B,t as R,S as re,i as oe,b as Y,d as Z,m as Q,e as x,g as $e,c as Pe,f as Ct,h as xe}from"../chunks/index.DvOo2HUA.js";import{b as ze,w as ot,d as at}from"../chunks/paths.CyEVs7mp.js";function _e(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Mn(n,e){n.d(1),e.delete(n.key)}function $n(n,e){B(n,1,1,()=>{e.delete(n.key)})}function bn(n,e,t,s,i,r,l,o,u,c,a,f){let d=n.length,E=r.length,_=d;const D={};for(;_--;)D[n[_].key]=_;const g=[],m=new Map,C=new Map,b=[];for(_=E;_--;){const $=f(i,r,_),w=t($);let S=l.get(w);S?b.push(()=>S.p($,e)):(S=c(w,$),S.c()),m.set(w,g[_]=S),w in D&&C.set(w,Math.abs(_-D[w]))}const y=new Set,P=new Set;function M($){R($,1),$.m(o,a),l.set($.key,$),a=$.first,E--}for(;d&&E;){const $=g[E-1],w=n[d-1],S=$.key,I=w.key;$===w?(a=$.first,d--,E--):m.has(I)?!l.has(S)||y.has(S)?M($):P.has(I)?d--:C.get(S)>C.get(I)?(P.add(S),M($)):(y.add(I),d--):(u(w,l),d--)}for(;d--;){const $=n[d];m.has($.key)||u($,l)}for(;E;)M(g[E-1]);return Re(b),g}function kn(n,e){const t={},s={},i={$$scope:1};let r=n.length;for(;r--;){const l=n[r],o=e[r];if(o){for(const u in l)u in o||(s[u]=1);for(const u in o)i[u]||(t[u]=o[u],i[u]=1);n[r]=o}else for(const u in l)i[u]=1}for(const l in s)l in t||(t[l]=void 0);return t}function Tn(n){return typeof n=="object"&&n!==null?n:{}}const Pn=ze+"/ring2.wav";let wn=function(){},We,bt,Sn=.5,et;if(typeof window<"u"){let n=window.AudioContext||window.webkitAudioContext;We=new n,fetch(Pn).then(e=>e.arrayBuffer()).then(e=>We.decodeAudioData(e)).then(e=>{bt=e}).catch(e=>console.error("Error loading sound file:",e)),wn=function(){if(!bt)return;et=We.createBufferSource(),et.buffer=bt;let e=We.createGain();e.gain.value=Sn,et.connect(e),e.connect(We.destination),et.start(0)}}function yt(){wn()}function jn(n,e){Sn=n,yt()}function zt(n){let e,t;return{c(){e=k("div"),t=W(n[0]),this.h()},l(s){e=T(s,"DIV",{style:!0,class:!0});var i=A(e);t=q(i,n[0]),i.forEach(p),this.h()},h(){z(e,"top",n[3]+"px"),z(e,"left",n[2]+"px"),v(e,"class","tooltip svelte-43gogz")},m(s,i){j(s,e,i),h(e,t)},p(s,i){i&1&&me(t,s[0]),i&8&&z(e,"top",s[3]+"px"),i&4&&z(e,"left",s[2]+"px")},d(s){s&&p(e)}}}function Vn(n){let e,t,s,i,r,l;const o=n[8].default,u=dn(o,n,n[7],null);let c=n[1]&&zt(n);return{c(){e=k("div"),u&&u.c(),t=N(),c&&c.c(),s=Me(),this.h()},l(a){e=T(a,"DIV",{"aria-hidden":!0});var f=A(e);u&&u.l(f),f.forEach(p),t=L(a),c&&c.l(a),s=Me(),this.h()},h(){v(e,"aria-hidden","true")},m(a,f){j(a,e,f),u&&u.m(e,null),j(a,t,f),c&&c.m(a,f),j(a,s,f),i=!0,r||(l=[F(e,"mouseover",n[4]),F(e,"mouseleave",n[6]),F(e,"mousemove",n[5]),F(e,"focus",Rn)],r=!0)},p(a,[f]){u&&u.p&&(!i||f&128)&&mn(u,o,a,a[7],i?gn(o,a[7],f,null):vn(a[7]),null),a[1]?c?c.p(a,f):(c=zt(a),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(a){i||(R(u,a),i=!0)},o(a){B(u,a),i=!1},d(a){a&&(p(e),p(t),p(s)),u&&u.d(a),c&&c.d(a),r=!1,Re(l)}}}const Rn=function(){};function Bn(n,e,t){let{$$slots:s={},$$scope:i}=e,{title:r=""}=e,l=!1,o,u;function c(d){t(1,l=!0),t(2,o=d.pageX+10),t(3,u=d.pageY+10)}function a(d){t(2,o=d.pageX+10),t(3,u=d.pageY+10)}function f(){t(1,l=!1)}return n.$$set=d=>{"title"in d&&t(0,r=d.title),"$$scope"in d&&t(7,i=d.$$scope)},[r,l,o,u,c,a,f,i,s]}class Ot extends re{constructor(e){super(),oe(this,e,Bn,Vn,le,{title:0})}}function Ht(n){let e=Math.floor(n/60),t=Math.floor(n%60).toString().padStart(2,"0"),s=e.toString().padStart(2,"0");if(e>60){let i=Math.floor(e/60);return s=Math.floor(e%60).toString().padStart(2,"0"),`${i}:${s}:${t}`}return`${s}:${t}`}function Gt(n){let e=Math.floor(n/60),t=Math.floor(n%60);if(e>60){let s=Math.floor(e/60);return e=Math.floor(e%60),`${s}h ${e} min`}else return e>0?`${e} min`:`${t} sec`}function Wt(n){let e=Math.floor(n/3600);e>0&&(n=n-e*3600);let t=Math.floor(n/60),s=Math.floor(n%60);return e==1?`${e} hour ${t} min`:e>0?`${e} hours ${t} min`:t>=5?`${t} min`:t>1?`${t} min ${s} sec`:`${s} sec`}class Fn{constructor(e,t,s,i=300){te(this,"intervalId",0);te(this,"duration",0);te(this,"start",0);te(this,"remain",0);te(this,"onSec",e=>{});te(this,"onAlarm",()=>{});this.duration=e,this.remain=e,e>0&&(this.onSec=t,this.onAlarm=s,this.start=Date.now(),this.intervalId=setInterval(()=>{const r=Math.ceil((Date.now()-this.start)/1e3);let l=this.duration-r;l!=this.remain&&(t(this.remain),this.remain=l,this.remain<=0&&(this.onAlarm(),clearInterval(this.intervalId)))},i))}stop(){clearInterval(this.intervalId)}}function Un(n){let e,t=Ht(n[0])+"",s,i,r;return{c(){e=k("button"),s=W(t),this.h()},l(l){e=T(l,"BUTTON",{id:!0,class:!0});var o=A(e);s=q(o,t),o.forEach(p),this.h()},h(){v(e,"id","watch"),v(e,"class","svelte-1kj7nhv")},m(l,o){j(l,e,o),h(e,s),i||(r=F(e,"click",n[1]),i=!0)},p(l,o){o&1&&t!==(t=Ht(l[0])+"")&&me(s,t)},d(l){l&&p(e),i=!1,r()}}}function zn(n){let e,t;return e=new Ot({props:{title:"stop timer",$$slots:{default:[Un]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,i){Q(e,s,i),t=!0},p(s,[i]){const r={};i&257&&(r.$$scope={dirty:i,ctx:s}),e.$set(r)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Hn(n,e,t){let{time:s=0}=e,{remainedSeconds:i=0}=e;var r;const l=He();function o(f){r!=null&&r.stop(),r=new Fn(f,u,c),t(0,i=f)}function u(f){t(0,i=f)}function c(){yt(),l("alarming")}function a(){l("stop")}return n.$$set=f=>{"time"in f&&t(2,s=f.time),"remainedSeconds"in f&&t(0,i=f.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&o(s)},[i,a,s]}class Gn extends re{constructor(e){super(),oe(this,e,Hn,zn,le,{time:2,remainedSeconds:0})}}function Wn(n){let e,t,s,i,r,l;return{c(){e=k("button"),t=W(n[1]),s=W(" min"),this.h()},l(o){e=T(o,"BUTTON",{class:!0});var u=A(e);t=q(u,n[1]),s=q(u," min"),u.forEach(p),this.h()},h(){v(e,"class",i=Ft(n[2])+" svelte-8w7xxt"),Le(e,"pressed",n[0])},m(o,u){j(o,e,u),h(e,t),h(e,s),r||(l=F(e,"click",n[5]),r=!0)},p(o,[u]){u&2&&me(t,o[1]),u&4&&i!==(i=Ft(o[2])+" svelte-8w7xxt")&&v(e,"class",i),u&5&&Le(e,"pressed",o[0])},i:ne,o:ne,d(o){o&&p(e),r=!1,l()}}}function qn(n,e,t){const s=He();let{value:i}=e,{name:r}=e,{pressed:l=!1}=e;function o(a,f){s("start",{name:a,val:f}),t(0,l=!0)}function u(){t(0,l=!1)}const c=function(){o(r,i)};return n.$$set=a=>{"value"in a&&t(1,i=a.value),"name"in a&&t(2,r=a.name),"pressed"in a&&t(0,l=a.pressed)},[l,i,r,o,u,c]}class Dn extends re{constructor(e){super(),oe(this,e,qn,Wn,le,{value:1,name:2,pressed:0,reset:4})}get reset(){return this.$$.ctx[4]}}const ie={WORK:"work",REST:"rest"},Kn={afterClockIntervalS:3,afterClockTimeoutS:10,timersMultiplier:1},Jn={afterClockIntervalS:10,afterClockTimeoutS:60*15,timersMultiplier:1*60};function St(n){return n?Kn:Jn}function qt(n,e,t){const s=n.slice();return s[9]=e[t],s[10]=e,s[11]=t,s}const Xn=n=>({}),Kt=n=>({class:"item svelte-1rvg6ah"});function Jt(n,e,t){const s=n.slice();return s[9]=e[t],s[12]=e,s[11]=t,s}function Xt(n){let e,t=n[11],s,i,r;const l=()=>n[6](e,t),o=()=>n[6](null,t);let u={value:n[9],name:ie.WORK};return e=new Dn({props:u}),l(),e.$on("start",n[2]),{c(){Y(e.$$.fragment),s=N(),i=k("br")},l(c){Z(e.$$.fragment,c),s=L(c),i=T(c,"BR",{})},m(c,a){Q(e,c,a),j(c,s,a),j(c,i,a),r=!0},p(c,a){t!==c[11]&&(o(),t=c[11],l());const f={};e.$set(f)},i(c){r||(R(e.$$.fragment,c),r=!0)},o(c){B(e.$$.fragment,c),r=!1},d(c){c&&(p(s),p(i)),o(),x(e,c)}}}function Yt(n){let e,t=n[11],s,i,r;const l=()=>n[7](e,t),o=()=>n[7](null,t);let u={value:n[9],name:ie.REST};return e=new Dn({props:u}),l(),e.$on("start",n[2]),{c(){Y(e.$$.fragment),s=N(),i=k("br")},l(c){Z(e.$$.fragment,c),s=L(c),i=T(c,"BR",{})},m(c,a){Q(e,c,a),j(c,s,a),j(c,i,a),r=!0},p(c,a){t!==c[11]&&(o(),t=c[11],l());const f={};e.$set(f)},i(c){r||(R(e.$$.fragment,c),r=!0)},o(c){B(e.$$.fragment,c),r=!1},d(c){c&&(p(s),p(i)),o(),x(e,c)}}}function Yn(n){let e,t,s,i,r="Active",l,o,u,c,a,f,d="Rest",E,_,D,g=_e(n[1]),m=[];for(let w=0;w<g.length;w+=1)m[w]=Xt(Jt(n,g,w));const C=w=>B(m[w],1,1,()=>{m[w]=null}),b=n[5].default,y=dn(b,n,n[4],Kt);let P=_e(n[1]),M=[];for(let w=0;w<P.length;w+=1)M[w]=Yt(qt(n,P,w));const $=w=>B(M[w],1,1,()=>{M[w]=null});return{c(){e=k("div"),t=k("div"),s=k("div"),i=k("span"),i.textContent=r,l=k("br"),o=N();for(let w=0;w<m.length;w+=1)m[w].c();u=N(),y&&y.c(),c=N(),a=k("div"),f=k("span"),f.textContent=d,E=k("br"),_=N();for(let w=0;w<M.length;w+=1)M[w].c();this.h()},l(w){e=T(w,"DIV",{});var S=A(e);t=T(S,"DIV",{class:!0});var I=A(t);s=T(I,"DIV",{class:!0});var O=A(s);i=T(O,"SPAN",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-19szg5l"&&(i.textContent=r),l=T(O,"BR",{}),o=L(O);for(let ee=0;ee<m.length;ee+=1)m[ee].l(O);O.forEach(p),u=L(I),y&&y.l(I),c=L(I),a=T(I,"DIV",{class:!0});var U=A(a);f=T(U,"SPAN",{class:!0,"data-svelte-h":!0}),H(f)!=="svelte-1gtata5"&&(f.textContent=d),E=T(U,"BR",{}),_=L(U);for(let ee=0;ee<M.length;ee+=1)M[ee].l(U);U.forEach(p),I.forEach(p),S.forEach(p),this.h()},h(){v(i,"class","label svelte-1rvg6ah"),v(s,"class","item svelte-1rvg6ah"),v(f,"class","label svelte-1rvg6ah"),v(a,"class","item svelte-1rvg6ah"),v(t,"class","grid-container svelte-1rvg6ah")},m(w,S){j(w,e,S),h(e,t),h(t,s),h(s,i),h(s,l),h(s,o);for(let I=0;I<m.length;I+=1)m[I]&&m[I].m(s,null);h(t,u),y&&y.m(t,null),h(t,c),h(t,a),h(a,f),h(a,E),h(a,_);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(a,null);D=!0},p(w,[S]){if(S&7){g=_e(w[1]);let I;for(I=0;I<g.length;I+=1){const O=Jt(w,g,I);m[I]?(m[I].p(O,S),R(m[I],1)):(m[I]=Xt(O),m[I].c(),R(m[I],1),m[I].m(s,null))}for($e(),I=g.length;I<m.length;I+=1)C(I);Pe()}if(y&&y.p&&(!D||S&16)&&mn(y,b,w,w[4],D?gn(b,w[4],S,Xn):vn(w[4]),Kt),S&7){P=_e(w[1]);let I;for(I=0;I<P.length;I+=1){const O=qt(w,P,I);M[I]?(M[I].p(O,S),R(M[I],1)):(M[I]=Yt(O),M[I].c(),R(M[I],1),M[I].m(a,null))}for($e(),I=P.length;I<M.length;I+=1)$(I);Pe()}},i(w){if(!D){for(let S=0;S<g.length;S+=1)R(m[S]);R(y,w);for(let S=0;S<P.length;S+=1)R(M[S]);D=!0}},o(w){m=m.filter(Boolean);for(let S=0;S<m.length;S+=1)B(m[S]);B(y,w),M=M.filter(Boolean);for(let S=0;S<M.length;S+=1)B(M[S]);D=!1},d(w){w&&p(e),wt(m,w),y&&y.d(w),wt(M,w)}}}function Zn(n,e,t){let{$$slots:s={},$$scope:i}=e;const r=He();let l=[],o=[5,10,15,20,25,120];function u(d){r("start",{timer:d.detail.val,name:d.detail.name}),console.log("handleTimerStart")}function c(){l.forEach(d=>{d&&d.reset()})}function a(d,E){Ue[d?"unshift":"push"](()=>{l[E]=d,t(0,l)})}function f(d,E){Ue[d?"unshift":"push"](()=>{l[E+l.length]=d,t(0,l)})}return n.$$set=d=>{"$$scope"in d&&t(4,i=d.$$scope)},[l,o,u,c,i,s,a,f]}class Qn extends re{constructor(e){super(),oe(this,e,Zn,Yn,le,{clear:3})}get clear(){return this.$$.ctx[3]}}/*! js-cookie v3.0.5 | MIT */function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)n[s]=t[s]}return n}var xn={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Dt(n,e){function t(i,r,l){if(!(typeof document>"u")){l=tt({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in l)l[u]&&(o+="; "+u,l[u]!==!0&&(o+="="+l[u].split(";")[0]));return document.cookie=i+"="+n.write(r,i)+o}}function s(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var r=document.cookie?document.cookie.split("; "):[],l={},o=0;o<r.length;o++){var u=r[o].split("="),c=u.slice(1).join("=");try{var a=decodeURIComponent(u[0]);if(l[a]=n.read(c,a),i===a)break}catch{}}return i?l[i]:l}}return Object.create({set:t,get:s,remove:function(i,r){t(i,"",tt({},r,{expires:-1}))},withAttributes:function(i){return Dt(this.converter,tt({},this.attributes,i))},withConverter:function(i){return Dt(tt({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var lt=Dt(xn,{path:"/"});class Ve{constructor(e=0,t="",s=new Date,i=new Date){te(this,"start");te(this,"finish");te(this,"name");te(this,"value");this.start=s,this.finish=i,this.name=t,this.value=e}setDuration(e){this.finish=new Date(this.start.getTime()+e*1e3)}durationS(){return(this.finish.getTime()-this.start.getTime())/1e3}}const X={RUNNING:"RUNNING",STOPPED:"STOPPED",WAITING_FOR_STOP:"WAITING_FOR_STOP"};var Ne=(n=>(n[n.EMIT=1]="EMIT",n[n.DO_NOT_EMIT=2]="DO_NOT_EMIT",n))(Ne||{});let En=60,es=5*60;function At(n,e,t=En){return(e.start.getTime()-n.finish.getTime())/1e3>t}function ts(n,e=En){var t=[],s=0;if(n.length<=1)return n;t.push(n[0]),s=0;for(let i=1;i<n.length;i++){const r=n[i];if(t[s].name!=r.name){t.push(r),s++;continue}At(t[s],r,e)?(t.push(r),s++):t[s].finish=r.finish}return t}function kt(n,e=ie.REST,t=es){var s=[],i=0;if(n.length<=1)return n;s.push(n[0]),i=0;for(let l=1;l<n.length;l++){const o=n[l];if(At(s[i],o,t)){var r=new Ve(0,e,s[i].finish,o.start);s.push(r),i++}s.push(o),i++}return s}function ns(n){return n.forEach(e=>{if(!("name"in e&&"start"in e&&"finish"in e))return!1}),!0}function ss(n){let e=[];try{const t=JSON.parse(n);let s=[];ns(t)&&t.forEach(i=>{s.push(new Ve(0,i.name,new Date(i.start*1e3),new Date(i.finish*1e3)))}),console.log("deserialized logs:",s),e=s}catch{e=[]}return new Et(e)}class Et{constructor(e){te(this,"additionalS",0);te(this,"list",[]);this.list=kt(e,ie.REST)}normalize(e){var t=kt(this.list,ie.REST);return e&&(t=ts(t)),t}serialize(){let e=[];return this.list.forEach(t=>{e.push({name:t.name,start:Math.floor(t.start.getTime()/1e3),finish:Math.floor(t.finish.getTime()/1e3)})}),console.log("Serializing logs:",JSON.stringify(e)),JSON.stringify(e)}addTimer(e){return this.list.length>0&&this.list[this.list.length-1].start==e.start?(this.list[this.list.length-1].finish=e.finish,this.list=this.list,this):(this.list.push(e),this)}changeLineType(e){return this.list.forEach(t=>{t.start===e&&(t.name=t.name===ie.REST?ie.WORK:ie.REST)}),this}remove(e){for(var t=0;t<this.list.length;)this.list[t].start===e?this.list.splice(t,1):++t}total(){let e=0;return this.list.forEach(t=>{t.name==ie.WORK&&(e+=t.durationS())}),e}fillGaps(e=new Ve){if(this.list=kt(this.list),this.list.length>0){let t=this.list[this.list.length-1];At(t,e)&&this.list.push(new Ve(0,ie.REST,t.finish,e.start))}return this}addDurSec(e){return this.additionalS+=e,this}getAdditional(){return this.additionalS}}class is{constructor(){te(this,"timerHistory");te(this,"active");this.timerHistory=new Et([])}addTimer(e){return this.active=void 0,this.timerHistory.addTimer(e),this}remove(e){return this.timerHistory.remove(e),this}changeLineType(e){return this.timerHistory.changeLineType(e),this}clearLogs(){return this.timerHistory=new Et([]),this}resetActive(){return this.active=void 0,this}setActiveDur(e){return this.active?(this.active.finish=new Date,this):this}setActive(e){return this.active=e,this.timerHistory.fillGaps(),this}totalTime(){let e=this.timerHistory.total();return this.active&&this.active.name==ie.WORK&&(e+=this.active.durationS()),e}}function Nt(n,e,t={storage:"cookies",cookieExpireDays:31}){const s=t.serialize||JSON.stringify,i=t.deserialize||JSON.parse;let r=e;try{const o=t.storage==="cookies"?lt.get(n):localStorage.getItem(n);o&&(r=i(o))}catch(o){console.warn(`Failed to load ${n} from ${t.storage}:`,o)}const l=ot(r);return l.subscribe(o=>{try{const u=s(o);t.storage==="cookies"?lt.set(n,u,{expires:t.cookieExpireDays||31}):localStorage.setItem(n,u)}catch(u){console.warn(`Failed to save ${n} to ${t.storage}:`,u)}}),l}function ls(){let n=new is;{const t=lt.get("logs");console.log("Loading pomApp from cookies:",t),t&&(n.timerHistory=ss(t))}const e=ot(n);return e.subscribe(t=>{const s=t.timerHistory.serialize();lt.set("logs",s,{expires:31}),console.log("Saved pomApp to cookies")}),e}const de=ls(),Zt=Nt("darkmode",!1,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),Qt=Nt("raw_view",!1,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),rs=at(de,n=>n.totalTime()),nt=Nt("volume",10,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>parseInt(n,10)});function os(n){let e,t,s,i=`<img src="${ze}/volume_mute.svg" alt="Mute icon"/>`,r,l,o,u,c=`<img src="${ze}/volume_up.svg" alt="Volume max icon"/>`,a,f;return{c(){e=k("label"),t=k("div"),s=k("button"),s.innerHTML=i,r=N(),l=k("input"),o=N(),u=k("button"),u.innerHTML=c,this.h()},l(d){e=T(d,"LABEL",{});var E=A(e);t=T(E,"DIV",{class:!0});var _=A(t);s=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-t9bnpg"&&(s.innerHTML=i),r=L(_),l=T(_,"INPUT",{class:!0,type:!0,min:!0,max:!0}),o=L(_),u=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-yorq7f"&&(u.innerHTML=c),_.forEach(p),E.forEach(p),this.h()},h(){v(s,"class","leftbutton svelte-1vsc329"),v(l,"class","slider bar svelte-1vsc329"),v(l,"type","range"),v(l,"min","0"),v(l,"max","100"),v(u,"class","svelte-1vsc329"),v(t,"class","container svelte-1vsc329")},m(d,E){j(d,e,E),h(e,t),h(t,s),h(t,r),h(t,l),pe(l,n[0]),h(t,o),h(t,u),a||(f=[F(s,"click",n[2]),F(l,"change",n[5]),F(l,"input",n[5]),F(l,"mouseup",n[1]),F(u,"click",n[3])],a=!0)},p(d,[E]){E&1&&pe(l,d[0])},i:ne,o:ne,d(d){d&&p(e),a=!1,Re(f)}}}function as(n,e,t){let s;ke(n,nt,c=>t(4,s=c));let i=s;function r(c){_t(nt,s=parseInt(c.target.value,10),s)}function l(){_t(nt,s=0,s)}function o(){_t(nt,s=100,s)}function u(){i=On(this.value),t(0,i),t(4,s)}return n.$$.update=()=>{n.$$.dirty&16&&(console.log("volume",s),jn(s/100),t(0,i=s))},[i,r,l,o,s,u]}class cs extends re{constructor(e){super(),oe(this,e,as,os,le,{})}}function us(n,e,t){const s=He();let{debugFlag:i}=e,{active:r=!0}=e,l=0,o=0;function u(a){console.log("run annoyer",a),clearInterval(l),clearTimeout(o),a&&(l=setInterval(()=>{yt(),r||clearInterval(l)},St(i).afterClockIntervalS*1e3),o=setTimeout(()=>{t(0,r=!1),clearInterval(l),c()},St(i).afterClockTimeoutS*1e3))}function c(){s("off")}return n.$$set=a=>{"debugFlag"in a&&t(1,i=a.debugFlag),"active"in a&&t(0,r=a.active)},n.$$.update=()=>{n.$$.dirty&1&&u(r)},[r,i]}class fs extends re{constructor(e){super(),oe(this,e,us,null,le,{debugFlag:1,active:0})}}const xt=ze+"/tea.png",hs=ze+"/clock_red.png",ds=ze+"/clock_yellow.png";function ms(n){if(console.log("changeFavicon",n),typeof document>"u"||document===null)return;const e=document.getElementById("favicon");if(e!==null)switch(n){case X.STOPPED:e.href=xt;break;case X.RUNNING:e.href=hs;break;case X.WAITING_FOR_STOP:e.href=ds;break;default:e.href=xt}}function vs(){const{subscribe:n,set:e,update:t}=ot({state:X.STOPPED,currentTimer:new Ve,clockDuration:0});return{subscribe:n,start:(s,i,r)=>{const l=St(r).timersMultiplier;t(o=>({state:X.RUNNING,currentTimer:new Ve(s,i),clockDuration:s*l}))},alarm:s=>{t(i=>{if(s){const r=Object.assign(Object.create(Object.getPrototypeOf(i.currentTimer)),i.currentTimer,{finish:new Date});return{...i,state:X.STOPPED,clockDuration:0,currentTimer:r}}else return{...i,state:X.WAITING_FOR_STOP}})},stop:()=>{t(s=>{const i=Object.assign(Object.create(Object.getPrototypeOf(s.currentTimer)),s.currentTimer,{finish:new Date});return{...s,state:X.STOPPED,clockDuration:0,currentTimer:i}})},reset:()=>{e({state:X.STOPPED,currentTimer:new Ve,clockDuration:0})}}}const je=vs(),gs=at(je,n=>n.state),ps=at(je,n=>n.currentTimer),_s=at(je,n=>n.clockDuration);function bs(n){let e,t,s;return e=new cs({}),{c(){Y(e.$$.fragment),t=k("br")},l(i){Z(e.$$.fragment,i),t=T(i,"BR",{})},m(i,r){Q(e,i,r),j(i,t,r),s=!0},p:ne,i(i){s||(R(e.$$.fragment,i),s=!0)},o(i){B(e.$$.fragment,i),s=!1},d(i){i&&p(t),x(e,i)}}}function en(n){let e,t;return e=new Ot({props:{title:"stop and don't save logs",$$slots:{default:[ks]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,i){Q(e,s,i),t=!0},p(s,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:s}),e.$set(r)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function ks(n){let e,t="cancel",s,i,r,l;return{c(){e=k("button"),e.textContent=t,s=N(),i=k("br"),this.h()},l(o){e=T(o,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1wi9d3u"&&(e.textContent=t),s=L(o),i=T(o,"BR",{}),this.h()},h(){v(e,"id","stopper"),v(e,"class","svelte-1viwsah")},m(o,u){j(o,e,u),j(o,s,u),j(o,i,u),r||(l=F(e,"click",n[8]),r=!0)},p:ne,d(o){o&&(p(e),p(s),p(i)),r=!1,l()}}}function Ts(n){let e,t,s,i,r,l,o;function u(f){n[10](f)}let c={time:n[4]};n[0]!==void 0&&(c.remainedSeconds=n[0]),t=new Gn({props:c}),Ue.push(()=>Ct(t,"remainedSeconds",u)),t.$on("alarming",n[6]),t.$on("stop",n[9]),r=new Ot({props:{title:"Volume",$$slots:{default:[bs]},$$scope:{ctx:n}}});let a=n[2]!==X.STOPPED&&en(n);return{c(){e=k("div"),Y(t.$$.fragment),i=N(),Y(r.$$.fragment),l=N(),a&&a.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var d=A(e);Z(t.$$.fragment,d),i=L(d),Z(r.$$.fragment,d),l=L(d),a&&a.l(d),d.forEach(p),this.h()},h(){v(e,"class","clock svelte-1viwsah")},m(f,d){j(f,e,d),Q(t,e,null),h(e,i),Q(r,e,null),h(e,l),a&&a.m(e,null),o=!0},p(f,d){const E={};d&16&&(E.time=f[4]),!s&&d&1&&(s=!0,E.remainedSeconds=f[0],It(()=>s=!1)),t.$set(E);const _={};d&65536&&(_.$$scope={dirty:d,ctx:f}),r.$set(_),f[2]!==X.STOPPED?a?(a.p(f,d),d&4&&R(a,1)):(a=en(f),a.c(),R(a,1),a.m(e,null)):a&&($e(),B(a,1,1,()=>{a=null}),Pe())},i(f){o||(R(t.$$.fragment,f),R(r.$$.fragment,f),R(a),o=!0)},o(f){B(t.$$.fragment,f),B(r.$$.fragment,f),B(a),o=!1},d(f){f&&p(e),x(t),x(r),a&&a.d()}}}function ws(n){let e,t,s,i,r={$$slots:{default:[Ts]},$$scope:{ctx:n}};return e=new Qn({props:r}),n[11](e),e.$on("start",n[5]),e.$on("stop",n[12]),s=new fs({props:{active:n[2]===X.WAITING_FOR_STOP,debugFlag:n[1]}}),s.$on("off",n[13]),{c(){Y(e.$$.fragment),t=N(),Y(s.$$.fragment)},l(l){Z(e.$$.fragment,l),t=L(l),Z(s.$$.fragment,l)},m(l,o){Q(e,l,o),j(l,t,o),Q(s,l,o),i=!0},p(l,[o]){const u={};o&65557&&(u.$$scope={dirty:o,ctx:l}),e.$set(u);const c={};o&4&&(c.active=l[2]===X.WAITING_FOR_STOP),o&2&&(c.debugFlag=l[1]),s.$set(c)},i(l){i||(R(e.$$.fragment,l),R(s.$$.fragment,l),i=!0)},o(l){B(e.$$.fragment,l),B(s.$$.fragment,l),i=!1},d(l){l&&p(t),n[11](null),x(e,l),x(s,l)}}}function Ss(n,e,t){let s,i,r;ke(n,gs,b=>t(2,s=b)),ke(n,ps,b=>t(14,i=b)),ke(n,_s,b=>t(4,r=b));const l=He();let{debugFlag:o}=e,{remainedSeconds:u}=e,c;function a(b){s===X.RUNNING&&d(Ne.EMIT),je.start(b.detail.timer,b.detail.name,o),l("current",i)}function f(){const b=typeof document<"u"&&document.visibilityState==="visible";je.alarm(b),b&&(c&&c.clear(),l("timer",i))}function d(b=Ne.EMIT){je.stop(),c&&c.clear(),b===Ne.EMIT&&l("timer",i)}function E(){je.reset(),c&&c.clear(),l("cancel")}function _(){s!==X.STOPPED&&d(Ne.EMIT)}pn(()=>{document.addEventListener("visibilitychange",function(){s===X.WAITING_FOR_STOP&&document.visibilityState==="visible"&&(console.log("visibility change to visible"),d(Ne.EMIT))})});function D(b){u=b,t(0,u)}function g(b){Ue[b?"unshift":"push"](()=>{c=b,t(3,c)})}const m=()=>d(Ne.DO_NOT_EMIT),C=()=>d(Ne.DO_NOT_EMIT);return n.$$set=b=>{"debugFlag"in b&&t(1,o=b.debugFlag),"remainedSeconds"in b&&t(0,u=b.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&ms(s)},[u,o,s,c,r,a,f,d,E,_,D,g,m,C]}class Ds extends re{constructor(e){super(),oe(this,e,Ss,ws,le,{debugFlag:1,remainedSeconds:0})}}function st(n,{delay:e=0,duration:t=400,easing:s=An}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*i}`}}function Es(n){let e;return{c(){e=W("Active for")},l(t){e=q(t,"Active for")},m(t,s){j(t,e,s)},d(t){t&&p(e)}}}function Is(n){let e;return{c(){e=W("Rest for")},l(t){e=q(t,"Rest for")},m(t,s){j(t,e,s)},d(t){t&&p(e)}}}function tn(n){let e,t,s,i,r,l,o,u,c,a;return{c(){e=k("button"),t=W("ch"),i=N(),r=k("button"),l=W("x"),this.h()},l(f){e=T(f,"BUTTON",{class:!0});var d=A(e);t=q(d,"ch"),d.forEach(p),i=L(f),r=T(f,"BUTTON",{class:!0});var E=A(r);l=q(E,"x"),E.forEach(p),this.h()},h(){v(e,"class","mini svelte-i9m2em"),e.hidden=n[1],v(r,"class","mini cross svelte-i9m2em"),r.hidden=n[1]},m(f,d){j(f,e,d),h(e,t),j(f,i,d),j(f,r,d),h(r,l),u=!0,c||(a=[F(e,"click",n[10]),F(r,"click",n[11])],c=!0)},p(f,d){(!u||d&2)&&(e.hidden=f[1]),(!u||d&2)&&(r.hidden=f[1])},i(f){u||(f&&Ut(()=>{u&&(s||(s=xe(e,st,{duration:100},!0)),s.run(1))}),f&&Ut(()=>{u&&(o||(o=xe(r,st,{duration:100},!0)),o.run(1))}),u=!0)},o(f){f&&(s||(s=xe(e,st,{duration:100},!1)),s.run(0)),f&&(o||(o=xe(r,st,{duration:100},!1)),o.run(0)),u=!1},d(f){f&&(p(e),p(i),p(r)),f&&s&&s.end(),f&&o&&o.end(),c=!1,Re(a)}}}function Cs(n){let e,t,s,i,r,l,o,u=Gt(n[4])+"",c,a;function f(D,g){return D[3]?Is:Es}let d=f(n),E=d(n),_=n[1]&&!n[2]&&tn(n);return{c(){e=k("snap"),t=k("snap"),s=W(n[5]),i=N(),r=k("snap"),E.c(),l=N(),o=k("snap"),c=W(u),a=N(),_&&_.c(),this.h()},l(D){e=T(D,"SNAP",{class:!0});var g=A(e);t=T(g,"SNAP",{class:!0});var m=A(t);s=q(m,n[5]),m.forEach(p),i=L(g),r=T(g,"SNAP",{});var C=A(r);E.l(C),C.forEach(p),l=L(g),o=T(g,"SNAP",{class:!0});var b=A(o);c=q(b,u),b.forEach(p),a=L(g),_&&_.l(g),g.forEach(p),this.h()},h(){v(t,"class","time work svelte-i9m2em"),v(o,"class","duration svelte-i9m2em"),v(e,"class","logline svelte-i9m2em"),Le(e,"topLog",n[2]),Le(e,"rest",n[3])},m(D,g){j(D,e,g),h(e,t),h(t,s),h(e,i),h(e,r),E.m(r,null),h(e,l),h(e,o),h(o,c),h(e,a),_&&_.m(e,null)},p(D,[g]){d!==(d=f(D))&&(E.d(1),E=d(D),E&&(E.c(),E.m(r,null))),g&16&&u!==(u=Gt(D[4])+"")&&me(c,u),D[1]&&!D[2]?_?(_.p(D,g),g&6&&R(_,1)):(_=tn(D),_.c(),R(_,1),_.m(e,null)):_&&($e(),B(_,1,1,()=>{_=null}),Pe()),g&4&&Le(e,"topLog",D[2]),g&8&&Le(e,"rest",D[3])},i(D){R(_)},o(D){B(_)},d(D){D&&p(e),E.d(),_&&_.d()}}}function ys(n){let e=n.getHours().toString().padStart(2,"0"),t=n.getMinutes().toString().padStart(2,"0");return`${e}:${t}`}function Os(n,e,t){let s,i;const r=He();let{start:l}=e,{finish:o}=e,{name:u}=e,{rawView:c}=e,{topLog:a=!1}=e,f=ys(l);function d(g){r("change",g)}function E(g){r("remove",g)}const _=()=>d(l),D=()=>E(l);return n.$$set=g=>{"start"in g&&t(0,l=g.start),"finish"in g&&t(8,o=g.finish),"name"in g&&t(9,u=g.name),"rawView"in g&&t(1,c=g.rawView),"topLog"in g&&t(2,a=g.topLog)},n.$$.update=()=>{n.$$.dirty&257&&t(4,s=(o.getTime()-l.getTime())/1e3),n.$$.dirty&512&&t(3,i=u===ie.REST)},[l,c,a,i,s,f,d,E,o,u,_,D]}class In extends re{constructor(e){super(),oe(this,e,Os,Cs,le,{start:0,finish:8,name:9,rawView:1,topLog:2})}}const Lt=ot(null);function As(n){Lt.set(n)}function it(){Lt.set(null)}function Tt(n){const e=n.slice(),t=e[7](e[1]);e[14]=t;const s=e[8](e[1]);e[15]=s;const i=e[9](e[1],e[4]);return e[16]=i,e}function nn(n,e,t){const s=n.slice();s[17]=e[t];const i=s[7](s[17]);s[14]=i;const r=s[8](s[17]);s[15]=r;const l=s[9](s[17],s[0]);s[16]=l;const o=parseFloat(s[14].width);s[18]=o;const u=!s[15]&&s[18]<.5?"2px":s[14].width;return s[19]=u,s}function sn(n,e,t){const s=n.slice();return s[22]=e[t],s}function ln(n){let e;return{c(){e=k("div"),this.h()},l(t){e=T(t,"DIV",{class:!0,style:!0,title:!0}),A(e).forEach(p),this.h()},h(){v(e,"class","future-overlay svelte-tywv71"),z(e,"left",n[5].left),z(e,"width",n[5].width),v(e,"title","Future time")},m(t,s){j(t,e,s)},p(t,s){s&32&&z(e,"left",t[5].left),s&32&&z(e,"width",t[5].width)},d(t){t&&p(e)}}}function rn(n){let e,t,s=n[22].label+"",i,r;return{c(){e=k("div"),t=k("div"),i=W(s),r=N(),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0});var o=A(e);t=T(o,"DIV",{class:!0});var u=A(t);i=q(u,s),u.forEach(p),r=L(o),o.forEach(p),this.h()},h(){v(t,"class","grid-label svelte-tywv71"),v(e,"class","grid-line svelte-tywv71"),z(e,"left",n[22].position+"%")},m(l,o){j(l,e,o),h(e,t),h(t,i),h(e,r)},p(l,o){o&64&&s!==(s=l[22].label+"")&&me(i,s),o&64&&z(e,"left",l[22].position+"%")},d(l){l&&p(e)}}}function on(n,e){let t,s,i,r,l;function o(){return e[11](e[17])}return{key:n,first:null,c(){t=k("div"),this.h()},l(u){t=T(u,"DIV",{class:!0,style:!0,title:!0}),A(t).forEach(p),this.h()},h(){v(t,"class",s="timer-block "+(e[15]?e[16]?"overtime":"work":"rest")+" svelte-tywv71"),z(t,"left",e[14].left),z(t,"width",e[19]),z(t,"min-width",e[15]?"0":"2px"),z(t,"cursor","pointer"),v(t,"title",i=be(e[17].start)+" - "+be(e[17].finish)+" ("+rt(e[17])+")"+(e[16]?" ⚠️ Overtime":"")),this.first=t},m(u,c){j(u,t,c),r||(l=F(t,"click",o),r=!0)},p(u,c){e=u,c&1&&s!==(s="timer-block "+(e[15]?e[16]?"overtime":"work":"rest")+" svelte-tywv71")&&v(t,"class",s),c&1&&z(t,"left",e[14].left),c&1&&z(t,"width",e[19]),c&1&&z(t,"min-width",e[15]?"0":"2px"),c&1&&i!==(i=be(e[17].start)+" - "+be(e[17].finish)+" ("+rt(e[17])+")"+(e[16]?" ⚠️ Overtime":""))&&v(t,"title",i)},d(u){u&&p(t),r=!1,l()}}}function an(n){let e,t,s;return{c(){e=k("div"),this.h()},l(i){e=T(i,"DIV",{class:!0,style:!0,title:!0}),A(e).forEach(p),this.h()},h(){v(e,"class",t="timer-block active "+(n[15]?n[16]?"overtime":"work":"rest")+" svelte-tywv71"),z(e,"left",n[14].left),z(e,"width",n[14].width),v(e,"title",s="Active: "+be(n[1].start)+" - now ("+rt(n[1])+")"+(n[16]?" ⚠️ Overtime":""))},m(i,r){j(i,e,r)},p(i,r){r&18&&t!==(t="timer-block active "+(i[15]?i[16]?"overtime":"work":"rest")+" svelte-tywv71")&&v(e,"class",t),r&2&&z(e,"left",i[14].left),r&2&&z(e,"width",i[14].width),r&18&&s!==(s="Active: "+be(i[1].start)+" - now ("+rt(i[1])+")"+(i[16]?" ⚠️ Overtime":""))&&v(e,"title",s)},d(i){i&&p(e)}}}function Ns(n){let e,t,s='<span class="timeline-title svelte-tywv71">Timer Timeline</span> <div class="legend svelte-tywv71"><span class="legend-item svelte-tywv71"><span class="legend-color work svelte-tywv71"></span> <span>Work</span></span> <span class="legend-item svelte-tywv71"><span class="legend-color overtime svelte-tywv71"></span> <span>Overtime</span></span> <span class="legend-item svelte-tywv71"><span class="legend-color rest svelte-tywv71"></span> <span>Rest</span></span></div>',i,r,l,o=be(new Date(n[2]))+"",u,c,a,f=be(new Date(n[3]))+"",d,E,_,D,g=[],m=new Map,C,b=n[5].visible&&ln(n),y=_e(n[6]),P=[];for(let S=0;S<y.length;S+=1)P[S]=rn(sn(n,y,S));let M=_e(n[0]);const $=S=>S[17].start;for(let S=0;S<M.length;S+=1){let I=nn(n,M,S),O=$(I);m.set(O,g[S]=on(O,I))}let w=n[1]&&an(Tt(n));return{c(){e=k("div"),t=k("div"),t.innerHTML=s,i=N(),r=k("div"),l=k("div"),u=W(o),c=N(),a=k("div"),d=W(f),E=N(),b&&b.c(),_=N();for(let S=0;S<P.length;S+=1)P[S].c();D=N();for(let S=0;S<g.length;S+=1)g[S].c();C=N(),w&&w.c(),this.h()},l(S){e=T(S,"DIV",{class:!0});var I=A(e);t=T(I,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-deqbqd"&&(t.innerHTML=s),i=L(I),r=T(I,"DIV",{class:!0});var O=A(r);l=T(O,"DIV",{class:!0});var U=A(l);u=q(U,o),U.forEach(p),c=L(O),a=T(O,"DIV",{class:!0});var ee=A(a);d=q(ee,f),ee.forEach(p),E=L(O),b&&b.l(O),_=L(O);for(let se=0;se<P.length;se+=1)P[se].l(O);D=L(O);for(let se=0;se<g.length;se+=1)g[se].l(O);C=L(O),w&&w.l(O),O.forEach(p),I.forEach(p),this.h()},h(){v(t,"class","timeline-header svelte-tywv71"),v(l,"class","time-label start svelte-tywv71"),v(a,"class","time-label end svelte-tywv71"),v(r,"class","timeline-bar svelte-tywv71"),v(e,"class","timeline-container svelte-tywv71")},m(S,I){j(S,e,I),h(e,t),h(e,i),h(e,r),h(r,l),h(l,u),h(r,c),h(r,a),h(a,d),h(r,E),b&&b.m(r,null),h(r,_);for(let O=0;O<P.length;O+=1)P[O]&&P[O].m(r,null);h(r,D);for(let O=0;O<g.length;O+=1)g[O]&&g[O].m(r,null);h(r,C),w&&w.m(r,null)},p(S,[I]){if(I&4&&o!==(o=be(new Date(S[2]))+"")&&me(u,o),I&8&&f!==(f=be(new Date(S[3]))+"")&&me(d,f),S[5].visible?b?b.p(S,I):(b=ln(S),b.c(),b.m(r,_)):b&&(b.d(1),b=null),I&64){y=_e(S[6]);let O;for(O=0;O<y.length;O+=1){const U=sn(S,y,O);P[O]?P[O].p(U,I):(P[O]=rn(U),P[O].c(),P[O].m(r,D))}for(;O<P.length;O+=1)P[O].d(1);P.length=y.length}I&897&&(M=_e(S[0]),g=bn(g,I,$,1,S,M,m,r,Mn,on,C,nn)),S[1]?w?w.p(Tt(S),I):(w=an(Tt(S)),w.c(),w.m(r,null)):w&&(w.d(1),w=null)},i:ne,o:ne,d(S){S&&p(e),b&&b.d(),wt(P,S);for(let I=0;I<g.length;I+=1)g[I].d();w&&w.d()}}}function be(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function rt(n){return`${Math.round(n.durationS()/60)} min`}function Ls(n,e,t){let s,i,r,l,o,u,{timers:c=[]}=e,{activeTimer:a=null}=e;const f=2*60*60*1e3;function d(m){if(i===0)return{left:"0%",width:"0%"};const C=m.start.getTime()-r,b=m.finish.getTime()-m.start.getTime(),y=C/i*100,P=b/i*100;return{left:`${y}%`,width:`${P}%`}}function E(m){return m.name===ie.WORK}function _(m,C){const b=C.findIndex($=>$.start.getTime()===m.start.getTime());if(b<=0)return!0;const y=C[b-1];return E(y)?(m.start.getTime()-y.finish.getTime())/(1e3*60)>=1:!0}function D(m,C){if(!E(m))return!1;if(!_(m,C))return!0;if(!m.value||m.value===0)return!1;const b=m.durationS()/60,y=m.value;return b>y*1.1}const g=m=>As(m);return n.$$set=m=>{"timers"in m&&t(0,c=m.timers),"activeTimer"in m&&t(1,a=m.activeTimer)},n.$$.update=()=>{n.$$.dirty&3&&t(4,s=a?[...c,a]:c),n.$$.dirty&16&&t(10,i=(()=>{if(s.length===0)return f;const m=Math.max(...s.map(C=>C.finish.getTime()))-Math.min(...s.map(C=>C.start.getTime()));return Math.max(m,f)})()),n.$$.dirty&16&&t(2,r=s.length===0?Date.now():Math.min(...s.map(m=>m.start.getTime()))),n.$$.dirty&20&&t(3,l=(()=>{if(s.length===0)return Date.now()+f;const m=Math.max(...s.map(C=>C.finish.getTime()));return Math.max(m,r+f)})()),n.$$.dirty&1036&&t(6,o=(()=>{if(i===0)return[];const m=[],C=new Date(r),b=new Date(l),y=new Date(C);for(y.setMinutes(0,0,0),y.setHours(y.getHours()+1);y.getTime()<=b.getTime();){const M=(y.getTime()-r)/i*100;M>=0&&M<=100&&m.push({position:M,label:y.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),y.setHours(y.getHours()+1)}return m})()),n.$$.dirty&1036&&t(5,u=(()=>{const m=Date.now();if(l>m){const C=Math.max(r,m),b=C-r,y=l-C,P=b/i*100,M=y/i*100;return{left:`${P}%`,width:`${M}%`,visible:M>0}}return{left:"0%",width:"0%",visible:!1}})())},[c,a,r,l,s,u,o,d,E,D,i,g]}class Ms extends re{constructor(e){super(),oe(this,e,Ls,Ns,le,{timers:0,activeTimer:1})}}function cn(n){let e,t,s,i,r="Edit Timer",l,o,u="×",c,a,f,d,E="Type:",_,D,g=n[0].name+"",m,C,b,y,P="Duration:",M,$,w,S,I,O,U,ee="Start Date",se,ae,ce,ve,V,G="Start Time",K,J,Be,Se,De,Mt="Finish Date",ct,Te,ut,Ee,Ie,$t="Finish Time",ft,we,ht,ue,Ce,Pt="Delete",dt,Ge,mt,ye,jt="Cancel",vt,Oe,Vt="Save",gt,Rt;return{c(){e=k("div"),t=k("div"),s=k("div"),i=k("h2"),i.textContent=r,l=N(),o=k("button"),o.textContent=u,c=N(),a=k("div"),f=k("div"),d=k("span"),d.textContent=E,_=N(),D=k("span"),m=W(g),C=N(),b=k("div"),y=k("span"),y.textContent=P,M=N(),$=k("span"),w=W(n[5]),S=W(" min"),I=N(),O=k("div"),U=k("label"),U.textContent=ee,se=N(),ae=k("input"),ce=N(),ve=k("div"),V=k("label"),V.textContent=G,K=N(),J=k("input"),Be=N(),Se=k("div"),De=k("label"),De.textContent=Mt,ct=N(),Te=k("input"),ut=N(),Ee=k("div"),Ie=k("label"),Ie.textContent=$t,ft=N(),we=k("input"),ht=N(),ue=k("div"),Ce=k("button"),Ce.textContent=Pt,dt=N(),Ge=k("div"),mt=N(),ye=k("button"),ye.textContent=jt,vt=N(),Oe=k("button"),Oe.textContent=Vt,this.h()},l(fe){e=T(fe,"DIV",{class:!0});var ge=A(e);t=T(ge,"DIV",{class:!0});var Fe=A(t);s=T(Fe,"DIV",{class:!0});var qe=A(s);i=T(qe,"H2",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1ut3txv"&&(i.textContent=r),l=L(qe),o=T(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-y9ayml"&&(o.textContent=u),qe.forEach(p),c=L(Fe),a=T(Fe,"DIV",{class:!0});var he=A(a);f=T(he,"DIV",{class:!0});var Ke=A(f);d=T(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-owo3qx"&&(d.textContent=E),_=L(Ke),D=T(Ke,"SPAN",{class:!0});var Bt=A(D);m=q(Bt,g),Bt.forEach(p),Ke.forEach(p),C=L(he),b=T(he,"DIV",{class:!0});var Je=A(b);y=T(Je,"SPAN",{class:!0,"data-svelte-h":!0}),H(y)!=="svelte-2ef875"&&(y.textContent=P),M=L(Je),$=T(Je,"SPAN",{class:!0});var pt=A($);w=q(pt,n[5]),S=q(pt," min"),pt.forEach(p),Je.forEach(p),I=L(he),O=T(he,"DIV",{class:!0});var Xe=A(O);U=T(Xe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(U)!=="svelte-1ckltzx"&&(U.textContent=ee),se=L(Xe),ae=T(Xe,"INPUT",{id:!0,type:!0,class:!0}),Xe.forEach(p),ce=L(he),ve=T(he,"DIV",{class:!0});var Ye=A(ve);V=T(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(V)!=="svelte-khap7h"&&(V.textContent=G),K=L(Ye),J=T(Ye,"INPUT",{id:!0,type:!0,class:!0}),Ye.forEach(p),Be=L(he),Se=T(he,"DIV",{class:!0});var Ze=A(Se);De=T(Ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(De)!=="svelte-149h0b9"&&(De.textContent=Mt),ct=L(Ze),Te=T(Ze,"INPUT",{id:!0,type:!0,class:!0}),Ze.forEach(p),ut=L(he),Ee=T(he,"DIV",{class:!0});var Qe=A(Ee);Ie=T(Qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(Ie)!=="svelte-xk8g5r"&&(Ie.textContent=$t),ft=L(Qe),we=T(Qe,"INPUT",{id:!0,type:!0,class:!0}),Qe.forEach(p),he.forEach(p),ht=L(Fe),ue=T(Fe,"DIV",{class:!0});var Ae=A(ue);Ce=T(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),H(Ce)!=="svelte-6r50uh"&&(Ce.textContent=Pt),dt=L(Ae),Ge=T(Ae,"DIV",{class:!0}),A(Ge).forEach(p),mt=L(Ae),ye=T(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),H(ye)!=="svelte-1ph2inm"&&(ye.textContent=jt),vt=L(Ae),Oe=T(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),H(Oe)!=="svelte-9t0vpj"&&(Oe.textContent=Vt),Ae.forEach(p),Fe.forEach(p),ge.forEach(p),this.h()},h(){v(i,"class","svelte-5ojikg"),v(o,"class","close-btn svelte-5ojikg"),v(s,"class","modal-header svelte-5ojikg"),v(d,"class","label svelte-5ojikg"),v(D,"class","value svelte-5ojikg"),v(f,"class","info svelte-5ojikg"),v(y,"class","label svelte-5ojikg"),v($,"class","value svelte-5ojikg"),v(b,"class","info svelte-5ojikg"),v(U,"for","start-date"),v(U,"class","svelte-5ojikg"),v(ae,"id","start-date"),v(ae,"type","date"),v(ae,"class","svelte-5ojikg"),v(O,"class","form-group svelte-5ojikg"),v(V,"for","start-time"),v(V,"class","svelte-5ojikg"),v(J,"id","start-time"),v(J,"type","time"),v(J,"class","svelte-5ojikg"),v(ve,"class","form-group svelte-5ojikg"),v(De,"for","finish-date"),v(De,"class","svelte-5ojikg"),v(Te,"id","finish-date"),v(Te,"type","date"),v(Te,"class","svelte-5ojikg"),v(Se,"class","form-group svelte-5ojikg"),v(Ie,"for","finish-time"),v(Ie,"class","svelte-5ojikg"),v(we,"id","finish-time"),v(we,"type","time"),v(we,"class","svelte-5ojikg"),v(Ee,"class","form-group svelte-5ojikg"),v(a,"class","modal-body svelte-5ojikg"),v(Ce,"class","btn btn-delete svelte-5ojikg"),v(Ge,"class","spacer svelte-5ojikg"),v(ye,"class","btn btn-cancel svelte-5ojikg"),v(Oe,"class","btn btn-save svelte-5ojikg"),v(ue,"class","modal-footer svelte-5ojikg"),v(t,"class","modal svelte-5ojikg"),v(e,"class","modal-backdrop svelte-5ojikg")},m(fe,ge){j(fe,e,ge),h(e,t),h(t,s),h(s,i),h(s,l),h(s,o),h(t,c),h(t,a),h(a,f),h(f,d),h(f,_),h(f,D),h(D,m),h(a,C),h(a,b),h(b,y),h(b,M),h(b,$),h($,w),h($,S),h(a,I),h(a,O),h(O,U),h(O,se),h(O,ae),pe(ae,n[3]),h(a,ce),h(a,ve),h(ve,V),h(ve,K),h(ve,J),pe(J,n[1]),h(a,Be),h(a,Se),h(Se,De),h(Se,ct),h(Se,Te),pe(Te,n[4]),h(a,ut),h(a,Ee),h(Ee,Ie),h(Ee,ft),h(Ee,we),pe(we,n[2]),h(t,ht),h(t,ue),h(ue,Ce),h(ue,dt),h(ue,Ge),h(ue,mt),h(ue,ye),h(ue,vt),h(ue,Oe),gt||(Rt=[F(o,"click",n[7]),F(ae,"input",n[11]),F(J,"input",n[12]),F(Te,"input",n[13]),F(we,"input",n[14]),F(Ce,"click",n[8]),F(ye,"click",n[7]),F(Oe,"click",n[6]),F(t,"click",Nn(n[10])),F(e,"click",n[7])],gt=!0)},p(fe,ge){ge&1&&g!==(g=fe[0].name+"")&&me(m,g),ge&32&&me(w,fe[5]),ge&8&&pe(ae,fe[3]),ge&2&&pe(J,fe[1]),ge&16&&pe(Te,fe[4]),ge&4&&pe(we,fe[2])},d(fe){fe&&p(e),gt=!1,Re(Rt)}}}function $s(n){let e,t,s,i=n[0]&&cn(n);return{c(){i&&i.c(),e=Me()},l(r){i&&i.l(r),e=Me()},m(r,l){i&&i.m(r,l),j(r,e,l),t||(s=F(window,"keydown",n[9]),t=!0)},p(r,[l]){r[0]?i?i.p(r,l):(i=cn(r),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:ne,o:ne,d(r){r&&p(e),i&&i.d(r),t=!1,s()}}}function Ps(n,e,t){let s,i;ke(n,Lt,C=>t(0,i=C));let r="",l="",o="",u="";function c(){if(!i)return;const C=new Date(`${o}T${r}`),b=new Date(`${u}T${l}`);if(C>=b){alert("Start time must be before finish time");return}de.update(y=>{const P=y.timerHistory.list.find(M=>M.start.getTime()===i.start.getTime());return P&&(P.start=C,P.finish=b),y}),it()}function a(){it()}function f(){i&&confirm("Delete this timer?")&&(de.update(C=>C.remove(i.start)),it())}function d(C){C.key==="Escape"&&it()}function E(C){Ln.call(this,n,C)}function _(){o=this.value,t(3,o),t(0,i)}function D(){r=this.value,t(1,r),t(0,i)}function g(){u=this.value,t(4,u),t(0,i)}function m(){l=this.value,t(2,l),t(0,i)}return n.$$.update=()=>{if(n.$$.dirty&1&&i){const C=i.start,b=i.finish;t(3,o=C.toISOString().split("T")[0]),t(1,r=C.toTimeString().slice(0,5)),t(4,u=b.toISOString().split("T")[0]),t(2,l=b.toTimeString().slice(0,5))}n.$$.dirty&1&&t(5,s=i?Math.round(i.durationS()/60):0)},[i,r,l,o,u,s,c,a,f,d,E,_,D,g,m]}class js extends re{constructor(e){super(),oe(this,e,Ps,$s,le,{})}}function Vs(n){let e,t,s,i,r,l,o,u,c,a,f,d,E,_,D;return{c(){e=k("div"),t=k("span"),s=W(n[1]),r=N(),l=k("label"),o=k("input"),u=N(),c=k("span"),a=N(),f=k("span"),d=W(n[2]),this.h()},l(g){e=T(g,"DIV",{class:!0});var m=A(e);t=T(m,"SPAN",{class:!0});var C=A(t);s=q(C,n[1]),C.forEach(p),r=L(m),l=T(m,"LABEL",{class:!0});var b=A(l);o=T(b,"INPUT",{type:!0,class:!0}),u=L(b),c=T(b,"SPAN",{class:!0}),A(c).forEach(p),b.forEach(p),a=L(m),f=T(m,"SPAN",{class:!0});var y=A(f);d=q(y,n[2]),y.forEach(p),m.forEach(p),this.h()},h(){v(t,"class",i="toggle-label "+(n[0]?"":"active")+" svelte-hq2js7"),v(o,"type","checkbox"),v(o,"class","svelte-hq2js7"),v(c,"class","slider svelte-hq2js7"),v(l,"class","toggle-switch svelte-hq2js7"),v(f,"class",E="toggle-label "+(n[0]?"active":"")+" svelte-hq2js7"),v(e,"class","toggle-container svelte-hq2js7")},m(g,m){j(g,e,m),h(e,t),h(t,s),h(e,r),h(e,l),h(l,o),o.checked=n[0],h(l,u),h(l,c),h(e,a),h(e,f),h(f,d),_||(D=F(o,"change",n[3]),_=!0)},p(g,[m]){m&2&&me(s,g[1]),m&1&&i!==(i="toggle-label "+(g[0]?"":"active")+" svelte-hq2js7")&&v(t,"class",i),m&1&&(o.checked=g[0]),m&4&&me(d,g[2]),m&1&&E!==(E="toggle-label "+(g[0]?"active":"")+" svelte-hq2js7")&&v(f,"class",E)},i:ne,o:ne,d(g){g&&p(e),_=!1,D()}}}function Rs(n,e,t){let{checked:s=!1}=e,{leftLabel:i=""}=e,{rightLabel:r=""}=e;function l(){s=this.checked,t(0,s)}return n.$$set=o=>{"checked"in o&&t(0,s=o.checked),"leftLabel"in o&&t(1,i=o.leftLabel),"rightLabel"in o&&t(2,r=o.rightLabel)},[s,i,r,l]}class Bs extends re{constructor(e){super(),oe(this,e,Rs,Vs,le,{checked:0,leftLabel:1,rightLabel:2})}}function un(n,e,t){const s=n.slice();return s[10]=e[t],s}function Fs(n){let e,t,s=[],i=new Map,r,l=n[1].active&&fn(n),o=_e([...n[2]].reverse());const u=c=>c[10].start;for(let c=0;c<o.length;c+=1){let a=un(n,o,c),f=u(a);i.set(f,s[c]=hn(f,a))}return{c(){e=k("div"),l&&l.c(),t=N();for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=T(c,"DIV",{class:!0});var a=A(e);l&&l.l(a),t=L(a);for(let f=0;f<s.length;f+=1)s[f].l(a);a.forEach(p),this.h()},h(){v(e,"class","logs svelte-1jzxnm3")},m(c,a){j(c,e,a),l&&l.m(e,null),h(e,t);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);r=!0},p(c,a){c[1].active?l?(l.p(c,a),a&2&&R(l,1)):(l=fn(c),l.c(),R(l,1),l.m(e,t)):l&&($e(),B(l,1,1,()=>{l=null}),Pe()),a&5&&(o=_e([...c[2]].reverse()),$e(),s=bn(s,a,u,1,c,o,i,e,$n,hn,null,un),Pe())},i(c){if(!r){R(l);for(let a=0;a<o.length;a+=1)R(s[a]);r=!0}},o(c){B(l);for(let a=0;a<s.length;a+=1)B(s[a]);r=!1},d(c){c&&p(e),l&&l.d();for(let a=0;a<s.length;a+=1)s[a].d()}}}function Us(n){let e,t;return e=new Ms({props:{timers:n[2],activeTimer:n[1].active}}),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,i){Q(e,s,i),t=!0},p(s,i){const r={};i&4&&(r.timers=s[2]),i&2&&(r.activeTimer=s[1].active),e.$set(r)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function fn(n){let e,t,s;const i=[n[1].active,{rawView:n[0]},{topLog:!0}];let r={};for(let l=0;l<i.length;l+=1)r=_n(r,i[l]);return e=new In({props:r}),{c(){Y(e.$$.fragment),t=k("br")},l(l){Z(e.$$.fragment,l),t=T(l,"BR",{})},m(l,o){Q(e,l,o),j(l,t,o),s=!0},p(l,o){const u=o&3?kn(i,[o&2&&Tn(l[1].active),o&1&&{rawView:l[0]},i[2]]):{};e.$set(u)},i(l){s||(R(e.$$.fragment,l),s=!0)},o(l){B(e.$$.fragment,l),s=!1},d(l){l&&p(t),x(e,l)}}}function hn(n,e){let t,s,i,r,l;const o=[e[10],{rawView:e[0]},{topLog:!1}];let u={};for(let c=0;c<o.length;c+=1)u=_n(u,o[c]);return s=new In({props:u}),s.$on("change",e[8]),s.$on("remove",e[9]),{key:n,first:null,c(){t=Me(),Y(s.$$.fragment),i=N(),r=k("br"),this.h()},l(c){t=Me(),Z(s.$$.fragment,c),i=L(c),r=T(c,"BR",{}),this.h()},h(){this.first=t},m(c,a){j(c,t,a),Q(s,c,a),j(c,i,a),j(c,r,a),l=!0},p(c,a){e=c;const f=a&5?kn(o,[a&4&&Tn(e[10]),a&1&&{rawView:e[0]},o[2]]):{};s.$set(f)},i(c){l||(R(s.$$.fragment,c),l=!0)},o(c){B(s.$$.fragment,c),l=!1},d(c){c&&(p(t),p(i),p(r)),x(s,c)}}}function zs(n){let e,t,s,i,r,l="Clear logs",o,u,c="Active time: ",a,f=Wt(n[4])+"",d,E,_,D,g,m="Edit",C,b,y,P,M,$,w,S,I,O,U;e=new js({});function ee(V){n[7](V)}let se={leftLabel:"Logs",rightLabel:"Graph"};n[3]!==void 0&&(se.checked=n[3]),y=new Bs({props:se}),Ue.push(()=>Ct(y,"checked",ee));const ae=[Us,Fs],ce=[];function ve(V,G){return V[3]?0:1}return $=ve(n),w=ce[$]=ae[$](n),{c(){Y(e.$$.fragment),t=N(),s=k("div"),i=k("div"),r=k("button"),r.textContent=l,o=N(),u=k("span"),u.textContent=c,a=k("span"),d=W(f),E=N(),_=k("input"),D=N(),g=k("label"),g.textContent=m,C=N(),b=k("div"),Y(y.$$.fragment),M=N(),w.c(),S=Me(),this.h()},l(V){Z(e.$$.fragment,V),t=L(V),s=T(V,"DIV",{class:!0});var G=A(s);i=T(G,"DIV",{class:!0});var K=A(i);r=T(K,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1renoko"&&(r.textContent=l),o=L(K),u=T(K,"SPAN",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-18pz33x"&&(u.textContent=c),a=T(K,"SPAN",{class:!0});var J=A(a);d=q(J,f),J.forEach(p),E=L(K),_=T(K,"INPUT",{type:!0,id:!0,name:!0}),D=L(K),g=T(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(g)!=="svelte-mquioa"&&(g.textContent=m),K.forEach(p),C=L(G),b=T(G,"DIV",{class:!0});var Be=A(b);Z(y.$$.fragment,Be),Be.forEach(p),G.forEach(p),M=L(V),w.l(V),S=Me(),this.h()},h(){v(r,"class","clear svelte-1jzxnm3"),v(u,"class","svelte-1jzxnm3"),v(a,"class","svelte-1jzxnm3"),v(_,"type","checkbox"),v(_,"id","edit"),v(_,"name","edit"),v(g,"for","edit"),v(g,"class","svelte-1jzxnm3"),v(i,"class","header-left svelte-1jzxnm3"),v(b,"class","header-right svelte-1jzxnm3"),v(s,"class","header svelte-1jzxnm3")},m(V,G){Q(e,V,G),j(V,t,G),j(V,s,G),h(s,i),h(i,r),h(i,o),h(i,u),h(i,a),h(a,d),h(i,E),h(i,_),_.checked=n[0],h(i,D),h(i,g),h(s,C),h(s,b),Q(y,b,null),j(V,M,G),ce[$].m(V,G),j(V,S,G),I=!0,O||(U=[F(r,"click",n[5]),F(_,"change",n[6])],O=!0)},p(V,[G]){(!I||G&16)&&f!==(f=Wt(V[4])+"")&&me(d,f),G&1&&(_.checked=V[0]);const K={};!P&&G&8&&(P=!0,K.checked=V[3],It(()=>P=!1)),y.$set(K);let J=$;$=ve(V),$===J?ce[$].p(V,G):($e(),B(ce[J],1,1,()=>{ce[J]=null}),Pe(),w=ce[$],w?w.p(V,G):(w=ce[$]=ae[$](V),w.c()),R(w,1),w.m(S.parentNode,S))},i(V){I||(R(e.$$.fragment,V),R(y.$$.fragment,V),R(w),I=!0)},o(V){B(e.$$.fragment,V),B(y.$$.fragment,V),B(w),I=!1},d(V){V&&(p(t),p(s),p(M),p(S)),x(e,V),x(y),ce[$].d(V),O=!1,Re(U)}}}function Hs(n,e){return n!=null&&n.timerHistory?n.timerHistory.normalize(!e):[]}function Gs(n,e,t){let s,i,r;ke(n,Qt,E=>t(0,s=E)),ke(n,de,E=>t(1,i=E)),ke(n,rs,E=>t(4,r=E));var l=[];let o=!0;const u=()=>de.update(E=>E.clearLogs());function c(){s=this.checked,Qt.set(s)}function a(E){o=E,t(3,o)}const f=E=>de.update(_=>_.changeLineType(E.detail)),d=E=>de.update(_=>_.remove(E.detail));return n.$$.update=()=>{n.$$.dirty&3&&t(2,l=Hs(i,s))},[s,i,l,o,r,u,c,a,f,d]}class Ws extends re{constructor(e){super(),oe(this,e,Gs,zs,le,{})}}function qs(n){let e,t,s,i,r="Let's Pomodoro!",l,o,u,c,a,f,d;function E(D){n[9](D)}let _={debugFlag:n[1]};return n[0]!==void 0&&(_.remainedSeconds=n[0]),o=new Ds({props:_}),Ue.push(()=>Ct(o,"remainedSeconds",E)),o.$on("timer",n[4]),o.$on("current",n[5]),o.$on("cancel",n[6]),f=new Ws({}),{c(){e=k("main"),t=k("div"),s=k("div"),i=k("h1"),i.textContent=r,l=N(),Y(o.$$.fragment),c=N(),a=k("div"),Y(f.$$.fragment),this.h()},l(D){e=T(D,"MAIN",{class:!0});var g=A(e);t=T(g,"DIV",{class:!0});var m=A(t);s=T(m,"DIV",{class:!0});var C=A(s);i=T(C,"H1",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-cxq7y3"&&(i.textContent=r),l=L(C),Z(o.$$.fragment,C),C.forEach(p),c=L(m),a=T(m,"DIV",{class:!0});var b=A(a);Z(f.$$.fragment,b),b.forEach(p),m.forEach(p),g.forEach(p),this.h()},h(){v(i,"class","logo svelte-1tn61l8"),v(s,"class","pomodoro svelte-1tn61l8"),v(a,"class","logs svelte-1tn61l8"),v(t,"class","container svelte-1tn61l8"),v(e,"class","svelte-1tn61l8"),Le(e,"dark",n[3])},m(D,g){j(D,e,g),h(e,t),h(t,s),h(s,i),h(s,l),Q(o,s,null),h(t,c),h(t,a),Q(f,a,null),d=!0},p(D,g){const m={};g&2&&(m.debugFlag=D[1]),!u&&g&1&&(u=!0,m.remainedSeconds=D[0],It(()=>u=!1)),o.$set(m),(!d||g&8)&&Le(e,"dark",D[3])},i(D){d||(R(o.$$.fragment,D),R(f.$$.fragment,D),d=!0)},o(D){B(o.$$.fragment,D),B(f.$$.fragment,D),d=!1},d(D){D&&p(e),x(o),x(f)}}}function Ks(n){let e;return{c(){e=k("main"),this.h()},l(t){e=T(t,"MAIN",{style:!0,class:!0}),A(e).forEach(p),this.h()},h(){z(e,"background-color","gray"),z(e,"height","90 vh"),v(e,"class","svelte-1tn61l8")},m(t,s){j(t,e,s)},p:ne,i:ne,o:ne,d(t){t&&p(e)}}}function Js(n){let e,t,s,i,r,l,o,u,c,a="Toggle Dark Mode",f,d,E;const _=[Ks,qs],D=[];function g(m,C){return m[2]?0:1}return e=g(n),t=D[e]=_[e](n),{c(){t.c(),s=N(),i=k("div"),r=k("label"),l=W("Debug:"),o=k("input"),u=N(),c=k("button"),c.textContent=a,this.h()},l(m){t.l(m),s=L(m),i=T(m,"DIV",{class:!0});var C=A(i);r=T(C,"LABEL",{id:!0});var b=A(r);l=q(b,"Debug:"),o=T(b,"INPUT",{type:!0}),u=L(b),c=T(b,"BUTTON",{"data-svelte-h":!0}),H(c)!=="svelte-7kmdhl"&&(c.textContent=a),b.forEach(p),C.forEach(p),this.h()},h(){v(o,"type","checkbox"),v(r,"id","debug"),v(i,"class","debug-div svelte-1tn61l8")},m(m,C){D[e].m(m,C),j(m,s,C),j(m,i,C),h(i,r),h(r,l),h(r,o),o.checked=n[1],h(r,u),h(r,c),f=!0,d||(E=[F(o,"change",n[10]),F(c,"click",n[7])],d=!0)},p(m,[C]){let b=e;e=g(m),e===b?D[e].p(m,C):($e(),B(D[b],1,1,()=>{D[b]=null}),Pe(),t=D[e],t?t.p(m,C):(t=D[e]=_[e](m),t.c()),R(t,1),t.m(s.parentNode,s)),C&2&&(o.checked=m[1])},i(m){f||(R(t),f=!0)},o(m){B(t),f=!1},d(m){m&&(p(s),p(i)),D[e].d(m),d=!1,Re(E)}}}function Xs(n,e,t){let s,i;ke(n,Zt,_=>t(3,s=_)),ke(n,de,_=>t(8,i=_));let r=!1,l,o=!0;function u(_){de.update(D=>D.addTimer(_.detail))}function c(_){de.update(D=>D.setActive(_.detail))}function a(){de.update(_=>_.resetActive())}pn(()=>{console.log("get darkmode:",s),t(2,o=!1)});function f(){Zt.update(_=>!_),console.log("toggle dark",s)}function d(_){l=_,t(0,l)}function E(){r=this.checked,t(1,r)}return n.$$.update=()=>{n.$$.dirty&257&&i&&l!==void 0&&de.update(_=>(_.setActiveDur(l),_))},[l,r,o,s,u,c,a,f,i,d,E]}class ei extends re{constructor(e){super(),oe(this,e,Xs,Js,le,{})}}export{ei as component};
