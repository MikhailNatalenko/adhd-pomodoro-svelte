var Ln=Object.defineProperty;var Vn=(n,e,t)=>e in n?Ln(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var he=(n,e,t)=>Vn(n,typeof e!="symbol"?e+"":e,t);import{r as $e,s as we,c as kn,e as w,b as $,v as qe,d as T,f as M,i as m,j as L,y as _,k as R,P as W,u as bn,g as Sn,a as Dn,t as G,h as K,z as F,l as d,m as Y,Q as et,R as Ft,S as je,n as x,T as Q,U as ut,A as Ue,V as Bt,o as De,W as wt,X as Rn,x as En,Y as Ct,Z as zt,_ as Wt,$ as In}from"../chunks/scheduler.DKswyAsD.js";import{a as B,t as U,S as Te,i as ke,b as oe,d as ae,m as ce,e as ue,g as Fe,c as Be,f as Mt}from"../chunks/index.CGzl_g6S.js";import{b as Ye,w as dt,d as mt}from"../chunks/paths.DW6Tt8Os.js";function be(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Hn(n,e){n.d(1),e.delete(n.key)}function Un(n,e){B(n,1,1,()=>{e.delete(n.key)})}function yn(n,e,t,i,s,r,l,o,u,a,c,f){let h=n.length,v=r.length,k=h;const O={};for(;k--;)O[n[k].key]=k;const C=[],E=new Map,S=new Map,g=[];for(k=v;k--;){const P=f(s,r,k),p=t(P);let b=l.get(p);b?g.push(()=>b.p(P,e)):(b=a(p,P),b.c()),E.set(p,C[k]=b),p in O&&S.set(p,Math.abs(k-O[p]))}const y=new Set,I=new Set;function N(P){U(P,1),P.m(o,c),l.set(P.key,P),c=P.first,v--}for(;h&&v;){const P=C[v-1],p=n[h-1],b=P.key,D=p.key;P===p?(c=P.first,h--,v--):E.has(D)?!l.has(b)||y.has(b)?N(P):I.has(D)?h--:S.get(b)>S.get(D)?(I.add(b),N(P)):(y.add(D),h--):(u(p,l),h--)}for(;h--;){const P=n[h];E.has(P.key)||u(P,l)}for(;v;)N(C[v-1]);return $e(g),C}function On(n,e){const t={},i={},s={$$scope:1};let r=n.length;for(;r--;){const l=n[r],o=e[r];if(o){for(const u in l)u in o||(i[u]=1);for(const u in o)s[u]||(t[u]=o[u],s[u]=1);n[r]=o}else for(const u in l)s[u]=1}for(const l in i)l in t||(t[l]=void 0);return t}function Cn(n){return typeof n=="object"&&n!==null?n:{}}const Fn=Ye+"/ring2.wav";let Mn=function(){},xe,Tt,Nn=.5,rt;if(typeof window<"u"){let n=window.AudioContext||window.webkitAudioContext;xe=new n,fetch(Fn).then(e=>e.arrayBuffer()).then(e=>xe.decodeAudioData(e)).then(e=>{Tt=e}).catch(e=>console.error("Error loading sound file:",e)),Mn=function(){if(!Tt)return;rt=xe.createBufferSource(),rt.buffer=Tt;let e=xe.createGain();e.gain.value=Nn,rt.connect(e),e.connect(xe.destination),rt.start(0)}}function Nt(){Mn()}function Bn(n,e){Nn=n,Nt()}function Gt(n){let e,t;return{c(){e=w("div"),t=G(n[0]),this.h()},l(i){e=T(i,"DIV",{style:!0,class:!0});var s=M(e);t=K(s,n[0]),s.forEach(m),this.h()},h(){F(e,"top",n[3]+"px"),F(e,"left",n[2]+"px"),_(e,"class","tooltip svelte-43gogz")},m(i,s){R(i,e,s),d(e,t)},p(i,s){s&1&&Y(t,i[0]),s&8&&F(e,"top",i[3]+"px"),s&4&&F(e,"left",i[2]+"px")},d(i){i&&m(e)}}}function zn(n){let e,t,i,s,r,l;const o=n[8].default,u=kn(o,n,n[7],null);let a=n[1]&&Gt(n);return{c(){e=w("div"),u&&u.c(),t=$(),a&&a.c(),i=qe(),this.h()},l(c){e=T(c,"DIV",{"aria-hidden":!0});var f=M(e);u&&u.l(f),f.forEach(m),t=L(c),a&&a.l(c),i=qe(),this.h()},h(){_(e,"aria-hidden","true")},m(c,f){R(c,e,f),u&&u.m(e,null),R(c,t,f),a&&a.m(c,f),R(c,i,f),s=!0,r||(l=[W(e,"mouseover",n[4]),W(e,"mouseleave",n[6]),W(e,"mousemove",n[5]),W(e,"focus",Wn)],r=!0)},p(c,[f]){u&&u.p&&(!s||f&128)&&bn(u,o,c,c[7],s?Dn(o,c[7],f,null):Sn(c[7]),null),c[1]?a?a.p(c,f):(a=Gt(c),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(c){s||(U(u,c),s=!0)},o(c){B(u,c),s=!1},d(c){c&&(m(e),m(t),m(i)),u&&u.d(c),a&&a.d(c),r=!1,$e(l)}}}const Wn=function(){};function Gn(n,e,t){let{$$slots:i={},$$scope:s}=e,{title:r=""}=e,l=!1,o,u;function a(h){t(1,l=!0),t(2,o=h.pageX+10),t(3,u=h.pageY+10)}function c(h){t(2,o=h.pageX+10),t(3,u=h.pageY+10)}function f(){t(1,l=!1)}return n.$$set=h=>{"title"in h&&t(0,r=h.title),"$$scope"in h&&t(7,s=h.$$scope)},[r,l,o,u,a,c,f,s,i]}class At extends Te{constructor(e){super(),ke(this,e,Gn,zn,we,{title:0})}}function Kt(n){let e=Math.floor(n/60),t=Math.floor(n%60).toString().padStart(2,"0"),i=e.toString().padStart(2,"0");if(e>60){let s=Math.floor(e/60);return i=Math.floor(e%60).toString().padStart(2,"0"),`${s}:${i}:${t}`}return`${i}:${t}`}function Xt(n){let e=Math.floor(n/60),t=Math.floor(n%60);if(e>60){let i=Math.floor(e/60);return e=Math.floor(e%60),`${i}h ${e} min`}else return e>0?`${e} min`:`${t} sec`}function Jt(n){let e=Math.floor(n/3600);e>0&&(n=n-e*3600);let t=Math.floor(n/60),i=Math.floor(n%60);return e==1?`${e} hour ${t} min`:e>0?`${e} hours ${t} min`:t>=5?`${t} min`:t>1?`${t} min ${i} sec`:`${i} sec`}class Kn{constructor(e,t,i,s=300){he(this,"intervalId",0);he(this,"duration",0);he(this,"start",0);he(this,"remain",0);he(this,"onSec",e=>{});he(this,"onAlarm",()=>{});this.duration=e,this.remain=e,e>0&&(this.onSec=t,this.onAlarm=i,this.start=Date.now(),this.intervalId=setInterval(()=>{const r=Math.ceil((Date.now()-this.start)/1e3);let l=this.duration-r;l!=this.remain&&(t(this.remain),this.remain=l,this.remain<=0&&(this.onAlarm(),clearInterval(this.intervalId)))},s))}stop(){clearInterval(this.intervalId)}}function Xn(n){let e,t=Kt(n[0])+"",i,s,r;return{c(){e=w("button"),i=G(t),this.h()},l(l){e=T(l,"BUTTON",{id:!0,class:!0});var o=M(e);i=K(o,t),o.forEach(m),this.h()},h(){_(e,"id","watch"),_(e,"class","svelte-1kj7nhv")},m(l,o){R(l,e,o),d(e,i),s||(r=W(e,"click",n[1]),s=!0)},p(l,o){o&1&&t!==(t=Kt(l[0])+"")&&Y(i,t)},d(l){l&&m(e),s=!1,r()}}}function Jn(n){let e,t;return e=new At({props:{title:"stop timer",$$slots:{default:[Xn]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,s){ce(e,i,s),t=!0},p(i,[s]){const r={};s&257&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(U(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ue(e,i)}}}function qn(n,e,t){let{time:i=0}=e,{remainedSeconds:s=0}=e;var r;const l=et();function o(f){r!=null&&r.stop(),r=new Kn(f,u,a),t(0,s=f)}function u(f){t(0,s=f)}function a(){Nt(),l("alarming")}function c(){l("stop")}return n.$$set=f=>{"time"in f&&t(2,i=f.time),"remainedSeconds"in f&&t(0,s=f.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&o(i)},[s,c,i]}class Yn extends Te{constructor(e){super(),ke(this,e,qn,Jn,we,{time:2,remainedSeconds:0})}}function Qn(n){let e,t,i,s,r,l;return{c(){e=w("button"),t=G(n[1]),i=G(" min"),this.h()},l(o){e=T(o,"BUTTON",{class:!0});var u=M(e);t=K(u,n[1]),i=K(u," min"),u.forEach(m),this.h()},h(){_(e,"class",s=Ft(n[2])+" svelte-8w7xxt"),je(e,"pressed",n[0])},m(o,u){R(o,e,u),d(e,t),d(e,i),r||(l=W(e,"click",n[5]),r=!0)},p(o,[u]){u&2&&Y(t,o[1]),u&4&&s!==(s=Ft(o[2])+" svelte-8w7xxt")&&_(e,"class",s),u&5&&je(e,"pressed",o[0])},i:x,o:x,d(o){o&&m(e),r=!1,l()}}}function Zn(n,e,t){const i=et();let{value:s}=e,{name:r}=e,{pressed:l=!1}=e;function o(c,f){i("start",{name:c,val:f}),t(0,l=!0)}function u(){t(0,l=!1)}const a=function(){o(r,s)};return n.$$set=c=>{"value"in c&&t(1,s=c.value),"name"in c&&t(2,r=c.name),"pressed"in c&&t(0,l=c.pressed)},[l,s,r,o,u,a]}class An extends Te{constructor(e){super(),ke(this,e,Zn,Qn,we,{value:1,name:2,pressed:0,reset:4})}get reset(){return this.$$.ctx[4]}}const ve={WORK:"work",REST:"rest"},xn={afterClockIntervalS:3,afterClockTimeoutS:10,timersMultiplier:1},ei={afterClockIntervalS:10,afterClockTimeoutS:60*15,timersMultiplier:1*60};function It(n){return n?xn:ei}function qt(n,e,t){const i=n.slice();return i[9]=e[t],i[10]=e,i[11]=t,i}const ti=n=>({}),Yt=n=>({class:"item svelte-1rvg6ah"});function Qt(n,e,t){const i=n.slice();return i[9]=e[t],i[12]=e,i[11]=t,i}function Zt(n){let e,t=n[11],i,s,r;const l=()=>n[6](e,t),o=()=>n[6](null,t);let u={value:n[9],name:ve.WORK};return e=new An({props:u}),l(),e.$on("start",n[2]),{c(){oe(e.$$.fragment),i=$(),s=w("br")},l(a){ae(e.$$.fragment,a),i=L(a),s=T(a,"BR",{})},m(a,c){ce(e,a,c),R(a,i,c),R(a,s,c),r=!0},p(a,c){t!==a[11]&&(o(),t=a[11],l());const f={};e.$set(f)},i(a){r||(U(e.$$.fragment,a),r=!0)},o(a){B(e.$$.fragment,a),r=!1},d(a){a&&(m(i),m(s)),o(),ue(e,a)}}}function xt(n){let e,t=n[11],i,s,r;const l=()=>n[7](e,t),o=()=>n[7](null,t);let u={value:n[9],name:ve.REST};return e=new An({props:u}),l(),e.$on("start",n[2]),{c(){oe(e.$$.fragment),i=$(),s=w("br")},l(a){ae(e.$$.fragment,a),i=L(a),s=T(a,"BR",{})},m(a,c){ce(e,a,c),R(a,i,c),R(a,s,c),r=!0},p(a,c){t!==a[11]&&(o(),t=a[11],l());const f={};e.$set(f)},i(a){r||(U(e.$$.fragment,a),r=!0)},o(a){B(e.$$.fragment,a),r=!1},d(a){a&&(m(i),m(s)),o(),ue(e,a)}}}function ni(n){let e,t,i,s,r="Active",l,o,u,a,c,f,h="Rest",v,k,O,C=be(n[1]),E=[];for(let p=0;p<C.length;p+=1)E[p]=Zt(Qt(n,C,p));const S=p=>B(E[p],1,1,()=>{E[p]=null}),g=n[5].default,y=kn(g,n,n[4],Yt);let I=be(n[1]),N=[];for(let p=0;p<I.length;p+=1)N[p]=xt(qt(n,I,p));const P=p=>B(N[p],1,1,()=>{N[p]=null});return{c(){e=w("div"),t=w("div"),i=w("div"),s=w("span"),s.textContent=r,l=w("br"),o=$();for(let p=0;p<E.length;p+=1)E[p].c();u=$(),y&&y.c(),a=$(),c=w("div"),f=w("span"),f.textContent=h,v=w("br"),k=$();for(let p=0;p<N.length;p+=1)N[p].c();this.h()},l(p){e=T(p,"DIV",{});var b=M(e);t=T(b,"DIV",{class:!0});var D=M(t);i=T(D,"DIV",{class:!0});var A=M(i);s=T(A,"SPAN",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-19szg5l"&&(s.textContent=r),l=T(A,"BR",{}),o=L(A);for(let j=0;j<E.length;j+=1)E[j].l(A);A.forEach(m),u=L(D),y&&y.l(D),a=L(D),c=T(D,"DIV",{class:!0});var q=M(c);f=T(q,"SPAN",{class:!0,"data-svelte-h":!0}),Q(f)!=="svelte-1gtata5"&&(f.textContent=h),v=T(q,"BR",{}),k=L(q);for(let j=0;j<N.length;j+=1)N[j].l(q);q.forEach(m),D.forEach(m),b.forEach(m),this.h()},h(){_(s,"class","label svelte-1rvg6ah"),_(i,"class","item svelte-1rvg6ah"),_(f,"class","label svelte-1rvg6ah"),_(c,"class","item svelte-1rvg6ah"),_(t,"class","grid-container svelte-1rvg6ah")},m(p,b){R(p,e,b),d(e,t),d(t,i),d(i,s),d(i,l),d(i,o);for(let D=0;D<E.length;D+=1)E[D]&&E[D].m(i,null);d(t,u),y&&y.m(t,null),d(t,a),d(t,c),d(c,f),d(c,v),d(c,k);for(let D=0;D<N.length;D+=1)N[D]&&N[D].m(c,null);O=!0},p(p,[b]){if(b&7){C=be(p[1]);let D;for(D=0;D<C.length;D+=1){const A=Qt(p,C,D);E[D]?(E[D].p(A,b),U(E[D],1)):(E[D]=Zt(A),E[D].c(),U(E[D],1),E[D].m(i,null))}for(Fe(),D=C.length;D<E.length;D+=1)S(D);Be()}if(y&&y.p&&(!O||b&16)&&bn(y,g,p,p[4],O?Dn(g,p[4],b,ti):Sn(p[4]),Yt),b&7){I=be(p[1]);let D;for(D=0;D<I.length;D+=1){const A=qt(p,I,D);N[D]?(N[D].p(A,b),U(N[D],1)):(N[D]=xt(A),N[D].c(),U(N[D],1),N[D].m(c,null))}for(Fe(),D=I.length;D<N.length;D+=1)P(D);Be()}},i(p){if(!O){for(let b=0;b<C.length;b+=1)U(E[b]);U(y,p);for(let b=0;b<I.length;b+=1)U(N[b]);O=!0}},o(p){E=E.filter(Boolean);for(let b=0;b<E.length;b+=1)B(E[b]);B(y,p),N=N.filter(Boolean);for(let b=0;b<N.length;b+=1)B(N[b]);O=!1},d(p){p&&m(e),ut(E,p),y&&y.d(p),ut(N,p)}}}function ii(n,e,t){let{$$slots:i={},$$scope:s}=e;const r=et();let l=[],o=[5,10,15,20,25,120];function u(h){r("start",{timer:h.detail.val,name:h.detail.name}),console.log("handleTimerStart")}function a(){l.forEach(h=>{h&&h.reset()})}function c(h,v){Ue[h?"unshift":"push"](()=>{l[v]=h,t(0,l)})}function f(h,v){Ue[h?"unshift":"push"](()=>{l[v+l.length]=h,t(0,l)})}return n.$$set=h=>{"$$scope"in h&&t(4,s=h.$$scope)},[l,o,u,a,s,i,c,f]}class si extends Te{constructor(e){super(),ke(this,e,ii,ni,we,{clear:3})}get clear(){return this.$$.ctx[3]}}/*! js-cookie v3.0.5 | MIT */function ot(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)n[i]=t[i]}return n}var li={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function yt(n,e){function t(s,r,l){if(!(typeof document>"u")){l=ot({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in l)l[u]&&(o+="; "+u,l[u]!==!0&&(o+="="+l[u].split(";")[0]));return document.cookie=s+"="+n.write(r,s)+o}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var r=document.cookie?document.cookie.split("; "):[],l={},o=0;o<r.length;o++){var u=r[o].split("="),a=u.slice(1).join("=");try{var c=decodeURIComponent(u[0]);if(l[c]=n.read(a,c),s===c)break}catch{}}return s?l[s]:l}}return Object.create({set:t,get:i,remove:function(s,r){t(s,"",ot({},r,{expires:-1}))},withAttributes:function(s){return yt(this.converter,ot({},this.attributes,s))},withConverter:function(s){return yt(ot({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var ft=yt(li,{path:"/"});class Ee{constructor(e=0,t="",i=new Date,s=new Date){he(this,"start");he(this,"finish");he(this,"name");he(this,"value");this.start=i,this.finish=s,this.name=t,this.value=e}setDuration(e){this.finish=new Date(this.start.getTime()+e*1e3)}durationS(){return(this.finish.getTime()-this.start.getTime())/1e3}}const le={RUNNING:"RUNNING",STOPPED:"STOPPED",WAITING_FOR_STOP:"WAITING_FOR_STOP"};var Pe=(n=>(n[n.EMIT=1]="EMIT",n[n.DO_NOT_EMIT=2]="DO_NOT_EMIT",n))(Pe||{});let Pn=60,ri=5*60;function Pt(n,e,t=Pn){return(e.start.getTime()-n.finish.getTime())/1e3>t}function en(n,e=Pn){var t=[],i=0;if(n.length<=1)return n;t.push(n[0]),i=0;for(let s=1;s<n.length;s++){const r=n[s];if(t[i].name!=r.name){t.push(r),i++;continue}Pt(t[i],r,e)?(t.push(r),i++):t[i].finish=r.finish}return t}function kt(n,e=ve.REST,t=ri){var i=[],s=0;if(n.length<=1)return n;i.push(n[0]),s=0;for(let l=1;l<n.length;l++){const o=n[l];if(Pt(i[s],o,t)){var r=new Ee(0,e,i[s].finish,o.start);i.push(r),s++}i.push(o),s++}return i}function oi(n){return n.forEach(e=>{if(!("name"in e&&"start"in e&&"finish"in e))return!1}),!0}function ai(n){let e=[];try{const t=JSON.parse(n);let i=[];oi(t)&&t.forEach(s=>{i.push(new Ee(0,s.name,new Date(s.start*1e3),new Date(s.finish*1e3)))}),console.log("deserialized logs:",i),e=i}catch{e=[]}return new Ot(e)}class Ot{constructor(e){he(this,"additionalS",0);he(this,"list",[]);this.list=kt(e,ve.REST)}normalize(){var e=kt(this.list,ve.REST);return e=en(e),e}serialize(){let e=[];return this.list.forEach(t=>{e.push({name:t.name,start:Math.floor(t.start.getTime()/1e3),finish:Math.floor(t.finish.getTime()/1e3)})}),console.log("Serializing logs:",JSON.stringify(e)),JSON.stringify(e)}addTimer(e){return this.list.length>0&&this.list[this.list.length-1].start==e.start?(this.list[this.list.length-1].finish=e.finish,this.list=this.list,this):(this.list.push(e),this.list=en(this.list,0),this)}changeLineType(e){return this.list.forEach(t=>{t.start===e&&(t.name=t.name===ve.REST?ve.WORK:ve.REST)}),this}remove(e){for(var t=0;t<this.list.length;)this.list[t].start===e?this.list.splice(t,1):++t}total(){let e=0;return this.list.forEach(t=>{t.name==ve.WORK&&(e+=t.durationS())}),e}fillGaps(e=new Ee){if(this.list=kt(this.list),this.list.length>0){let t=this.list[this.list.length-1];Pt(t,e)&&this.list.push(new Ee(0,ve.REST,t.finish,e.start))}return this}addDurSec(e){return this.additionalS+=e,this}getAdditional(){return this.additionalS}}class ci{constructor(){he(this,"timerHistory");he(this,"active");this.timerHistory=new Ot([])}addTimer(e){return this.active=void 0,this.timerHistory.addTimer(e),this}remove(e){return this.timerHistory.remove(e),this}changeLineType(e){return this.timerHistory.changeLineType(e),this}clearLogs(){return this.timerHistory=new Ot([]),this}resetActive(){return this.active=void 0,this}setActiveDur(e){return this.active?(this.active.finish=new Date,this):this}setActive(e){return this.active=e,this.timerHistory.fillGaps(),this}totalTime(){let e=this.timerHistory.total();return this.active&&this.active.name==ve.WORK&&(e+=this.active.durationS()),e}}function jn(n,e,t={storage:"cookies",cookieExpireDays:31}){const i=t.serialize||JSON.stringify,s=t.deserialize||JSON.parse;let r=e;try{const o=t.storage==="cookies"?ft.get(n):localStorage.getItem(n);o&&(r=s(o))}catch(o){console.warn(`Failed to load ${n} from ${t.storage}:`,o)}const l=dt(r);return l.subscribe(o=>{try{const u=i(o);t.storage==="cookies"?ft.set(n,u,{expires:t.cookieExpireDays||31}):localStorage.setItem(n,u)}catch(u){console.warn(`Failed to save ${n} to ${t.storage}:`,u)}}),l}function ui(){let n=new ci;{const t=ft.get("logs");console.log("Loading pomApp from cookies:",t),t&&(n.timerHistory=ai(t))}const e=dt(n);return e.subscribe(t=>{const i=t.timerHistory.serialize();ft.set("logs",i,{expires:31}),console.log("Saved pomApp to cookies")}),e}const pe=ui(),tn=jn("darkmode",!1,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),fi=mt(pe,n=>n.totalTime()),at=jn("volume",10,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>parseInt(n,10)});function hi(n){let e,t,i,s=`<img src="${Ye}/volume_mute.svg" alt="Mute icon"/>`,r,l,o,u,a=`<img src="${Ye}/volume_up.svg" alt="Volume max icon"/>`,c,f;return{c(){e=w("label"),t=w("div"),i=w("button"),i.innerHTML=s,r=$(),l=w("input"),o=$(),u=w("button"),u.innerHTML=a,this.h()},l(h){e=T(h,"LABEL",{});var v=M(e);t=T(v,"DIV",{class:!0});var k=M(t);i=T(k,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-t9bnpg"&&(i.innerHTML=s),r=L(k),l=T(k,"INPUT",{class:!0,type:!0,min:!0,max:!0}),o=L(k),u=T(k,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-yorq7f"&&(u.innerHTML=a),k.forEach(m),v.forEach(m),this.h()},h(){_(i,"class","leftbutton svelte-1vsc329"),_(l,"class","slider bar svelte-1vsc329"),_(l,"type","range"),_(l,"min","0"),_(l,"max","100"),_(u,"class","svelte-1vsc329"),_(t,"class","container svelte-1vsc329")},m(h,v){R(h,e,v),d(e,t),d(t,i),d(t,r),d(t,l),Bt(l,n[0]),d(t,o),d(t,u),c||(f=[W(i,"click",n[2]),W(l,"change",n[5]),W(l,"input",n[5]),W(l,"mouseup",n[1]),W(u,"click",n[3])],c=!0)},p(h,[v]){v&1&&Bt(l,h[0])},i:x,o:x,d(h){h&&m(e),c=!1,$e(f)}}}function di(n,e,t){let i;De(n,at,a=>t(4,i=a));let s=i;function r(a){wt(at,i=parseInt(a.target.value,10),i)}function l(){wt(at,i=0,i)}function o(){wt(at,i=100,i)}function u(){s=Rn(this.value),t(0,s),t(4,i)}return n.$$.update=()=>{n.$$.dirty&16&&(console.log("volume",i),Bn(i/100),t(0,s=i))},[s,r,l,o,i,u]}class mi extends Te{constructor(e){super(),ke(this,e,di,hi,we,{})}}function vi(n,e,t){const i=et();let{debugFlag:s}=e,{active:r=!0}=e,l=0,o=0;function u(c){console.log("run annoyer",c),clearInterval(l),clearTimeout(o),c&&(l=setInterval(()=>{Nt(),r||clearInterval(l)},It(s).afterClockIntervalS*1e3),o=setTimeout(()=>{t(0,r=!1),clearInterval(l),a()},It(s).afterClockTimeoutS*1e3))}function a(){i("off")}return n.$$set=c=>{"debugFlag"in c&&t(1,s=c.debugFlag),"active"in c&&t(0,r=c.active)},n.$$.update=()=>{n.$$.dirty&1&&u(r)},[r,s]}class gi extends Te{constructor(e){super(),ke(this,e,vi,null,we,{debugFlag:1,active:0})}}const nn=Ye+"/tea.png",_i=Ye+"/clock_red.png",pi=Ye+"/clock_yellow.png";function wi(n){if(console.log("changeFavicon",n),typeof document>"u"||document===null)return;const e=document.getElementById("favicon");if(e!==null)switch(n){case le.STOPPED:e.href=nn;break;case le.RUNNING:e.href=_i;break;case le.WAITING_FOR_STOP:e.href=pi;break;default:e.href=nn}}function Ti(){const{subscribe:n,set:e,update:t}=dt({state:le.STOPPED,currentTimer:new Ee,clockDuration:0});return{subscribe:n,start:(i,s,r)=>{const l=It(r).timersMultiplier;t(o=>({state:le.RUNNING,currentTimer:new Ee(i,s),clockDuration:i*l}))},alarm:i=>{t(s=>{if(i){const r=Object.assign(Object.create(Object.getPrototypeOf(s.currentTimer)),s.currentTimer,{finish:new Date});return{...s,state:le.STOPPED,clockDuration:0,currentTimer:r}}else return{...s,state:le.WAITING_FOR_STOP}})},stop:()=>{t(i=>{const s=Object.assign(Object.create(Object.getPrototypeOf(i.currentTimer)),i.currentTimer,{finish:new Date});return{...i,state:le.STOPPED,clockDuration:0,currentTimer:s}})},reset:()=>{e({state:le.STOPPED,currentTimer:new Ee,clockDuration:0})}}}const He=Ti(),ki=mt(He,n=>n.state),bi=mt(He,n=>n.currentTimer),Si=mt(He,n=>n.clockDuration);function Di(n){let e,t,i;return e=new mi({}),{c(){oe(e.$$.fragment),t=w("br")},l(s){ae(e.$$.fragment,s),t=T(s,"BR",{})},m(s,r){ce(e,s,r),R(s,t,r),i=!0},p:x,i(s){i||(U(e.$$.fragment,s),i=!0)},o(s){B(e.$$.fragment,s),i=!1},d(s){s&&m(t),ue(e,s)}}}function sn(n){let e,t;return e=new At({props:{title:"stop and don't save logs",$$slots:{default:[Ei]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,s){ce(e,i,s),t=!0},p(i,s){const r={};s&65536&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(U(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ue(e,i)}}}function Ei(n){let e,t="cancel",i,s,r,l;return{c(){e=w("button"),e.textContent=t,i=$(),s=w("br"),this.h()},l(o){e=T(o,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1wi9d3u"&&(e.textContent=t),i=L(o),s=T(o,"BR",{}),this.h()},h(){_(e,"id","stopper"),_(e,"class","svelte-1viwsah")},m(o,u){R(o,e,u),R(o,i,u),R(o,s,u),r||(l=W(e,"click",n[8]),r=!0)},p:x,d(o){o&&(m(e),m(i),m(s)),r=!1,l()}}}function Ii(n){let e,t,i,s,r,l,o;function u(f){n[10](f)}let a={time:n[4]};n[0]!==void 0&&(a.remainedSeconds=n[0]),t=new Yn({props:a}),Ue.push(()=>Mt(t,"remainedSeconds",u)),t.$on("alarming",n[6]),t.$on("stop",n[9]),r=new At({props:{title:"Volume",$$slots:{default:[Di]},$$scope:{ctx:n}}});let c=n[2]!==le.STOPPED&&sn(n);return{c(){e=w("div"),oe(t.$$.fragment),s=$(),oe(r.$$.fragment),l=$(),c&&c.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var h=M(e);ae(t.$$.fragment,h),s=L(h),ae(r.$$.fragment,h),l=L(h),c&&c.l(h),h.forEach(m),this.h()},h(){_(e,"class","clock svelte-1viwsah")},m(f,h){R(f,e,h),ce(t,e,null),d(e,s),ce(r,e,null),d(e,l),c&&c.m(e,null),o=!0},p(f,h){const v={};h&16&&(v.time=f[4]),!i&&h&1&&(i=!0,v.remainedSeconds=f[0],Ct(()=>i=!1)),t.$set(v);const k={};h&65536&&(k.$$scope={dirty:h,ctx:f}),r.$set(k),f[2]!==le.STOPPED?c?(c.p(f,h),h&4&&U(c,1)):(c=sn(f),c.c(),U(c,1),c.m(e,null)):c&&(Fe(),B(c,1,1,()=>{c=null}),Be())},i(f){o||(U(t.$$.fragment,f),U(r.$$.fragment,f),U(c),o=!0)},o(f){B(t.$$.fragment,f),B(r.$$.fragment,f),B(c),o=!1},d(f){f&&m(e),ue(t),ue(r),c&&c.d()}}}function yi(n){let e,t,i,s,r={$$slots:{default:[Ii]},$$scope:{ctx:n}};return e=new si({props:r}),n[11](e),e.$on("start",n[5]),e.$on("stop",n[12]),i=new gi({props:{active:n[2]===le.WAITING_FOR_STOP,debugFlag:n[1]}}),i.$on("off",n[13]),{c(){oe(e.$$.fragment),t=$(),oe(i.$$.fragment)},l(l){ae(e.$$.fragment,l),t=L(l),ae(i.$$.fragment,l)},m(l,o){ce(e,l,o),R(l,t,o),ce(i,l,o),s=!0},p(l,[o]){const u={};o&65557&&(u.$$scope={dirty:o,ctx:l}),e.$set(u);const a={};o&4&&(a.active=l[2]===le.WAITING_FOR_STOP),o&2&&(a.debugFlag=l[1]),i.$set(a)},i(l){s||(U(e.$$.fragment,l),U(i.$$.fragment,l),s=!0)},o(l){B(e.$$.fragment,l),B(i.$$.fragment,l),s=!1},d(l){l&&m(t),n[11](null),ue(e,l),ue(i,l)}}}function Oi(n,e,t){let i,s,r;De(n,ki,g=>t(2,i=g)),De(n,bi,g=>t(14,s=g)),De(n,Si,g=>t(4,r=g));const l=et();let{debugFlag:o}=e,{remainedSeconds:u}=e,a;function c(g){i===le.RUNNING&&h(Pe.EMIT),He.start(g.detail.timer,g.detail.name,o),l("current",s)}function f(){const g=typeof document<"u"&&document.visibilityState==="visible";He.alarm(g),g&&(a&&a.clear(),l("timer",s))}function h(g=Pe.EMIT){He.stop(),a&&a.clear(),g===Pe.EMIT&&l("timer",s)}function v(){He.reset(),a&&a.clear(),l("cancel")}function k(){i!==le.STOPPED&&h(Pe.EMIT)}En(()=>{document.addEventListener("visibilitychange",function(){i===le.WAITING_FOR_STOP&&document.visibilityState==="visible"&&(console.log("visibility change to visible"),h(Pe.EMIT))})});function O(g){u=g,t(0,u)}function C(g){Ue[g?"unshift":"push"](()=>{a=g,t(3,a)})}const E=()=>h(Pe.DO_NOT_EMIT),S=()=>h(Pe.DO_NOT_EMIT);return n.$$set=g=>{"debugFlag"in g&&t(1,o=g.debugFlag),"remainedSeconds"in g&&t(0,u=g.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&wi(i)},[u,o,i,a,r,c,f,h,v,k,O,C,E,S]}class Ci extends Te{constructor(e){super(),ke(this,e,Oi,yi,we,{debugFlag:1,remainedSeconds:0})}}function Mi(n){let e;return{c(){e=G("Active for")},l(t){e=K(t,"Active for")},m(t,i){R(t,e,i)},d(t){t&&m(e)}}}function Ni(n){let e;return{c(){e=G("Rest for")},l(t){e=K(t,"Rest for")},m(t,i){R(t,e,i)},d(t){t&&m(e)}}}function Ai(n){let e,t,i,s,r,l,o,u=Xt(n[2])+"",a;function c(v,k){return v[1]?Ni:Mi}let f=c(n),h=f(n);return{c(){e=w("snap"),t=w("snap"),i=G(n[3]),s=$(),r=w("snap"),h.c(),l=$(),o=w("snap"),a=G(u),this.h()},l(v){e=T(v,"SNAP",{class:!0});var k=M(e);t=T(k,"SNAP",{class:!0});var O=M(t);i=K(O,n[3]),O.forEach(m),s=L(k),r=T(k,"SNAP",{});var C=M(r);h.l(C),C.forEach(m),l=L(k),o=T(k,"SNAP",{class:!0});var E=M(o);a=K(E,u),E.forEach(m),k.forEach(m),this.h()},h(){_(t,"class","time work svelte-i9m2em"),_(o,"class","duration svelte-i9m2em"),_(e,"class","logline svelte-i9m2em"),je(e,"topLog",n[0]),je(e,"rest",n[1])},m(v,k){R(v,e,k),d(e,t),d(t,i),d(e,s),d(e,r),h.m(r,null),d(e,l),d(e,o),d(o,a)},p(v,[k]){f!==(f=c(v))&&(h.d(1),h=f(v),h&&(h.c(),h.m(r,null))),k&4&&u!==(u=Xt(v[2])+"")&&Y(a,u),k&1&&je(e,"topLog",v[0]),k&2&&je(e,"rest",v[1])},i:x,o:x,d(v){v&&m(e),h.d()}}}function Pi(n){let e=n.getHours().toString().padStart(2,"0"),t=n.getMinutes().toString().padStart(2,"0");return`${e}:${t}`}function ji(n,e,t){let i,s,{start:r}=e,{finish:l}=e,{name:o}=e,{topLog:u=!1}=e,a=Pi(r);return n.$$set=c=>{"start"in c&&t(4,r=c.start),"finish"in c&&t(5,l=c.finish),"name"in c&&t(6,o=c.name),"topLog"in c&&t(0,u=c.topLog)},n.$$.update=()=>{n.$$.dirty&48&&t(2,i=(l.getTime()-r.getTime())/1e3),n.$$.dirty&64&&t(1,s=o===ve.REST)},[u,s,i,a,r,l,o]}class $n extends Te{constructor(e){super(),ke(this,e,ji,Ai,we,{start:4,finish:5,name:6,topLog:0})}}const jt=dt(null);function $i(n){jt.set(n)}function ct(){jt.set(null)}function bt(n){const e=n.slice(),t=e[7](e[1]);e[16]=t;const i=e[8](e[1]);e[17]=i;const s=e[9](e[1],e[4]);return e[18]=s,e}function ln(n,e,t){const i=n.slice();i[19]=e[t];const s=i[7](i[19]);i[16]=s;const r=i[8](i[19]);i[17]=r;const l=i[9](i[19],i[0]);i[18]=l;const o=parseFloat(i[16].width);i[20]=o;const u=!i[17]&&i[20]<.5?"2px":i[16].width;return i[21]=u,i}function rn(n,e,t){const i=n.slice();return i[24]=e[t],i}function on(n){let e;return{c(){e=w("div"),this.h()},l(t){e=T(t,"DIV",{class:!0,style:!0,title:!0}),M(e).forEach(m),this.h()},h(){_(e,"class","future-overlay svelte-tywv71"),F(e,"left",n[5].left),F(e,"width",n[5].width),_(e,"title","Future time")},m(t,i){R(t,e,i)},p(t,i){i&32&&F(e,"left",t[5].left),i&32&&F(e,"width",t[5].width)},d(t){t&&m(e)}}}function an(n){let e,t,i=n[24].label+"",s,r;return{c(){e=w("div"),t=w("div"),s=G(i),r=$(),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0});var o=M(e);t=T(o,"DIV",{class:!0});var u=M(t);s=K(u,i),u.forEach(m),r=L(o),o.forEach(m),this.h()},h(){_(t,"class","grid-label svelte-tywv71"),_(e,"class","grid-line svelte-tywv71"),F(e,"left",n[24].position+"%")},m(l,o){R(l,e,o),d(e,t),d(t,s),d(e,r)},p(l,o){o&64&&i!==(i=l[24].label+"")&&Y(s,i),o&64&&F(e,"left",l[24].position+"%")},d(l){l&&m(e)}}}function cn(n,e){let t,i,s,r,l;function o(){return e[11](e[19])}return{key:n,first:null,c(){t=w("div"),this.h()},l(u){t=T(u,"DIV",{class:!0,style:!0,title:!0}),M(t).forEach(m),this.h()},h(){_(t,"class",i="timer-block "+(e[17]?e[18]?"overtime":"work":"rest")+" svelte-tywv71"),F(t,"left",e[16].left),F(t,"width",e[21]),F(t,"min-width",e[17]?"0":"2px"),F(t,"cursor","pointer"),_(t,"title",s=Se(e[19].start)+" - "+Se(e[19].finish)+" ("+ht(e[19])+")"+(e[18]?" âš ï¸ Overtime":"")),this.first=t},m(u,a){R(u,t,a),r||(l=W(t,"click",o),r=!0)},p(u,a){e=u,a&1&&i!==(i="timer-block "+(e[17]?e[18]?"overtime":"work":"rest")+" svelte-tywv71")&&_(t,"class",i),a&1&&F(t,"left",e[16].left),a&1&&F(t,"width",e[21]),a&1&&F(t,"min-width",e[17]?"0":"2px"),a&1&&s!==(s=Se(e[19].start)+" - "+Se(e[19].finish)+" ("+ht(e[19])+")"+(e[18]?" âš ï¸ Overtime":""))&&_(t,"title",s)},d(u){u&&m(t),r=!1,l()}}}function un(n){let e,t,i;return{c(){e=w("div"),this.h()},l(s){e=T(s,"DIV",{class:!0,style:!0,title:!0}),M(e).forEach(m),this.h()},h(){_(e,"class",t="timer-block active "+(n[17]?n[18]?"overtime":"work":"rest")+" svelte-tywv71"),F(e,"left",n[16].left),F(e,"width",n[16].width),_(e,"title",i="Active: "+Se(n[1].start)+" - now ("+ht(n[1])+")"+(n[18]?" âš ï¸ Overtime":""))},m(s,r){R(s,e,r)},p(s,r){r&18&&t!==(t="timer-block active "+(s[17]?s[18]?"overtime":"work":"rest")+" svelte-tywv71")&&_(e,"class",t),r&2&&F(e,"left",s[16].left),r&2&&F(e,"width",s[16].width),r&18&&i!==(i="Active: "+Se(s[1].start)+" - now ("+ht(s[1])+")"+(s[18]?" âš ï¸ Overtime":""))&&_(e,"title",i)},d(s){s&&m(e)}}}function Li(n){let e,t,i='<span class="timeline-title svelte-tywv71">Timeline</span> <div class="legend svelte-tywv71"><span class="legend-item svelte-tywv71"><span class="legend-color work svelte-tywv71"></span> <span>Work</span></span> <span class="legend-item svelte-tywv71" title="Overtime: 2+ min after alarm, or 25+ min for consecutive work"><span class="legend-color overtime svelte-tywv71"></span> <span>Overtime</span></span> <span class="legend-item svelte-tywv71"><span class="legend-color rest svelte-tywv71"></span> <span>Rest</span></span></div>',s,r,l,o=Se(new Date(n[2]))+"",u,a,c,f=Se(new Date(n[3]))+"",h,v,k,O,C=[],E=new Map,S,g=n[5].visible&&on(n),y=be(n[6]),I=[];for(let b=0;b<y.length;b+=1)I[b]=an(rn(n,y,b));let N=be(n[0]);const P=b=>b[19].start;for(let b=0;b<N.length;b+=1){let D=ln(n,N,b),A=P(D);E.set(A,C[b]=cn(A,D))}let p=n[1]&&un(bt(n));return{c(){e=w("div"),t=w("div"),t.innerHTML=i,s=$(),r=w("div"),l=w("div"),u=G(o),a=$(),c=w("div"),h=G(f),v=$(),g&&g.c(),k=$();for(let b=0;b<I.length;b+=1)I[b].c();O=$();for(let b=0;b<C.length;b+=1)C[b].c();S=$(),p&&p.c(),this.h()},l(b){e=T(b,"DIV",{class:!0});var D=M(e);t=T(D,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1sof6z9"&&(t.innerHTML=i),s=L(D),r=T(D,"DIV",{class:!0});var A=M(r);l=T(A,"DIV",{class:!0});var q=M(l);u=K(q,o),q.forEach(m),a=L(A),c=T(A,"DIV",{class:!0});var j=M(c);h=K(j,f),j.forEach(m),v=L(A),g&&g.l(A),k=L(A);for(let H=0;H<I.length;H+=1)I[H].l(A);O=L(A);for(let H=0;H<C.length;H+=1)C[H].l(A);S=L(A),p&&p.l(A),A.forEach(m),D.forEach(m),this.h()},h(){_(t,"class","timeline-header svelte-tywv71"),_(l,"class","time-label start svelte-tywv71"),_(c,"class","time-label end svelte-tywv71"),_(r,"class","timeline-bar svelte-tywv71"),_(e,"class","timeline-container svelte-tywv71")},m(b,D){R(b,e,D),d(e,t),d(e,s),d(e,r),d(r,l),d(l,u),d(r,a),d(r,c),d(c,h),d(r,v),g&&g.m(r,null),d(r,k);for(let A=0;A<I.length;A+=1)I[A]&&I[A].m(r,null);d(r,O);for(let A=0;A<C.length;A+=1)C[A]&&C[A].m(r,null);d(r,S),p&&p.m(r,null)},p(b,[D]){if(D&4&&o!==(o=Se(new Date(b[2]))+"")&&Y(u,o),D&8&&f!==(f=Se(new Date(b[3]))+"")&&Y(h,f),b[5].visible?g?g.p(b,D):(g=on(b),g.c(),g.m(r,k)):g&&(g.d(1),g=null),D&64){y=be(b[6]);let A;for(A=0;A<y.length;A+=1){const q=rn(b,y,A);I[A]?I[A].p(q,D):(I[A]=an(q),I[A].c(),I[A].m(r,O))}for(;A<I.length;A+=1)I[A].d(1);I.length=y.length}D&897&&(N=be(b[0]),C=yn(C,D,P,1,b,N,E,r,Hn,cn,S,ln)),b[1]?p?p.p(bt(b),D):(p=un(bt(b)),p.c(),p.m(r,null)):p&&(p.d(1),p=null)},i:x,o:x,d(b){b&&m(e),g&&g.d(),ut(I,b);for(let D=0;D<C.length;D+=1)C[D].d();p&&p.d()}}}function Se(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function ht(n){return`${Math.round(n.durationS()/60)} min`}function Vi(n,e,t){let i,s,r,l,o,u,{timers:a=[]}=e,{activeTimer:c=null}=e;const f=40*60*1e3;function h(S){if(s===0)return{left:"0%",width:"0%"};const g=S.start.getTime()-r,y=S.finish.getTime()-S.start.getTime(),I=g/s*100,N=y/s*100;return{left:`${I}%`,width:`${N}%`}}function v(S){return S.name===ve.WORK}function k(S,g){const y=g.findIndex(p=>p.start.getTime()===S.start.getTime());if(y<=0)return!0;const I=g[y-1];return v(I)?(S.start.getTime()-I.finish.getTime())/(1e3*60)>=5:I.durationS()/60>=5}function O(S,g){if(!v(S))return[];const y=[S],I=g.findIndex(N=>N.start.getTime()===S.start.getTime());for(let N=I-1;N>=0;N--){const P=g[N],p=y[0],D=(p.start.getTime()-P.finish.getTime())/(1e3*60);if(v(P)&&D<5)y.unshift(P);else{if(!v(P)&&P.durationS()/60<5)continue;if(!v(P)&&k(p,g))break}}return y}function C(S,g){if(!v(S)||!S.value||S.value===0)return!1;const y=2,I=25,N=O(S,g);if(N.length===1){const P=S.durationS()/60,p=S.value;return P>p+y}else{const P=N.reduce((b,D)=>b+(D.value||0),0);return N.reduce((b,D)=>b+D.durationS()/60,0)>P+I}}const E=S=>$i(S);return n.$$set=S=>{"timers"in S&&t(0,a=S.timers),"activeTimer"in S&&t(1,c=S.activeTimer)},n.$$.update=()=>{n.$$.dirty&3&&t(4,i=c?[...a,c]:a),n.$$.dirty&16&&t(10,s=(()=>{if(i.length===0)return f;const S=Math.max(...i.map(g=>g.finish.getTime()))-Math.min(...i.map(g=>g.start.getTime()));return Math.max(S,f)})()),n.$$.dirty&16&&t(2,r=i.length===0?Date.now():Math.min(...i.map(S=>S.start.getTime()))),n.$$.dirty&22&&t(3,l=(()=>{if(i.length===0)return Date.now()+f;const g=Math.max(...i.map(I=>I.finish.getTime()));let y=Math.max(g,r+f);if(c){const I=Date.now(),N=y-I,P=10*60*1e3;N<P&&N>0&&(y=y+36e5)}return y})()),n.$$.dirty&1036&&t(6,o=(()=>{if(s===0)return[];const S=[],g=new Date(r),y=new Date(l),I=new Date(g);for(I.setMinutes(0,0,0),I.setHours(I.getHours()+1);I.getTime()<=y.getTime();){const P=(I.getTime()-r)/s*100;P>=0&&P<=100&&S.push({position:P,label:I.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),I.setHours(I.getHours()+1)}return S})()),n.$$.dirty&1036&&t(5,u=(()=>{const S=Date.now();if(l>S){const g=Math.max(r,S),y=g-r,I=l-g,N=y/s*100,P=I/s*100;return{left:`${N}%`,width:`${P}%`,visible:P>0}}return{left:"0%",width:"0%",visible:!1}})())},[a,c,r,l,i,u,o,h,v,C,s,E]}class Ri extends Te{constructor(e){super(),ke(this,e,Vi,Li,we,{timers:0,activeTimer:1})}}function St(n){const e=n.slice(),t=e[10](e[0],e[7].finish);return e[37]=t,e}function Dt(n){const e=n.slice(),t=e[10](e[1],e[0]);return e[37]=t,e}function Et(n){const e=n.slice(),t=e[10](e[8].start,e[1]);return e[37]=t,e}function fn(n,e,t){const i=n.slice();return i[38]=e[t],i}function hn(n){let e,t,i,s,r="Edit Timer",l,o,u="Ã—",a,c,f,h,v,k="Type:",O,C,E=n[4].name+"",S,g,y,I,N="Duration:",P,p,b,D,A,q,j,H,ge,ee=re(n[2])+"",Ie,Oe,Le,Ve=re(n[3])+"",ze,Qe,fe,V,X,de,Z,We="ðŸ’¡ Drag the edges to adjust timer boundaries",Re,z,me,Ce="Delete",Ze,ye,vt,Me,$t="Cancel",gt,Ne,Lt="Save",_t,Vt,te=n[6].length>0&&dn(n),ne=n[8]&&vn(Et(n)),ie=n[4]&&gn(Dt(n)),se=n[7]&&_n(St(n));return{c(){e=w("div"),t=w("div"),i=w("div"),s=w("h2"),s.textContent=r,l=$(),o=w("button"),o.textContent=u,a=$(),c=w("div"),f=w("div"),h=w("div"),v=w("span"),v.textContent=k,O=$(),C=w("span"),S=G(E),g=$(),y=w("div"),I=w("span"),I.textContent=N,P=$(),p=w("span"),b=G(n[9]),D=G(" min"),A=$(),te&&te.c(),q=$(),j=w("div"),H=w("div"),ge=w("span"),Ie=G(ee),Oe=$(),Le=w("span"),ze=G(Ve),Qe=$(),fe=w("div"),ne&&ne.c(),V=$(),ie&&ie.c(),X=$(),se&&se.c(),de=$(),Z=w("div"),Z.textContent=We,Re=$(),z=w("div"),me=w("button"),me.textContent=Ce,Ze=$(),ye=w("div"),vt=$(),Me=w("button"),Me.textContent=$t,gt=$(),Ne=w("button"),Ne.textContent=Lt,this.h()},l(J){e=T(J,"DIV",{class:!0});var _e=M(e);t=T(_e,"DIV",{class:!0});var Ge=M(t);i=T(Ge,"DIV",{class:!0});var tt=M(i);s=T(tt,"H2",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-1ut3txv"&&(s.textContent=r),l=L(tt),o=T(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(o)!=="svelte-y9ayml"&&(o.textContent=u),tt.forEach(m),a=L(Ge),c=T(Ge,"DIV",{class:!0});var Ke=M(c);f=T(Ke,"DIV",{class:!0});var nt=M(f);h=T(nt,"DIV",{class:!0});var it=M(h);v=T(it,"SPAN",{class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-owo3qx"&&(v.textContent=k),O=L(it),C=T(it,"SPAN",{class:!0});var Rt=M(C);S=K(Rt,E),Rt.forEach(m),it.forEach(m),g=L(nt),y=T(nt,"DIV",{class:!0});var st=M(y);I=T(st,"SPAN",{class:!0,"data-svelte-h":!0}),Q(I)!=="svelte-2ef875"&&(I.textContent=N),P=L(st),p=T(st,"SPAN",{class:!0});var pt=M(p);b=K(pt,n[9]),D=K(pt," min"),pt.forEach(m),st.forEach(m),nt.forEach(m),A=L(Ke),te&&te.l(Ke),q=L(Ke),j=T(Ke,"DIV",{class:!0});var Xe=M(j);H=T(Xe,"DIV",{class:!0});var lt=M(H);ge=T(lt,"SPAN",{});var Ht=M(ge);Ie=K(Ht,ee),Ht.forEach(m),Oe=L(lt),Le=T(lt,"SPAN",{});var Ut=M(Le);ze=K(Ut,Ve),Ut.forEach(m),lt.forEach(m),Qe=L(Xe),fe=T(Xe,"DIV",{class:!0});var Je=M(fe);ne&&ne.l(Je),V=L(Je),ie&&ie.l(Je),X=L(Je),se&&se.l(Je),Je.forEach(m),de=L(Xe),Z=T(Xe,"DIV",{class:!0,"data-svelte-h":!0}),Q(Z)!=="svelte-173xjy6"&&(Z.textContent=We),Xe.forEach(m),Ke.forEach(m),Re=L(Ge),z=T(Ge,"DIV",{class:!0});var Ae=M(z);me=T(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(me)!=="svelte-6r50uh"&&(me.textContent=Ce),Ze=L(Ae),ye=T(Ae,"DIV",{class:!0}),M(ye).forEach(m),vt=L(Ae),Me=T(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(Me)!=="svelte-1ph2inm"&&(Me.textContent=$t),gt=L(Ae),Ne=T(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(Ne)!=="svelte-9t0vpj"&&(Ne.textContent=Lt),Ae.forEach(m),Ge.forEach(m),_e.forEach(m),this.h()},h(){_(s,"class","svelte-khj96w"),_(o,"class","close-btn svelte-khj96w"),_(i,"class","modal-header svelte-khj96w"),_(v,"class","label svelte-khj96w"),_(C,"class","value svelte-khj96w"),_(h,"class","info svelte-khj96w"),_(I,"class","label svelte-khj96w"),_(p,"class","value svelte-khj96w"),_(y,"class","info svelte-khj96w"),_(f,"class","info-row svelte-khj96w"),_(H,"class","timeline-labels svelte-khj96w"),_(fe,"class","timeline-track svelte-khj96w"),_(Z,"class","timeline-hint svelte-khj96w"),_(j,"class","timeline-editor svelte-khj96w"),_(c,"class","modal-body svelte-khj96w"),_(me,"class","btn btn-delete svelte-khj96w"),_(ye,"class","spacer svelte-khj96w"),_(Me,"class","btn btn-cancel svelte-khj96w"),_(Ne,"class","btn btn-save svelte-khj96w"),_(z,"class","modal-footer svelte-khj96w"),_(t,"class","modal svelte-khj96w"),_(e,"class","modal-backdrop svelte-khj96w")},m(J,_e){R(J,e,_e),d(e,t),d(t,i),d(i,s),d(i,l),d(i,o),d(t,a),d(t,c),d(c,f),d(f,h),d(h,v),d(h,O),d(h,C),d(C,S),d(f,g),d(f,y),d(y,I),d(y,P),d(y,p),d(p,b),d(p,D),d(c,A),te&&te.m(c,null),d(c,q),d(c,j),d(j,H),d(H,ge),d(ge,Ie),d(H,Oe),d(H,Le),d(Le,ze),d(j,Qe),d(j,fe),ne&&ne.m(fe,null),d(fe,V),ie&&ie.m(fe,null),d(fe,X),se&&se.m(fe,null),d(j,de),d(j,Z),n[30](j),d(t,Re),d(t,z),d(z,me),d(z,Ze),d(z,ye),d(z,vt),d(z,Me),d(z,gt),d(z,Ne),_t||(Vt=[W(o,"click",n[16]),W(i,"click",zt(n[27])),W(c,"click",zt(n[26])),W(me,"click",n[17]),W(Me,"click",n[16]),W(Ne,"click",n[15]),W(e,"click",n[16])],_t=!0)},p(J,_e){_e[0]&16&&E!==(E=J[4].name+"")&&Y(S,E),_e[0]&512&&Y(b,J[9]),J[6].length>0?te?te.p(J,_e):(te=dn(J),te.c(),te.m(c,q)):te&&(te.d(1),te=null),_e[0]&4&&ee!==(ee=re(J[2])+"")&&Y(Ie,ee),_e[0]&8&&Ve!==(Ve=re(J[3])+"")&&Y(ze,Ve),J[8]?ne?ne.p(Et(J),_e):(ne=vn(Et(J)),ne.c(),ne.m(fe,V)):ne&&(ne.d(1),ne=null),J[4]?ie?ie.p(Dt(J),_e):(ie=gn(Dt(J)),ie.c(),ie.m(fe,X)):ie&&(ie.d(1),ie=null),J[7]?se?se.p(St(J),_e):(se=_n(St(J)),se.c(),se.m(fe,null)):se&&(se.d(1),se=null)},d(J){J&&m(e),te&&te.d(),ne&&ne.d(),ie&&ie.d(),se&&se.d(),n[30](null),_t=!1,$e(Vt)}}}function dn(n){let e,t=be(n[6]),i=[];for(let s=0;s<t.length;s+=1)i[s]=mn(fn(n,t,s));return{c(){e=w("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var r=M(e);for(let l=0;l<i.length;l+=1)i[l].l(r);r.forEach(m),this.h()},h(){_(e,"class","warnings svelte-khj96w")},m(s,r){R(s,e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(s,r){if(r[0]&64){t=be(s[6]);let l;for(l=0;l<t.length;l+=1){const o=fn(s,t,l);i[l]?i[l].p(o,r):(i[l]=mn(o),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&m(e),ut(i,s)}}}function mn(n){let e,t,i=n[38]+"",s;return{c(){e=w("div"),t=G("âš ï¸ "),s=G(i),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=M(e);t=K(l,"âš ï¸ "),s=K(l,i),l.forEach(m),this.h()},h(){_(e,"class","warning-item svelte-khj96w")},m(r,l){R(r,e,l),d(e,t),d(e,s)},p(r,l){l[0]&64&&i!==(i=r[38]+"")&&Y(s,i)},d(r){r&&m(e)}}}function vn(n){let e,t,i=n[8].name+"",s,r,l;return{c(){e=w("div"),t=w("span"),s=G(i),this.h()},l(o){e=T(o,"DIV",{class:!0,style:!0,title:!0});var u=M(e);t=T(u,"SPAN",{class:!0});var a=M(t);s=K(a,i),a.forEach(m),u.forEach(m),this.h()},h(){_(t,"class","timer-label svelte-khj96w"),_(e,"class",r="timer-block prev "+(n[14](n[8])?"work":"rest")+" svelte-khj96w"),F(e,"left",n[37].left),F(e,"width",n[37].width),_(e,"title",l=n[8].name+": "+re(n[8].start)+" - "+re(n[1]))},m(o,u){R(o,e,u),d(e,t),d(t,s)},p(o,u){u[0]&256&&i!==(i=o[8].name+"")&&Y(s,i),u[0]&256&&r!==(r="timer-block prev "+(o[14](o[8])?"work":"rest")+" svelte-khj96w")&&_(e,"class",r),u[0]&258&&F(e,"left",o[37].left),u[0]&258&&F(e,"width",o[37].width),u[0]&258&&l!==(l=o[8].name+": "+re(o[8].start)+" - "+re(o[1]))&&_(e,"title",l)},d(o){o&&m(e)}}}function gn(n){let e,t,i,s,r,l=n[4].name+"",o,u,a,c=re(n[1])+"",f,h,v=re(n[0])+"",k,O,C,E,S,g;return{c(){e=w("div"),t=w("div"),i=$(),s=w("div"),r=w("div"),o=G(l),u=$(),a=w("div"),f=G(c),h=G(" - "),k=G(v),O=$(),C=w("div"),this.h()},l(y){e=T(y,"DIV",{class:!0,style:!0});var I=M(e);t=T(I,"DIV",{class:!0,title:!0}),M(t).forEach(m),i=L(I),s=T(I,"DIV",{class:!0});var N=M(s);r=T(N,"DIV",{class:!0});var P=M(r);o=K(P,l),P.forEach(m),u=L(N),a=T(N,"DIV",{class:!0});var p=M(a);f=K(p,c),h=K(p," - "),k=K(p,v),p.forEach(m),N.forEach(m),O=L(I),C=T(I,"DIV",{class:!0,title:!0}),M(C).forEach(m),I.forEach(m),this.h()},h(){_(t,"class","drag-handle left svelte-khj96w"),_(t,"title","Drag to adjust start time"),_(r,"class","timer-label svelte-khj96w"),_(a,"class","timer-times svelte-khj96w"),_(s,"class","timer-content svelte-khj96w"),_(C,"class","drag-handle right svelte-khj96w"),_(C,"title","Drag to adjust end time"),_(e,"class",E="timer-block current "+(n[14](n[4])?"work":"rest")+" svelte-khj96w"),F(e,"left",n[37].left),F(e,"width",n[37].width)},m(y,I){R(y,e,I),d(e,t),d(e,i),d(e,s),d(s,r),d(r,o),d(s,u),d(s,a),d(a,f),d(a,h),d(a,k),d(e,O),d(e,C),S||(g=[W(t,"mousedown",n[28]),W(C,"mousedown",n[29])],S=!0)},p(y,I){I[0]&16&&l!==(l=y[4].name+"")&&Y(o,l),I[0]&2&&c!==(c=re(y[1])+"")&&Y(f,c),I[0]&1&&v!==(v=re(y[0])+"")&&Y(k,v),I[0]&16&&E!==(E="timer-block current "+(y[14](y[4])?"work":"rest")+" svelte-khj96w")&&_(e,"class",E),I[0]&3&&F(e,"left",y[37].left),I[0]&3&&F(e,"width",y[37].width)},d(y){y&&m(e),S=!1,$e(g)}}}function _n(n){let e,t,i=n[7].name+"",s,r,l;return{c(){e=w("div"),t=w("span"),s=G(i),this.h()},l(o){e=T(o,"DIV",{class:!0,style:!0,title:!0});var u=M(e);t=T(u,"SPAN",{class:!0});var a=M(t);s=K(a,i),a.forEach(m),u.forEach(m),this.h()},h(){_(t,"class","timer-label svelte-khj96w"),_(e,"class",r="timer-block next "+(n[14](n[7])?"work":"rest")+" svelte-khj96w"),F(e,"left",n[37].left),F(e,"width",n[37].width),_(e,"title",l=n[7].name+": "+re(n[0])+" - "+re(n[7].finish))},m(o,u){R(o,e,u),d(e,t),d(t,s)},p(o,u){u[0]&128&&i!==(i=o[7].name+"")&&Y(s,i),u[0]&128&&r!==(r="timer-block next "+(o[14](o[7])?"work":"rest")+" svelte-khj96w")&&_(e,"class",r),u[0]&129&&F(e,"left",o[37].left),u[0]&129&&F(e,"width",o[37].width),u[0]&129&&l!==(l=o[7].name+": "+re(o[0])+" - "+re(o[7].finish))&&_(e,"title",l)},d(o){o&&m(e)}}}function Hi(n){let e,t,i,s=n[4]&&hn(n);return{c(){s&&s.c(),e=qe()},l(r){s&&s.l(r),e=qe()},m(r,l){s&&s.m(r,l),R(r,e,l),t||(i=[W(window,"keydown",n[18]),W(window,"mousemove",n[12]),W(window,"mouseup",n[13])],t=!0)},p(r,l){r[4]?s?s.p(r,l):(s=hn(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:x,o:x,d(r){r&&m(e),s&&s.d(r),t=!1,$e(i)}}}function re(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function Ui(n,e,t){let i,s,r,l,o,u,a,c,f,h,v,k;De(n,jt,V=>t(4,v=V)),De(n,pe,V=>t(25,k=V));let O=0,C=0,E,S,g=null,y=!1,I=null,N=0,P=400,p;function b(){const V=[];if(s&&(a.getTime()-s.start.getTime())/(1e3*60)<.5&&V.push(`Previous ${s.name} will be removed (< 30 sec)`),r){const X=c;(r.finish.getTime()-X.getTime())/(1e3*60)<.5&&V.push(`Next ${r.name} will be removed (< 30 sec)`)}return V}function D(V,X){const de=V.getTime()-l.getTime(),Z=X.getTime()-V.getTime(),We=de/u*100,Re=Z/u*100;return{left:`${We}%`,width:`${Re}%`}}function A(V,X){y=!0,I=V,N=X.clientX,p&&(P=p.offsetWidth),X.preventDefault()}function q(V){if(!y||!I)return;const de=(V.clientX-N)/P*u,Z=Math.round(de/(60*1e3));I==="start"?t(19,O=Z):t(20,C=Z)}function j(){y=!1,I=null}function H(V){return V.name===ve.WORK}function ge(){if(v){if(a>=c){alert("Start time must be before finish time");return}h.length>0&&!confirm(`Warning:
${h.join(`
`)}

Continue with save?`)||(pe.update(V=>{const X=V.timerHistory.list.findIndex(z=>z.start.getTime()===v.start.getTime());if(X===-1)return V;const de=V.timerHistory.list[X],Z=[];if(X>0){const z=V.timerHistory.list[X-1],me=de.start.getTime();if(a.getTime()!==me){const Ce=new Date(a);if((Ce.getTime()-z.start.getTime())/1e3<30)Z.push(X-1);else{const ye=new Ee(z.value,z.name,z.start,Ce);V.timerHistory.list[X-1]=ye}}}if(X<V.timerHistory.list.length-1){const z=V.timerHistory.list[X+1],me=de.finish.getTime();if(c.getTime()!==me){const Ce=new Date(c);if((z.finish.getTime()-Ce.getTime())/1e3<30)Z.push(X+1);else{const ye=new Ee(z.value,z.name,Ce,z.finish);V.timerHistory.list[X+1]=ye}}}Z.sort((z,me)=>me-z).forEach(z=>{V.timerHistory.list.splice(z,1)});const We=X-Z.filter(z=>z<X).length,Re=new Ee(de.value,de.name,a,c);return V.timerHistory.list[We]=Re,V}),ct())}}function ee(){ct()}function Ie(){v&&confirm("Delete this timer?")&&(pe.update(V=>V.remove(v.start)),ct())}function Oe(V){V.key==="Escape"&&ct()}function Le(V){Wt.call(this,n,V)}function Ve(V){Wt.call(this,n,V)}const ze=V=>A("start",V),Qe=V=>A("end",V);function fe(V){Ue[V?"unshift":"push"](()=>{p=V,t(5,p)})}return n.$$.update=()=>{n.$$.dirty[0]&33554448&&t(24,i=v?k.timerHistory.list.findIndex(V=>V.start.getTime()===v.start.getTime()):-1),n.$$.dirty[0]&50331648&&t(8,s=i>0?k.timerHistory.list[i-1]:null),n.$$.dirty[0]&50331648&&t(7,r=i>=0&&i<k.timerHistory.list.length-1?k.timerHistory.list[i+1]:null),n.$$.dirty[0]&8388624&&v&&v.start.getTime()!==g&&(t(23,g=v.start.getTime()),t(21,E=v.start instanceof Date?v.start:new Date(v.start)),t(22,S=v.finish instanceof Date?v.finish:new Date(v.finish)),t(19,O=0),t(20,C=0)),n.$$.dirty[0]&2097152&&t(2,l=E?new Date(E.getTime()-30*60*1e3):new Date),n.$$.dirty[0]&4194304&&t(3,o=S?new Date(S.getTime()+30*60*1e3):new Date),n.$$.dirty[0]&12&&(u=o.getTime()-l.getTime()),n.$$.dirty[0]&16&&(v||t(23,g=null)),n.$$.dirty[0]&2621440&&t(1,a=E?new Date(E.getTime()+O*60*1e3):new Date),n.$$.dirty[0]&5242880&&t(0,c=S?new Date(S.getTime()+C*60*1e3):new Date),n.$$.dirty[0]&19&&t(9,f=v?Math.round((c.getTime()-a.getTime())/(1e3*60)):0)},t(6,h=b()),[c,a,l,o,v,p,h,r,s,f,D,A,q,j,H,ge,ee,Ie,Oe,O,C,E,S,g,i,k,Le,Ve,ze,Qe,fe]}class Fi extends Te{constructor(e){super(),ke(this,e,Ui,Hi,we,{},null,[-1,-1])}}function Bi(n){let e,t,i,s,r,l,o,u,a,c;return{c(){e=w("div"),t=w("button"),i=G(n[1]),r=$(),l=w("button"),o=G(n[2]),this.h()},l(f){e=T(f,"DIV",{class:!0});var h=M(e);t=T(h,"BUTTON",{class:!0});var v=M(t);i=K(v,n[1]),v.forEach(m),r=L(h),l=T(h,"BUTTON",{class:!0});var k=M(l);o=K(k,n[2]),k.forEach(m),h.forEach(m),this.h()},h(){_(t,"class",s="tab "+(n[0]?"":"active")+" svelte-l4rew9"),_(l,"class",u="tab "+(n[0]?"active":"")+" svelte-l4rew9"),_(e,"class","tabs-container svelte-l4rew9")},m(f,h){R(f,e,h),d(e,t),d(t,i),d(e,r),d(e,l),d(l,o),a||(c=[W(t,"click",n[3]),W(l,"click",n[4])],a=!0)},p(f,[h]){h&2&&Y(i,f[1]),h&1&&s!==(s="tab "+(f[0]?"":"active")+" svelte-l4rew9")&&_(t,"class",s),h&4&&Y(o,f[2]),h&1&&u!==(u="tab "+(f[0]?"active":"")+" svelte-l4rew9")&&_(l,"class",u)},i:x,o:x,d(f){f&&m(e),a=!1,$e(c)}}}function zi(n,e,t){let{checked:i=!1}=e,{leftLabel:s=""}=e,{rightLabel:r=""}=e;const l=()=>t(0,i=!1),o=()=>t(0,i=!0);return n.$$set=u=>{"checked"in u&&t(0,i=u.checked),"leftLabel"in u&&t(1,s=u.leftLabel),"rightLabel"in u&&t(2,r=u.rightLabel)},[i,s,r,l,o]}class Wi extends Te{constructor(e){super(),ke(this,e,zi,Bi,we,{checked:0,leftLabel:1,rightLabel:2})}}function pn(n,e,t){const i=n.slice();return i[8]=e[t],i}function Gi(n){let e,t,i=[],s=new Map,r,l=n[0].active&&wn(n),o=be([...n[1]].reverse());const u=a=>a[8].start;for(let a=0;a<o.length;a+=1){let c=pn(n,o,a),f=u(c);s.set(f,i[a]=Tn(f,c))}return{c(){e=w("div"),l&&l.c(),t=$();for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=T(a,"DIV",{class:!0});var c=M(e);l&&l.l(c),t=L(c);for(let f=0;f<i.length;f+=1)i[f].l(c);c.forEach(m),this.h()},h(){_(e,"class","logs svelte-jk1hst")},m(a,c){R(a,e,c),l&&l.m(e,null),d(e,t);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);r=!0},p(a,c){a[0].active?l?(l.p(a,c),c&1&&U(l,1)):(l=wn(a),l.c(),U(l,1),l.m(e,t)):l&&(Fe(),B(l,1,1,()=>{l=null}),Be()),c&2&&(o=be([...a[1]].reverse()),Fe(),i=yn(i,c,u,1,a,o,s,e,Un,Tn,null,pn),Be())},i(a){if(!r){U(l);for(let c=0;c<o.length;c+=1)U(i[c]);r=!0}},o(a){B(l);for(let c=0;c<i.length;c+=1)B(i[c]);r=!1},d(a){a&&m(e),l&&l.d();for(let c=0;c<i.length;c+=1)i[c].d()}}}function Ki(n){let e,t;return e=new Ri({props:{timers:n[1],activeTimer:n[0].active}}),{c(){oe(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,s){ce(e,i,s),t=!0},p(i,s){const r={};s&2&&(r.timers=i[1]),s&1&&(r.activeTimer=i[0].active),e.$set(r)},i(i){t||(U(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ue(e,i)}}}function wn(n){let e,t,i;const s=[n[0].active,{topLog:!0}];let r={};for(let l=0;l<s.length;l+=1)r=In(r,s[l]);return e=new $n({props:r}),{c(){oe(e.$$.fragment),t=w("br")},l(l){ae(e.$$.fragment,l),t=T(l,"BR",{})},m(l,o){ce(e,l,o),R(l,t,o),i=!0},p(l,o){const u=o&1?On(s,[Cn(l[0].active),s[1]]):{};e.$set(u)},i(l){i||(U(e.$$.fragment,l),i=!0)},o(l){B(e.$$.fragment,l),i=!1},d(l){l&&m(t),ue(e,l)}}}function Tn(n,e){let t,i,s,r,l;const o=[e[8],{topLog:!1}];let u={};for(let a=0;a<o.length;a+=1)u=In(u,o[a]);return i=new $n({props:u}),i.$on("change",e[6]),i.$on("remove",e[7]),{key:n,first:null,c(){t=qe(),oe(i.$$.fragment),s=$(),r=w("br"),this.h()},l(a){t=qe(),ae(i.$$.fragment,a),s=L(a),r=T(a,"BR",{}),this.h()},h(){this.first=t},m(a,c){R(a,t,c),ce(i,a,c),R(a,s,c),R(a,r,c),l=!0},p(a,c){e=a;const f=c&2?On(o,[Cn(e[8]),o[1]]):{};i.$set(f)},i(a){l||(U(i.$$.fragment,a),l=!0)},o(a){B(i.$$.fragment,a),l=!1},d(a){a&&(m(t),m(s),m(r)),ue(i,a)}}}function Xi(n){let e,t,i,s,r="Clear logs",l,o,u="Active time: ",a,c=Jt(n[3])+"",f,h,v,k,O,C,E,S,g,y,I,N,P;e=new Fi({});function p(j){n[5](j)}let b={leftLabel:"Logs",rightLabel:"Graph"};n[2]!==void 0&&(b.checked=n[2]),O=new Wi({props:b}),Ue.push(()=>Mt(O,"checked",p));const D=[Ki,Gi],A=[];function q(j,H){return j[2]?0:1}return g=q(n),y=A[g]=D[g](n),{c(){oe(e.$$.fragment),t=$(),i=w("div"),s=w("button"),s.textContent=r,l=$(),o=w("span"),o.textContent=u,a=w("span"),f=G(c),h=$(),v=w("div"),k=w("div"),oe(O.$$.fragment),E=$(),S=w("div"),y.c(),this.h()},l(j){ae(e.$$.fragment,j),t=L(j),i=T(j,"DIV",{class:!0});var H=M(i);s=T(H,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-1renoko"&&(s.textContent=r),l=L(H),o=T(H,"SPAN",{class:!0,"data-svelte-h":!0}),Q(o)!=="svelte-18pz33x"&&(o.textContent=u),a=T(H,"SPAN",{class:!0});var ge=M(a);f=K(ge,c),ge.forEach(m),H.forEach(m),h=L(j),v=T(j,"DIV",{class:!0});var ee=M(v);k=T(ee,"DIV",{class:!0});var Ie=M(k);ae(O.$$.fragment,Ie),Ie.forEach(m),E=L(ee),S=T(ee,"DIV",{class:!0});var Oe=M(S);y.l(Oe),Oe.forEach(m),ee.forEach(m),this.h()},h(){_(s,"class","clear svelte-jk1hst"),_(o,"class","svelte-jk1hst"),_(a,"class","svelte-jk1hst"),_(i,"class","header svelte-jk1hst"),_(k,"class","tabs-header svelte-jk1hst"),_(S,"class","content-wrapper svelte-jk1hst"),_(v,"class","content-section svelte-jk1hst")},m(j,H){ce(e,j,H),R(j,t,H),R(j,i,H),d(i,s),d(i,l),d(i,o),d(i,a),d(a,f),R(j,h,H),R(j,v,H),d(v,k),ce(O,k,null),d(v,E),d(v,S),A[g].m(S,null),I=!0,N||(P=W(s,"click",n[4]),N=!0)},p(j,[H]){(!I||H&8)&&c!==(c=Jt(j[3])+"")&&Y(f,c);const ge={};!C&&H&4&&(C=!0,ge.checked=j[2],Ct(()=>C=!1)),O.$set(ge);let ee=g;g=q(j),g===ee?A[g].p(j,H):(Fe(),B(A[ee],1,1,()=>{A[ee]=null}),Be(),y=A[g],y?y.p(j,H):(y=A[g]=D[g](j),y.c()),U(y,1),y.m(S,null))},i(j){I||(U(e.$$.fragment,j),U(O.$$.fragment,j),U(y),I=!0)},o(j){B(e.$$.fragment,j),B(O.$$.fragment,j),B(y),I=!1},d(j){j&&(m(t),m(i),m(h),m(v)),ue(e,j),ue(O),A[g].d(),N=!1,P()}}}function Ji(n){return n!=null&&n.timerHistory?n.timerHistory.normalize():[]}function qi(n,e,t){let i,s;De(n,pe,f=>t(0,i=f)),De(n,fi,f=>t(3,s=f));var r=[];let l=!0;const o=()=>pe.update(f=>f.clearLogs());function u(f){l=f,t(2,l)}const a=f=>pe.update(h=>h.changeLineType(f.detail)),c=f=>pe.update(h=>h.remove(f.detail));return n.$$.update=()=>{n.$$.dirty&1&&t(1,r=Ji(i))},[i,r,l,s,o,u,a,c]}class Yi extends Te{constructor(e){super(),ke(this,e,qi,Xi,we,{})}}function Qi(n){let e,t,i,s,r="Let's Pomodoro!",l,o,u,a,c,f,h;function v(O){n[9](O)}let k={debugFlag:n[1]};return n[0]!==void 0&&(k.remainedSeconds=n[0]),o=new Ci({props:k}),Ue.push(()=>Mt(o,"remainedSeconds",v)),o.$on("timer",n[4]),o.$on("current",n[5]),o.$on("cancel",n[6]),f=new Yi({}),{c(){e=w("main"),t=w("div"),i=w("div"),s=w("h1"),s.textContent=r,l=$(),oe(o.$$.fragment),a=$(),c=w("div"),oe(f.$$.fragment),this.h()},l(O){e=T(O,"MAIN",{class:!0});var C=M(e);t=T(C,"DIV",{class:!0});var E=M(t);i=T(E,"DIV",{class:!0});var S=M(i);s=T(S,"H1",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-cxq7y3"&&(s.textContent=r),l=L(S),ae(o.$$.fragment,S),S.forEach(m),a=L(E),c=T(E,"DIV",{class:!0});var g=M(c);ae(f.$$.fragment,g),g.forEach(m),E.forEach(m),C.forEach(m),this.h()},h(){_(s,"class","logo svelte-1tn61l8"),_(i,"class","pomodoro svelte-1tn61l8"),_(c,"class","logs svelte-1tn61l8"),_(t,"class","container svelte-1tn61l8"),_(e,"class","svelte-1tn61l8"),je(e,"dark",n[3])},m(O,C){R(O,e,C),d(e,t),d(t,i),d(i,s),d(i,l),ce(o,i,null),d(t,a),d(t,c),ce(f,c,null),h=!0},p(O,C){const E={};C&2&&(E.debugFlag=O[1]),!u&&C&1&&(u=!0,E.remainedSeconds=O[0],Ct(()=>u=!1)),o.$set(E),(!h||C&8)&&je(e,"dark",O[3])},i(O){h||(U(o.$$.fragment,O),U(f.$$.fragment,O),h=!0)},o(O){B(o.$$.fragment,O),B(f.$$.fragment,O),h=!1},d(O){O&&m(e),ue(o),ue(f)}}}function Zi(n){let e;return{c(){e=w("main"),this.h()},l(t){e=T(t,"MAIN",{style:!0,class:!0}),M(e).forEach(m),this.h()},h(){F(e,"background-color","gray"),F(e,"height","90 vh"),_(e,"class","svelte-1tn61l8")},m(t,i){R(t,e,i)},p:x,i:x,o:x,d(t){t&&m(e)}}}function xi(n){let e,t,i,s,r,l,o,u,a,c="Toggle Dark Mode",f,h,v;const k=[Zi,Qi],O=[];function C(E,S){return E[2]?0:1}return e=C(n),t=O[e]=k[e](n),{c(){t.c(),i=$(),s=w("div"),r=w("label"),l=G("Debug:"),o=w("input"),u=$(),a=w("button"),a.textContent=c,this.h()},l(E){t.l(E),i=L(E),s=T(E,"DIV",{class:!0});var S=M(s);r=T(S,"LABEL",{id:!0});var g=M(r);l=K(g,"Debug:"),o=T(g,"INPUT",{type:!0}),u=L(g),a=T(g,"BUTTON",{"data-svelte-h":!0}),Q(a)!=="svelte-7kmdhl"&&(a.textContent=c),g.forEach(m),S.forEach(m),this.h()},h(){_(o,"type","checkbox"),_(r,"id","debug"),_(s,"class","debug-div svelte-1tn61l8")},m(E,S){O[e].m(E,S),R(E,i,S),R(E,s,S),d(s,r),d(r,l),d(r,o),o.checked=n[1],d(r,u),d(r,a),f=!0,h||(v=[W(o,"change",n[10]),W(a,"click",n[7])],h=!0)},p(E,[S]){let g=e;e=C(E),e===g?O[e].p(E,S):(Fe(),B(O[g],1,1,()=>{O[g]=null}),Be(),t=O[e],t?t.p(E,S):(t=O[e]=k[e](E),t.c()),U(t,1),t.m(i.parentNode,i)),S&2&&(o.checked=E[1])},i(E){f||(U(t),f=!0)},o(E){B(t),f=!1},d(E){E&&(m(i),m(s)),O[e].d(E),h=!1,$e(v)}}}function es(n,e,t){let i,s;De(n,tn,k=>t(3,i=k)),De(n,pe,k=>t(8,s=k));let r=!1,l,o=!0;function u(k){pe.update(O=>O.addTimer(k.detail))}function a(k){pe.update(O=>O.setActive(k.detail))}function c(){pe.update(k=>k.resetActive())}En(()=>{console.log("get darkmode:",i),t(2,o=!1)});function f(){tn.update(k=>!k),console.log("toggle dark",i)}function h(k){l=k,t(0,l)}function v(){r=this.checked,t(1,r)}return n.$$.update=()=>{n.$$.dirty&257&&s&&l!==void 0&&pe.update(k=>(k.setActiveDur(l),k))},[l,r,o,i,u,a,c,f,s,h,v]}class ls extends Te{constructor(e){super(),ke(this,e,es,xi,we,{})}}export{ls as component};
