var Qn=Object.defineProperty;var xn=(n,e,t)=>e in n?Qn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ee=(n,e,t)=>xn(n,typeof e!="symbol"?e+"":e,t);import{r as Re,s as be,c as $n,e as k,b as R,v as ke,d as w,f as S,i as m,j as L,y as f,k as H,T as G,u as Rn,g as Ln,a as Hn,t as x,h as ee,z as U,l as h,m as oe,U as it,V as tn,W as $e,n as le,X as te,Y as _t,o as Ce,Z as gt,_ as Ft,A as Ke,$ as Mt,x as Un,a0 as zt,a1 as nn,a2 as sn,a3 as Xe,a4 as ln,a5 as je,a6 as Ne,a7 as pt,a8 as kt,a9 as Bn,F as Fn,aa as ei}from"../chunks/scheduler.yzaWflf5.js";import{a as J,t as W,S as Te,i as De,b as ce,d as ue,m as fe,e as de,g as Je,c as Ye,f as Gt,h as zn,j as Gn}from"../chunks/index.DLd42UDf.js";import{b as nt,w as Tt,d as Dt}from"../chunks/paths.Cxbm7Xh7.js";function Ve(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ti(n,e){n.d(1),e.delete(n.key)}function ni(n,e){J(n,1,1,()=>{e.delete(n.key)})}function Wn(n,e,t,i,s,r,l,o,a,u,c,d){let v=n.length,_=r.length,g=v;const b={};for(;g--;)b[n[g].key]=g;const I=[],P=new Map,N=new Map,T=[];for(g=_;g--;){const y=d(s,r,g),j=t(y);let E=l.get(j);E?T.push(()=>E.p(y,e)):(E=u(j,y),E.c()),P.set(j,I[g]=E),j in b&&N.set(j,Math.abs(g-b[j]))}const O=new Set,M=new Set;function z(y){W(y,1),y.m(o,c),l.set(y.key,y),c=y.first,_--}for(;v&&_;){const y=I[_-1],j=n[v-1],E=y.key,V=j.key;y===j?(c=y.first,v--,_--):P.has(V)?!l.has(E)||O.has(E)?z(y):M.has(V)?v--:N.get(E)>N.get(V)?(M.add(E),z(y)):(O.add(V),v--):(a(j,l),v--)}for(;v--;){const y=n[v];P.has(y.key)||a(y,l)}for(;_;)z(I[_-1]);return Re(T),I}function Et(n,e){const t={},i={},s={$$scope:1};let r=n.length;for(;r--;){const l=n[r],o=e[r];if(o){for(const a in l)a in o||(i[a]=1);for(const a in o)s[a]||(t[a]=o[a],s[a]=1);n[r]=o}else for(const a in l)s[a]=1}for(const l in i)l in t||(t[l]=void 0);return t}function qn(n){return typeof n=="object"&&n!==null?n:{}}const ii=nt+"/ring2.wav";let Kn=function(){},lt,jt,Xn=.5,ft;if(typeof window<"u"){let n=window.AudioContext||window.webkitAudioContext;lt=new n,fetch(ii).then(e=>e.arrayBuffer()).then(e=>lt.decodeAudioData(e)).then(e=>{jt=e}).catch(e=>console.error("Error loading sound file:",e)),Kn=function(){if(!jt)return;ft=lt.createBufferSource(),ft.buffer=jt;let e=lt.createGain();e.gain.value=Xn,ft.connect(e),e.connect(lt.destination),ft.start(0)}}function Wt(){Kn()}function si(n,e){Xn=n,Wt()}function rn(n){let e,t;return{c(){e=k("div"),t=x(n[0]),this.h()},l(i){e=w(i,"DIV",{style:!0,class:!0});var s=S(e);t=ee(s,n[0]),s.forEach(m),this.h()},h(){U(e,"top",n[3]+"px"),U(e,"left",n[2]+"px"),f(e,"class","tooltip svelte-43gogz")},m(i,s){H(i,e,s),h(e,t)},p(i,s){s&1&&oe(t,i[0]),s&8&&U(e,"top",i[3]+"px"),s&4&&U(e,"left",i[2]+"px")},d(i){i&&m(e)}}}function li(n){let e,t,i,s,r,l;const o=n[8].default,a=$n(o,n,n[7],null);let u=n[1]&&rn(n);return{c(){e=k("div"),a&&a.c(),t=R(),u&&u.c(),i=ke(),this.h()},l(c){e=w(c,"DIV",{"aria-hidden":!0});var d=S(e);a&&a.l(d),d.forEach(m),t=L(c),u&&u.l(c),i=ke(),this.h()},h(){f(e,"aria-hidden","true")},m(c,d){H(c,e,d),a&&a.m(e,null),H(c,t,d),u&&u.m(c,d),H(c,i,d),s=!0,r||(l=[G(e,"mouseover",n[4]),G(e,"mouseleave",n[6]),G(e,"mousemove",n[5]),G(e,"focus",ri)],r=!0)},p(c,[d]){a&&a.p&&(!s||d&128)&&Rn(a,o,c,c[7],s?Hn(o,c[7],d,null):Ln(c[7]),null),c[1]?u?u.p(c,d):(u=rn(c),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},i(c){s||(W(a,c),s=!0)},o(c){J(a,c),s=!1},d(c){c&&(m(e),m(t),m(i)),a&&a.d(c),u&&u.d(c),r=!1,Re(l)}}}const ri=function(){};function oi(n,e,t){let{$$slots:i={},$$scope:s}=e,{title:r=""}=e,l=!1,o,a;function u(v){t(1,l=!0),t(2,o=v.pageX+10),t(3,a=v.pageY+10)}function c(v){t(2,o=v.pageX+10),t(3,a=v.pageY+10)}function d(){t(1,l=!1)}return n.$$set=v=>{"title"in v&&t(0,r=v.title),"$$scope"in v&&t(7,s=v.$$scope)},[r,l,o,a,u,c,d,s,i]}class qt extends Te{constructor(e){super(),De(this,e,oi,li,be,{title:0})}}function on(n){let e=Math.floor(n/60),t=Math.floor(n%60).toString().padStart(2,"0"),i=e.toString().padStart(2,"0");if(e>60){let s=Math.floor(e/60);return i=Math.floor(e%60).toString().padStart(2,"0"),`${s}:${i}:${t}`}return`${i}:${t}`}function an(n){let e=Math.floor(n/60),t=Math.floor(n%60);if(e>60){let i=Math.floor(e/60);return e=Math.floor(e%60),`${i}h ${e} min`}else return e>0?`${e} min`:`${t} sec`}function cn(n){let e=Math.floor(n/3600);e>0&&(n=n-e*3600);let t=Math.floor(n/60),i=Math.floor(n%60);return e==1?`${e} hour ${t} min`:e>0?`${e} hours ${t} min`:t>=5?`${t} min`:t>1?`${t} min ${i} sec`:`${i} sec`}class ai{constructor(e,t,i,s=300){Ee(this,"intervalId",0);Ee(this,"duration",0);Ee(this,"start",0);Ee(this,"remain",0);Ee(this,"onSec",e=>{});Ee(this,"onAlarm",()=>{});this.duration=e,this.remain=e-1,e>0&&(this.onSec=t,this.onAlarm=i,this.start=Date.now(),this.intervalId=setInterval(()=>{const r=Math.ceil((Date.now()-this.start)/1e3);let l=this.duration-r;l!=this.remain&&(t(this.remain),this.remain=l,this.remain<=0&&(this.onAlarm(),clearInterval(this.intervalId)))},s))}stop(){clearInterval(this.intervalId)}}function ci(n){let e,t=on(n[0])+"",i,s,r;return{c(){e=k("button"),i=x(t),this.h()},l(l){e=w(l,"BUTTON",{id:!0,class:!0});var o=S(e);i=ee(o,t),o.forEach(m),this.h()},h(){f(e,"id","watch"),f(e,"class","svelte-1kj7nhv")},m(l,o){H(l,e,o),h(e,i),s||(r=G(e,"click",n[1]),s=!0)},p(l,o){o&1&&t!==(t=on(l[0])+"")&&oe(i,t)},d(l){l&&m(e),s=!1,r()}}}function ui(n){let e,t;return e=new qt({props:{title:"stop timer",$$slots:{default:[ci]},$$scope:{ctx:n}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,s){fe(e,i,s),t=!0},p(i,[s]){const r={};s&257&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){J(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function fi(n,e,t){let{time:i=0}=e,{remainedSeconds:s=0}=e;var r;const l=it();function o(d){r!=null&&r.stop(),r=new ai(d,a,u),t(0,s=d)}function a(d){t(0,s=d)}function u(){Wt(),l("alarming")}function c(){l("stop")}return n.$$set=d=>{"time"in d&&t(2,i=d.time),"remainedSeconds"in d&&t(0,s=d.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&o(i)},[s,c,i]}class di extends Te{constructor(e){super(),De(this,e,fi,ui,be,{time:2,remainedSeconds:0})}}function hi(n){let e,t,i,s,r,l;return{c(){e=k("button"),t=x(n[1]),i=x(" min"),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var a=S(e);t=ee(a,n[1]),i=ee(a," min"),a.forEach(m),this.h()},h(){f(e,"class",s=tn(n[2])+" svelte-8w7xxt"),$e(e,"pressed",n[0])},m(o,a){H(o,e,a),h(e,t),h(e,i),r||(l=G(e,"click",n[5]),r=!0)},p(o,[a]){a&2&&oe(t,o[1]),a&4&&s!==(s=tn(o[2])+" svelte-8w7xxt")&&f(e,"class",s),a&5&&$e(e,"pressed",o[0])},i:le,o:le,d(o){o&&m(e),r=!1,l()}}}function mi(n,e,t){const i=it();let{value:s}=e,{name:r}=e,{pressed:l=!1}=e;function o(c,d){i("start",{name:c,val:d}),t(0,l=!0)}function a(){t(0,l=!1)}const u=function(){o(r,s)};return n.$$set=c=>{"value"in c&&t(1,s=c.value),"name"in c&&t(2,r=c.name),"pressed"in c&&t(0,l=c.pressed)},[l,s,r,o,a,u]}class Jn extends Te{constructor(e){super(),De(this,e,mi,hi,be,{value:1,name:2,pressed:0,reset:4})}get reset(){return this.$$.ctx[4]}}const Ae={WORK:"work",REST:"rest"},vi={afterClockIntervalS:3,afterClockTimeoutS:10,timersMultiplier:1},_i={afterClockIntervalS:10,afterClockTimeoutS:60*15,timersMultiplier:1*60};function tt(n){return n?vi:_i}/*! js-cookie v3.0.5 | MIT */function dt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)n[i]=t[i]}return n}var gi={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ht(n,e){function t(s,r,l){if(!(typeof document>"u")){l=dt({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in l)l[a]&&(o+="; "+a,l[a]!==!0&&(o+="="+l[a].split(";")[0]));return document.cookie=s+"="+n.write(r,s)+o}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var r=document.cookie?document.cookie.split("; "):[],l={},o=0;o<r.length;o++){var a=r[o].split("="),u=a.slice(1).join("=");try{var c=decodeURIComponent(a[0]);if(l[c]=n.read(u,c),s===c)break}catch{}}return s?l[s]:l}}return Object.create({set:t,get:i,remove:function(s,r){t(s,"",dt({},r,{expires:-1}))},withAttributes:function(s){return Ht(this.converter,dt({},this.attributes,s))},withConverter:function(s){return Ht(dt({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var Ue=Ht(gi,{path:"/"});class Pe{constructor(e=0,t="",i=new Date,s=new Date){Ee(this,"start");Ee(this,"finish");Ee(this,"name");Ee(this,"value");this.start=i,this.finish=s,this.name=t,this.value=e}setDuration(e){this.finish=new Date(this.start.getTime()+e*1e3)}durationS(){return(this.finish.getTime()-this.start.getTime())/1e3}}const pe={RUNNING:"RUNNING",STOPPED:"STOPPED",WAITING_FOR_STOP:"WAITING_FOR_STOP"};var qe=(n=>(n[n.EMIT=1]="EMIT",n[n.DO_NOT_EMIT=2]="DO_NOT_EMIT",n))(qe||{});let Yn=60,pi=5*60;function Kt(n,e,t=Yn){return(e.start.getTime()-n.finish.getTime())/1e3>t}function ki(n,e=Yn){var t=[],i=0;if(n.length<=1)return n;t.push(n[0]),i=0;for(let s=1;s<n.length;s++){const r=n[s];if(t[i].name!=r.name){t.push(r),i++;continue}Kt(t[i],r,e)?(t.push(r),i++):t[i].finish=r.finish}return t}function Nt(n,e=Ae.REST,t=pi){var i=[],s=0;if(n.length<=1)return n;i.push(n[0]),s=0;for(let l=1;l<n.length;l++){const o=n[l];if(Kt(i[s],o,t)){var r=new Pe(0,e,i[s].finish,o.start);i.push(r),s++}i.push(o),s++}return i}function wi(n){return n.forEach(e=>{if(!("name"in e&&"start"in e&&"finish"in e))return!1}),!0}function bi(n){let e=[];try{const t=JSON.parse(n);let i=[];wi(t)&&t.forEach(s=>{i.push(new Pe(0,s.name,new Date(s.start*1e3),new Date(s.finish*1e3)))}),console.log("deserialized logs:",i),e=i}catch{e=[]}return new Ut(e)}class Ut{constructor(e){Ee(this,"additionalS",0);Ee(this,"list",[]);this.list=Nt(e,Ae.REST)}serialize(){let e=[];return this.list.forEach(t=>{e.push({name:t.name,start:Math.floor(t.start.getTime()/1e3),finish:Math.floor(t.finish.getTime()/1e3)})}),JSON.stringify(e)}_normalize(){this.list=Nt(this.list,Ae.REST),this.list=ki(this.list,0)}addTimer(e){return this.list.push(e),this._normalize(),this}remove(e){for(var t=0;t<this.list.length;)this.list[t].start===e?this.list.splice(t,1):++t;this._normalize()}total(){let e=0;return this.list.forEach(t=>{t.name==Ae.WORK&&(e+=t.durationS())}),e}fillGaps(e=new Pe){if(this.list=Nt(this.list),this.list.length>0){let t=this.list[this.list.length-1];Kt(t,e)&&this.list.push(new Pe(0,Ae.REST,t.finish,e.start))}return this}}class Ti{constructor(){Ee(this,"timerHistory");Ee(this,"active");this.timerHistory=new Ut([])}addTimer(e){return this.active=void 0,this.timerHistory.addTimer(e),this}remove(e){return this.timerHistory.remove(e),this}clearLogs(){return this.timerHistory=new Ut([]),this}resetActive(){return this.active=void 0,this}tick(e,t){if(!this.active)return!1;const i=this.active.value*t,s=(e.getTime()-this.active.start.getTime())/1e3,r=15*t;return s>i+r?(this.active.finish=new Date(this.active.start.getTime()+(i+r)*1e3),this.addTimer(this.active),!0):(this.active.finish=e,!1)}getRecoveryStatus(e,t){if(!this.active)return{shouldResume:!1,shouldArchive:!1,remainingMinutes:0};const i=(e.getTime()-this.active.start.getTime())/1e3,s=this.active.value*t,r=15*t;if(i>=s+r)return{shouldResume:!1,shouldArchive:!0,remainingMinutes:0};const l=s-i;return{shouldResume:l>0,shouldArchive:!1,remainingMinutes:Math.max(0,l/t)}}setActive(e){return this.active=e,this.timerHistory.fillGaps(),this}totalTime(){let e=this.timerHistory.total();return this.active&&this.active.name==Ae.WORK&&(e+=this.active.durationS()),e}}function St(n,e,t={storage:"cookies",cookieExpireDays:31}){const i=t.serialize||JSON.stringify,s=t.deserialize||JSON.parse;let r=e;try{const o=t.storage==="cookies"?Ue.get(n):localStorage.getItem(n);o&&(r=s(o))}catch(o){console.warn(`Failed to load ${n} from ${t.storage}:`,o)}const l=Tt(r);return l.subscribe(o=>{try{const a=i(o);t.storage==="cookies"?Ue.set(n,a,{expires:t.cookieExpireDays||31}):localStorage.setItem(n,a)}catch(a){console.warn(`Failed to save ${n} to ${t.storage}:`,a)}}),l}function Di(){let n=new Ti;{const t=Ue.get("logs");console.log("Loading pomApp from cookies:",t),t&&(n.timerHistory=bi(t));const i=Ue.get("activeTimer");if(i)try{const s=JSON.parse(i),r=new Date(s.start),l=new Date;(l.getTime()-r.getTime())/(1e3*60*60)<1?(n.active=new Pe(s.value,s.name,r,l),console.log("Loaded active timer from cookies:",n.active)):(console.log("Active timer too old, not restoring"),Ue.remove("activeTimer"))}catch(s){console.error("Failed to parse active timer:",s)}}const e=Tt(n);return e.subscribe(t=>{const i=t.timerHistory.serialize();if(Ue.set("logs",i,{expires:31}),t.active){const s={name:t.active.name,start:t.active.start.getTime(),finish:t.active.finish.getTime(),value:t.active.value};Ue.set("activeTimer",JSON.stringify(s),{expires:31})}else Ue.remove("activeTimer")}),e}const Ie=Di();function Ei(){{const n=Ue.get("darkmode");return n!==void 0?n==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}}const Bt=St("darkmode",Ei(),{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>n==="true"}),Si=Dt(Ie,n=>n.totalTime()),ht=St("volume",10,{storage:"cookies",serialize:n=>n.toString(),deserialize:n=>parseInt(n,10)}),Vt=St("workTimers",[5,10,15,20,25],{storage:"cookies"}),At=St("restTimers",[5,10,15,20,25],{storage:"cookies"});function un(n,e,t){const i=n.slice();return i[27]=e[t],i[28]=e,i[29]=t,i}function fn(n,e,t){const i=n.slice();return i[27]=e[t],i[30]=e,i[29]=t,i}function dn(n){let e,t,i=n[29],s,r,l="√ó",o,a,u;const c=()=>n[17](t,i),d=()=>n[17](null,i);let v={value:n[27],name:Ae.WORK};t=new Jn({props:v}),c(),t.$on("start",n[7]);function _(){return n[18](n[27])}return{c(){e=k("div"),ce(t.$$.fragment),s=R(),r=k("button"),r.textContent=l,this.h()},l(g){e=w(g,"DIV",{class:!0});var b=S(e);ue(t.$$.fragment,b),s=L(b),r=w(b,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),te(r)!=="svelte-11wt2z7"&&(r.textContent=l),b.forEach(m),this.h()},h(){f(r,"class","delete-timer-btn svelte-k68jil"),f(r,"title","–£–¥–∞–ª–∏—Ç—å"),f(e,"class","timer-item svelte-k68jil")},m(g,b){H(g,e,b),fe(t,e,null),h(e,s),h(e,r),o=!0,a||(u=G(r,"click",_),a=!0)},p(g,b){n=g,i!==n[29]&&(d(),i=n[29],c());const I={};b&64&&(I.value=n[27]),t.$set(I)},i(g){o||(W(t.$$.fragment,g),o=!0)},o(g){J(t.$$.fragment,g),o=!1},d(g){g&&m(e),d(),de(t),a=!1,u()}}}function hn(n){let e,t,i=n[29],s,r,l="√ó",o,a,u;const c=()=>n[20](t,i),d=()=>n[20](null,i);let v={value:n[27],name:Ae.REST};t=new Jn({props:v}),c(),t.$on("start",n[7]);function _(){return n[21](n[27])}return{c(){e=k("div"),ce(t.$$.fragment),s=R(),r=k("button"),r.textContent=l,this.h()},l(g){e=w(g,"DIV",{class:!0});var b=S(e);ue(t.$$.fragment,b),s=L(b),r=w(b,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),te(r)!=="svelte-16vk07s"&&(r.textContent=l),b.forEach(m),this.h()},h(){f(r,"class","delete-timer-btn svelte-k68jil"),f(r,"title","–£–¥–∞–ª–∏—Ç—å"),f(e,"class","timer-item svelte-k68jil")},m(g,b){H(g,e,b),fe(t,e,null),h(e,s),h(e,r),o=!0,a||(u=G(r,"click",_),a=!0)},p(g,b){n=g,i!==n[29]&&(d(),i=n[29],c());const I={};b&32&&(I.value=n[27]),t.$set(I)},i(g){o||(W(t.$$.fragment,g),o=!0)},o(g){J(t.$$.fragment,g),o=!1},d(g){g&&m(e),d(),de(t),a=!1,u()}}}function mn(n){let e,t,i,s="–°–≤–æ—ë –≤—Ä–µ–º—è (–º–∏–Ω)",r,l,o,a,u,c,d,v,_,g="–û—Ç–º–µ–Ω–∞",b,I;return{c(){e=k("div"),t=k("div"),i=k("p"),i.textContent=s,r=R(),l=k("input"),o=R(),a=k("div"),u=k("button"),c=x("–î–æ–±–∞–≤–∏—Ç—å"),v=R(),_=k("button"),_.textContent=g,this.h()},l(P){e=w(P,"DIV",{class:!0,role:!0});var N=S(e);t=w(N,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-label":!0});var T=S(t);i=w(T,"P",{class:!0,"data-svelte-h":!0}),te(i)!=="svelte-1hv4oku"&&(i.textContent=s),r=L(T),l=w(T,"INPUT",{class:!0,type:!0,min:!0,max:!0,placeholder:!0}),o=L(T),a=w(T,"DIV",{class:!0});var O=S(a);u=w(O,"BUTTON",{class:!0});var M=S(u);c=ee(M,"–î–æ–±–∞–≤–∏—Ç—å"),M.forEach(m),v=L(O),_=w(O,"BUTTON",{class:!0,"data-svelte-h":!0}),te(_)!=="svelte-1x2fwc6"&&(_.textContent=g),O.forEach(m),T.forEach(m),N.forEach(m),this.h()},h(){f(i,"class","dialog-title svelte-k68jil"),f(l,"class","dialog-input svelte-k68jil"),f(l,"type","number"),f(l,"min","1"),f(l,"max","999"),f(l,"placeholder","–Ω–∞–ø—Ä–∏–º–µ—Ä, 45"),f(u,"class","dialog-ok svelte-k68jil"),u.disabled=d=!n[3]||n[3]<=0,f(_,"class","dialog-cancel svelte-k68jil"),f(a,"class","dialog-actions svelte-k68jil"),f(t,"class","dialog svelte-k68jil"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(t,"aria-label","–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä"),f(e,"class","backdrop svelte-k68jil"),f(e,"role","presentation")},m(P,N){H(P,e,N),h(e,t),h(t,i),h(t,r),h(t,l),gt(l,n[3]),h(t,o),h(t,a),h(a,u),h(u,c),h(a,v),h(a,_),n[24](t),b||(I=[G(l,"input",n[23]),G(u,"click",n[10]),G(_,"click",n[9]),G(t,"keydown",n[12]),G(e,"click",n[13])],b=!0)},p(P,N){N&8&&Ft(l.value)!==P[3]&&gt(l,P[3]),N&8&&d!==(d=!P[3]||P[3]<=0)&&(u.disabled=d)},d(P){P&&m(e),n[24](null),b=!1,Re(I)}}}function Ii(n){let e,t,i,s,r="Active",l,o,a,u,c,d="+",v,_,g,b,I,P="Rest",N,T,O,M,z,y="+",j,E,V,C,F,A=Ve(n[6]),p=[];for(let $=0;$<A.length;$+=1)p[$]=dn(fn(n,A,$));const q=$=>J(p[$],1,1,()=>{p[$]=null}),Q=n[16].default,Y=$n(Q,n,n[15],null);let he=Ve(n[5]),Z=[];for(let $=0;$<he.length;$+=1)Z[$]=hn(un(n,he,$));const Le=$=>J(Z[$],1,1,()=>{Z[$]=null});let ie=n[2]&&mn(n);return{c(){e=k("div"),t=k("div"),i=k("div"),s=k("span"),s.textContent=r,l=k("br"),o=R(),a=k("div");for(let $=0;$<p.length;$+=1)p[$].c();u=R(),c=k("button"),c.textContent=d,v=R(),_=k("div"),Y&&Y.c(),g=R(),b=k("div"),I=k("span"),I.textContent=P,N=k("br"),T=R(),O=k("div");for(let $=0;$<Z.length;$+=1)Z[$].c();M=R(),z=k("button"),z.textContent=y,j=R(),ie&&ie.c(),E=ke(),this.h()},l($){e=w($,"DIV",{class:!0});var B=S(e);t=w(B,"DIV",{class:!0});var D=S(t);i=w(D,"DIV",{class:!0});var K=S(i);s=w(K,"SPAN",{class:!0,"data-svelte-h":!0}),te(s)!=="svelte-19szg5l"&&(s.textContent=r),l=w(K,"BR",{}),o=L(K),a=w(K,"DIV",{class:!0});var ae=S(a);for(let X=0;X<p.length;X+=1)p[X].l(ae);u=L(ae),c=w(ae,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),te(c)!=="svelte-18vwo8u"&&(c.textContent=d),ae.forEach(m),K.forEach(m),v=L(D),_=w(D,"DIV",{class:!0});var re=S(_);Y&&Y.l(re),re.forEach(m),g=L(D),b=w(D,"DIV",{class:!0});var Oe=S(b);I=w(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),te(I)!=="svelte-1gtata5"&&(I.textContent=P),N=w(Oe,"BR",{}),T=L(Oe),O=w(Oe,"DIV",{class:!0});var Me=S(O);for(let X=0;X<Z.length;X+=1)Z[X].l(Me);M=L(Me),z=w(Me,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),te(z)!=="svelte-cad37x"&&(z.textContent=y),Me.forEach(m),Oe.forEach(m),D.forEach(m),B.forEach(m),j=L($),ie&&ie.l($),E=ke(),this.h()},h(){f(s,"class","label svelte-k68jil"),f(c,"class","add-btn svelte-k68jil"),f(c,"title","–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä"),f(a,"class","timers-list svelte-k68jil"),f(i,"class","item svelte-k68jil"),f(_,"class","item svelte-k68jil"),f(I,"class","label svelte-k68jil"),f(z,"class","add-btn svelte-k68jil"),f(z,"title","–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä"),f(O,"class","timers-list svelte-k68jil"),f(b,"class","item svelte-k68jil"),f(t,"class","grid-container svelte-k68jil"),f(e,"class","controls-wrapper svelte-k68jil")},m($,B){H($,e,B),h(e,t),h(t,i),h(i,s),h(i,l),h(i,o),h(i,a);for(let D=0;D<p.length;D+=1)p[D]&&p[D].m(a,null);h(a,u),h(a,c),h(t,v),h(t,_),Y&&Y.m(_,null),h(t,g),h(t,b),h(b,I),h(b,N),h(b,T),h(b,O);for(let D=0;D<Z.length;D+=1)Z[D]&&Z[D].m(O,null);h(O,M),h(O,z),H($,j,B),ie&&ie.m($,B),H($,E,B),V=!0,C||(F=[G(c,"click",n[19]),G(z,"click",n[22])],C=!0)},p($,[B]){if(B&2241){A=Ve($[6]);let D;for(D=0;D<A.length;D+=1){const K=fn($,A,D);p[D]?(p[D].p(K,B),W(p[D],1)):(p[D]=dn(K),p[D].c(),W(p[D],1),p[D].m(a,u))}for(Je(),D=A.length;D<p.length;D+=1)q(D);Ye()}if(Y&&Y.p&&(!V||B&32768)&&Rn(Y,Q,$,$[15],V?Hn(Q,$[15],B,null):Ln($[15]),null),B&2210){he=Ve($[5]);let D;for(D=0;D<he.length;D+=1){const K=un($,he,D);Z[D]?(Z[D].p(K,B),W(Z[D],1)):(Z[D]=hn(K),Z[D].c(),W(Z[D],1),Z[D].m(O,M))}for(Je(),D=he.length;D<Z.length;D+=1)Le(D);Ye()}$[2]?ie?ie.p($,B):(ie=mn($),ie.c(),ie.m(E.parentNode,E)):ie&&(ie.d(1),ie=null)},i($){if(!V){for(let B=0;B<A.length;B+=1)W(p[B]);W(Y,$);for(let B=0;B<he.length;B+=1)W(Z[B]);V=!0}},o($){p=p.filter(Boolean);for(let B=0;B<p.length;B+=1)J(p[B]);J(Y,$),Z=Z.filter(Boolean);for(let B=0;B<Z.length;B+=1)J(Z[B]);V=!1},d($){$&&(m(e),m(j),m(E)),_t(p,$),Y&&Y.d($),_t(Z,$),ie&&ie.d($),C=!1,Re(F)}}}function yi(n,e,t){let i,s;Ce(n,At,p=>t(5,i=p)),Ce(n,Vt,p=>t(6,s=p));let{$$slots:r={},$$scope:l}=e;const o=it();let a=[],u=[],c=!1,d=null,v=null,_=null;function g(p){o("start",{timer:p.detail.val,name:p.detail.name})}function b(p){d=p,t(3,v=null),t(2,c=!0),setTimeout(()=>{var q;(q=_==null?void 0:_.querySelector(".dialog-input"))==null||q.focus()},0)}function I(){t(2,c=!1),d=null}function P(){if(v!==null&&v>0){const p=Math.round(v);d==="work"?s.includes(p)||Vt.update(q=>[...q,p].sort((Q,Y)=>Q-Y)):d==="rest"&&(i.includes(p)||At.update(q=>[...q,p].sort((Q,Y)=>Q-Y)))}I()}function N(p,q){p==="work"?Vt.update(Q=>Q.filter(Y=>Y!==q)):At.update(Q=>Q.filter(Y=>Y!==q))}function T(p){p.key==="Enter"&&P(),p.key==="Escape"&&I()}function O(p){p.target===p.currentTarget&&I()}function M(){a.forEach(p=>p==null?void 0:p.reset()),u.forEach(p=>p==null?void 0:p.reset())}function z(p,q){Ke[p?"unshift":"push"](()=>{a[q]=p,t(0,a)})}const y=p=>N("work",p),j=()=>b("work");function E(p,q){Ke[p?"unshift":"push"](()=>{u[q]=p,t(1,u)})}const V=p=>N("rest",p),C=()=>b("rest");function F(){v=Ft(this.value),t(3,v)}function A(p){Ke[p?"unshift":"push"](()=>{_=p,t(4,_)})}return n.$$set=p=>{"$$scope"in p&&t(15,l=p.$$scope)},[a,u,c,v,_,i,s,g,b,I,P,N,T,O,M,l,r,z,y,j,E,V,C,F,A]}class Ci extends Te{constructor(e){super(),De(this,e,yi,Ii,be,{clear:14})}get clear(){return this.$$.ctx[14]}}function Oi(n){let e,t,i,s=`<img src="${nt}/volume_mute.svg" alt="Mute icon"/>`,r,l,o,a,u=`<img src="${nt}/volume_up.svg" alt="Volume max icon"/>`,c,d;return{c(){e=k("label"),t=k("div"),i=k("button"),i.innerHTML=s,r=R(),l=k("input"),o=R(),a=k("button"),a.innerHTML=u,this.h()},l(v){e=w(v,"LABEL",{});var _=S(e);t=w(_,"DIV",{class:!0});var g=S(t);i=w(g,"BUTTON",{class:!0,"data-svelte-h":!0}),te(i)!=="svelte-t9bnpg"&&(i.innerHTML=s),r=L(g),l=w(g,"INPUT",{class:!0,type:!0,min:!0,max:!0}),o=L(g),a=w(g,"BUTTON",{class:!0,"data-svelte-h":!0}),te(a)!=="svelte-yorq7f"&&(a.innerHTML=u),g.forEach(m),_.forEach(m),this.h()},h(){f(i,"class","leftbutton svelte-1vsc329"),f(l,"class","slider bar svelte-1vsc329"),f(l,"type","range"),f(l,"min","0"),f(l,"max","100"),f(a,"class","svelte-1vsc329"),f(t,"class","container svelte-1vsc329")},m(v,_){H(v,e,_),h(e,t),h(t,i),h(t,r),h(t,l),gt(l,n[0]),h(t,o),h(t,a),c||(d=[G(i,"click",n[2]),G(l,"change",n[5]),G(l,"input",n[5]),G(l,"mouseup",n[1]),G(a,"click",n[3])],c=!0)},p(v,[_]){_&1&&gt(l,v[0])},i:le,o:le,d(v){v&&m(e),c=!1,Re(d)}}}function Mi(n,e,t){let i;Ce(n,ht,u=>t(4,i=u));let s=i;function r(u){Mt(ht,i=parseInt(u.target.value,10),i)}function l(){Mt(ht,i=0,i)}function o(){Mt(ht,i=100,i)}function a(){s=Ft(this.value),t(0,s),t(4,i)}return n.$$.update=()=>{n.$$.dirty&16&&(console.log("volume",i),si(i/100),t(0,s=i))},[s,r,l,o,i,a]}class ji extends Te{constructor(e){super(),De(this,e,Mi,Oi,be,{})}}function Ni(n,e,t){const i=it();let{debugFlag:s}=e,{active:r=!0}=e,l=0,o=0;function a(c){console.log("run annoyer",c),clearInterval(l),clearTimeout(o),c&&(l=setInterval(()=>{Wt(),r||clearInterval(l)},tt(s).afterClockIntervalS*1e3),o=setTimeout(()=>{t(0,r=!1),clearInterval(l),u()},tt(s).afterClockTimeoutS*1e3))}function u(){i("off")}return n.$$set=c=>{"debugFlag"in c&&t(1,s=c.debugFlag),"active"in c&&t(0,r=c.active)},n.$$.update=()=>{n.$$.dirty&1&&a(r)},[r,s]}class Vi extends Te{constructor(e){super(),De(this,e,Ni,null,be,{debugFlag:1,active:0})}}const vn=nt+"/tea.png",Ai=nt+"/clock_red.png",Pi=nt+"/clock_yellow.png";function $i(n){if(console.log("changeFavicon",n),typeof document>"u"||document===null)return;const e=document.getElementById("favicon");if(e!==null)switch(n){case pe.STOPPED:e.href=vn;break;case pe.RUNNING:e.href=Ai;break;case pe.WAITING_FOR_STOP:e.href=Pi;break;default:e.href=vn}}function Ri(){const{subscribe:n,set:e,update:t}=Tt({state:pe.STOPPED,currentTimer:new Pe,clockDuration:0});return{subscribe:n,start:(i,s,r)=>{const l=tt(r).timersMultiplier;t(o=>({state:pe.RUNNING,currentTimer:new Pe(i,s),clockDuration:i*l}))},alarm:i=>{t(s=>{if(i){const r=Object.assign(Object.create(Object.getPrototypeOf(s.currentTimer)),s.currentTimer,{finish:new Date});return{...s,state:pe.STOPPED,clockDuration:0,currentTimer:r}}else return{...s,state:pe.WAITING_FOR_STOP}})},stop:()=>{t(i=>{const s=Object.assign(Object.create(Object.getPrototypeOf(i.currentTimer)),i.currentTimer,{finish:new Date});return{...i,state:pe.STOPPED,clockDuration:0,currentTimer:s}})},reset:()=>{e({state:pe.STOPPED,currentTimer:new Pe,clockDuration:0})}}}const Be=Ri(),Li=Dt(Be,n=>n.state),Hi=Dt(Be,n=>n.currentTimer),Ui=Dt(Be,n=>n.clockDuration);function Bi(n){let e,t,i;return e=new ji({}),{c(){ce(e.$$.fragment),t=k("br")},l(s){ue(e.$$.fragment,s),t=w(s,"BR",{})},m(s,r){fe(e,s,r),H(s,t,r),i=!0},p:le,i(s){i||(W(e.$$.fragment,s),i=!0)},o(s){J(e.$$.fragment,s),i=!1},d(s){s&&m(t),de(e,s)}}}function _n(n){let e,t;return e=new qt({props:{title:"stop and don't save logs",$$slots:{default:[Fi]},$$scope:{ctx:n}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,s){fe(e,i,s),t=!0},p(i,s){const r={};s&65536&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){J(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function Fi(n){let e,t="cancel",i,s,r,l;return{c(){e=k("button"),e.textContent=t,i=R(),s=k("br"),this.h()},l(o){e=w(o,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1wi9d3u"&&(e.textContent=t),i=L(o),s=w(o,"BR",{}),this.h()},h(){f(e,"id","stopper"),f(e,"class","svelte-1viwsah")},m(o,a){H(o,e,a),H(o,i,a),H(o,s,a),r||(l=G(e,"click",n[8]),r=!0)},p:le,d(o){o&&(m(e),m(i),m(s)),r=!1,l()}}}function zi(n){let e,t,i,s,r,l,o;function a(d){n[10](d)}let u={time:n[4]};n[0]!==void 0&&(u.remainedSeconds=n[0]),t=new di({props:u}),Ke.push(()=>Gt(t,"remainedSeconds",a)),t.$on("alarming",n[6]),t.$on("stop",n[9]),r=new qt({props:{title:"Volume",$$slots:{default:[Bi]},$$scope:{ctx:n}}});let c=n[2]!==pe.STOPPED&&_n(n);return{c(){e=k("div"),ce(t.$$.fragment),s=R(),ce(r.$$.fragment),l=R(),c&&c.c(),this.h()},l(d){e=w(d,"DIV",{class:!0});var v=S(e);ue(t.$$.fragment,v),s=L(v),ue(r.$$.fragment,v),l=L(v),c&&c.l(v),v.forEach(m),this.h()},h(){f(e,"class","clock svelte-1viwsah")},m(d,v){H(d,e,v),fe(t,e,null),h(e,s),fe(r,e,null),h(e,l),c&&c.m(e,null),o=!0},p(d,v){const _={};v&16&&(_.time=d[4]),!i&&v&1&&(i=!0,_.remainedSeconds=d[0],zt(()=>i=!1)),t.$set(_);const g={};v&65536&&(g.$$scope={dirty:v,ctx:d}),r.$set(g),d[2]!==pe.STOPPED?c?(c.p(d,v),v&4&&W(c,1)):(c=_n(d),c.c(),W(c,1),c.m(e,null)):c&&(Je(),J(c,1,1,()=>{c=null}),Ye())},i(d){o||(W(t.$$.fragment,d),W(r.$$.fragment,d),W(c),o=!0)},o(d){J(t.$$.fragment,d),J(r.$$.fragment,d),J(c),o=!1},d(d){d&&m(e),de(t),de(r),c&&c.d()}}}function Gi(n){let e,t,i,s,r={$$slots:{default:[zi]},$$scope:{ctx:n}};return e=new Ci({props:r}),n[11](e),e.$on("start",n[5]),e.$on("stop",n[12]),i=new Vi({props:{active:n[2]===pe.WAITING_FOR_STOP,debugFlag:n[1]}}),i.$on("off",n[13]),{c(){ce(e.$$.fragment),t=R(),ce(i.$$.fragment)},l(l){ue(e.$$.fragment,l),t=L(l),ue(i.$$.fragment,l)},m(l,o){fe(e,l,o),H(l,t,o),fe(i,l,o),s=!0},p(l,[o]){const a={};o&65557&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};o&4&&(u.active=l[2]===pe.WAITING_FOR_STOP),o&2&&(u.debugFlag=l[1]),i.$set(u)},i(l){s||(W(e.$$.fragment,l),W(i.$$.fragment,l),s=!0)},o(l){J(e.$$.fragment,l),J(i.$$.fragment,l),s=!1},d(l){l&&m(t),n[11](null),de(e,l),de(i,l)}}}function Wi(n,e,t){let i,s,r;Ce(n,Li,T=>t(2,i=T)),Ce(n,Hi,T=>t(14,s=T)),Ce(n,Ui,T=>t(4,r=T));const l=it();let{debugFlag:o}=e,{remainedSeconds:a}=e,u;function c(T){i===pe.RUNNING&&v(qe.EMIT),Be.start(T.detail.timer,T.detail.name,o),l("current",s)}function d(){const T=typeof document<"u"&&document.visibilityState==="visible";Be.alarm(T),T&&(u&&u.clear(),l("timer",s))}function v(T=qe.EMIT){Be.stop(),u&&u.clear(),T===qe.EMIT&&l("timer",s)}function _(){Be.reset(),u&&u.clear(),l("cancel")}function g(){i!==pe.STOPPED&&v(qe.EMIT)}Un(()=>{document.addEventListener("visibilitychange",function(){i===pe.WAITING_FOR_STOP&&document.visibilityState==="visible"&&(console.log("visibility change to visible"),v(qe.EMIT))})});function b(T){a=T,t(0,a)}function I(T){Ke[T?"unshift":"push"](()=>{u=T,t(3,u)})}const P=()=>v(qe.DO_NOT_EMIT),N=()=>v(qe.DO_NOT_EMIT);return n.$$set=T=>{"debugFlag"in T&&t(1,o=T.debugFlag),"remainedSeconds"in T&&t(0,a=T.remainedSeconds)},n.$$.update=()=>{n.$$.dirty&4&&$i(i)},[a,o,i,u,r,c,d,v,_,g,b,I,P,N]}class qi extends Te{constructor(e){super(),De(this,e,Wi,Gi,be,{debugFlag:1,remainedSeconds:0})}}function Ki(n){let e;return{c(){e=x("Active for")},l(t){e=ee(t,"Active for")},m(t,i){H(t,e,i)},d(t){t&&m(e)}}}function Xi(n){let e;return{c(){e=x("Rest for")},l(t){e=ee(t,"Rest for")},m(t,i){H(t,e,i)},d(t){t&&m(e)}}}function gn(n){let e,t="running";return{c(){e=k("span"),e.textContent=t,this.h()},l(i){e=w(i,"SPAN",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1383egi"&&(e.textContent=t),this.h()},h(){f(e,"class","active-badge svelte-2774qv")},m(i,s){H(i,e,s)},d(i){i&&m(e)}}}function Ji(n){let e,t,i,s,r,l,o,a=an(n[2])+"",u,c,d,v;function _(P,N){return P[1]?Xi:Ki}let g=_(n),b=g(n),I=n[0]&&gn();return{c(){e=k("div"),t=k("snap"),i=x(n[3]),s=R(),r=k("snap"),b.c(),l=R(),o=k("snap"),u=x(a),c=R(),I&&I.c(),this.h()},l(P){e=w(P,"DIV",{class:!0});var N=S(e);t=w(N,"SNAP",{class:!0});var T=S(t);i=ee(T,n[3]),T.forEach(m),s=L(N),r=w(N,"SNAP",{});var O=S(r);b.l(O),O.forEach(m),l=L(N),o=w(N,"SNAP",{class:!0});var M=S(o);u=ee(M,a),M.forEach(m),c=L(N),I&&I.l(N),N.forEach(m),this.h()},h(){f(t,"class","time work svelte-2774qv"),f(o,"class","duration svelte-2774qv"),f(e,"class","logline svelte-2774qv"),$e(e,"topLog",n[0]),$e(e,"rest",n[1]),$e(e,"clickable",!n[0])},m(P,N){H(P,e,N),h(e,t),h(t,i),h(e,s),h(e,r),b.m(r,null),h(e,l),h(e,o),h(o,u),h(e,c),I&&I.m(e,null),d||(v=G(e,"click",n[4]),d=!0)},p(P,[N]){g!==(g=_(P))&&(b.d(1),b=g(P),b&&(b.c(),b.m(r,null))),N&4&&a!==(a=an(P[2])+"")&&oe(u,a),P[0]?I||(I=gn(),I.c(),I.m(e,null)):I&&(I.d(1),I=null),N&1&&$e(e,"topLog",P[0]),N&2&&$e(e,"rest",P[1]),N&1&&$e(e,"clickable",!P[0])},i:le,o:le,d(P){P&&m(e),b.d(),I&&I.d(),d=!1,v()}}}function Yi(n){let e=n.getHours().toString().padStart(2,"0"),t=n.getMinutes().toString().padStart(2,"0");return`${e}:${t}`}function Zi(n,e,t){let i,s,{start:r}=e,{finish:l}=e,{name:o}=e,{value:a=0}=e,{topLog:u=!1}=e;const c=it();let d=Yi(r);function v(){u||c("click")}return n.$$set=_=>{"start"in _&&t(5,r=_.start),"finish"in _&&t(6,l=_.finish),"name"in _&&t(7,o=_.name),"value"in _&&t(8,a=_.value),"topLog"in _&&t(0,u=_.topLog)},n.$$.update=()=>{n.$$.dirty&96&&t(2,i=(l.getTime()-r.getTime())/1e3),n.$$.dirty&128&&t(1,s=o===Ae.REST)},[u,s,i,d,v,r,l,o,a]}class Zn extends Te{constructor(e){super(),De(this,e,Zi,Ji,be,{start:5,finish:6,name:7,value:8,topLog:0})}}const Xt=Tt(null);function vt(n){Xt.set(n)}function mt(){Xt.set(null)}function Qi(n){const e=n.slice(),t=e[23].getTime()-e[1].start.getTime();e[25]=t;const i=e[1].finish.getTime()-e[1].start.getTime();e[5]=i;const s=e[25]/e[5]*e[24];e[26]=s;const r=e[24]-e[26];e[27]=r;const l=parseFloat(e[20].left)+e[26];return e[28]=l,e}function Pt(n){const e=n.slice(),t=e[8](e[1]);e[20]=t;const i=e[9](e[1]);e[21]=i;const s=e[10](e[1],e[4]);e[22]=s;const r=e[22]?e[11](e[1],e[4]):null;e[23]=r;const l=parseFloat(e[20].width);return e[24]=l,e}function pn(n,e,t){const i=n.slice();i[29]=e[t];const s=i[8](i[29]);i[20]=s;const r=i[9](i[29]);i[21]=r;const l=i[10](i[29],i[0]);i[22]=l;const o=i[22]?i[11](i[29],i[0]):null;i[23]=o;const a=parseFloat(i[20].width);i[24]=a;const u=!i[21]&&i[24]<.5?"2px":i[20].width;return i[30]=u,i}function xi(n){const e=n.slice(),t=e[23].getTime()-e[29].start.getTime();e[25]=t;const i=e[29].finish.getTime()-e[29].start.getTime();e[5]=i;const s=e[25]/e[5]*e[24];e[26]=s;const r=e[24]-e[26];e[27]=r;const l=parseFloat(e[20].left)+e[26];return e[28]=l,e}function kn(n,e,t){const i=n.slice();return i[33]=e[t],i}function wn(n){let e;return{c(){e=k("div"),this.h()},l(t){e=w(t,"DIV",{class:!0,style:!0,title:!0}),S(e).forEach(m),this.h()},h(){f(e,"class","future-overlay svelte-1k1xkrk"),U(e,"left",n[6].left),U(e,"width",n[6].width),f(e,"title","Future time")},m(t,i){H(t,e,i)},p(t,i){i[0]&64&&U(e,"left",t[6].left),i[0]&64&&U(e,"width",t[6].width)},d(t){t&&m(e)}}}function bn(n){let e,t,i=n[33].label+"",s,r;return{c(){e=k("div"),t=k("div"),s=x(i),r=R(),this.h()},l(l){e=w(l,"DIV",{class:!0,style:!0});var o=S(e);t=w(o,"DIV",{class:!0});var a=S(t);s=ee(a,i),a.forEach(m),r=L(o),o.forEach(m),this.h()},h(){f(t,"class","grid-label svelte-1k1xkrk"),f(e,"class","grid-line svelte-1k1xkrk"),U(e,"left",n[33].position+"%")},m(l,o){H(l,e,o),h(e,t),h(t,s),h(e,r)},p(l,o){o[0]&128&&i!==(i=l[33].label+"")&&oe(s,i),o[0]&128&&U(e,"left",l[33].position+"%")},d(l){l&&m(e)}}}function es(n){let e,t,i,s,r;function l(){return n[16](n[29])}return{c(){e=k("div"),this.h()},l(o){e=w(o,"DIV",{class:!0,style:!0,title:!0}),S(e).forEach(m),this.h()},h(){f(e,"class",t="timer-block "+(n[21]?n[22]?"overtime":"work":"rest")+" svelte-1k1xkrk"),U(e,"left",n[20].left),U(e,"width",n[30]),U(e,"min-width",n[21]?"0":"2px"),U(e,"cursor","pointer"),f(e,"title",i=ne(n[29].start)+" - "+ne(n[29].finish)+" ("+wt(n[29])+")"+(n[22]?" ‚ö†Ô∏è Overtime":""))},m(o,a){H(o,e,a),s||(r=G(e,"click",l),s=!0)},p(o,a){n=o,a[0]&1&&t!==(t="timer-block "+(n[21]?n[22]?"overtime":"work":"rest")+" svelte-1k1xkrk")&&f(e,"class",t),a[0]&1&&U(e,"left",n[20].left),a[0]&1&&U(e,"width",n[30]),a[0]&1&&U(e,"min-width",n[21]?"0":"2px"),a[0]&1&&i!==(i=ne(n[29].start)+" - "+ne(n[29].finish)+" ("+wt(n[29])+")"+(n[22]?" ‚ö†Ô∏è Overtime":""))&&f(e,"title",i)},d(o){o&&m(e),s=!1,r()}}}function Tn(n){let e,t,i,s,r,l,o;function a(){return n[14](n[29])}function u(){return n[15](n[29])}return{c(){e=k("div"),i=R(),s=k("div"),this.h()},l(c){e=w(c,"DIV",{class:!0,style:!0,title:!0}),S(e).forEach(m),i=L(c),s=w(c,"DIV",{class:!0,style:!0,title:!0}),S(s).forEach(m),this.h()},h(){f(e,"class","timer-block work svelte-1k1xkrk"),U(e,"left",n[20].left),U(e,"width",n[26]+"%"),U(e,"cursor","pointer"),f(e,"title",t=ne(n[29].start)+" - "+ne(n[23])+" (Normal)"),f(s,"class","timer-block overtime svelte-1k1xkrk"),U(s,"left",n[28]+"%"),U(s,"width",n[27]+"%"),U(s,"cursor","pointer"),f(s,"title",r=ne(n[23])+" - "+ne(n[29].finish)+" ‚ö†Ô∏è Overtime")},m(c,d){H(c,e,d),H(c,i,d),H(c,s,d),l||(o=[G(e,"click",a),G(s,"click",u)],l=!0)},p(c,d){n=c,d[0]&1&&U(e,"left",n[20].left),d[0]&1&&U(e,"width",n[26]+"%"),d[0]&1&&t!==(t=ne(n[29].start)+" - "+ne(n[23])+" (Normal)")&&f(e,"title",t),d[0]&1&&U(s,"left",n[28]+"%"),d[0]&1&&U(s,"width",n[27]+"%"),d[0]&1&&r!==(r=ne(n[23])+" - "+ne(n[29].finish)+" ‚ö†Ô∏è Overtime")&&f(s,"title",r)},d(c){c&&(m(e),m(i),m(s)),l=!1,Re(o)}}}function Dn(n,e){let t,i,s;function r(u,c){return c[0]&1&&(i=null),i==null&&(i=!!(u[21]&&u[23]&&u[23].getTime()>u[29].start.getTime()&&u[23].getTime()<u[29].finish.getTime())),i?Tn:es}function l(u,c){return c===Tn?xi(u):u}let o=r(e,[-1,-1]),a=o(l(e,o));return{key:n,first:null,c(){t=ke(),a.c(),s=ke(),this.h()},l(u){t=ke(),a.l(u),s=ke(),this.h()},h(){this.first=t},m(u,c){H(u,t,c),a.m(u,c),H(u,s,c)},p(u,c){e=u,o===(o=r(e,c))&&a?a.p(l(e,o),c):(a.d(1),a=o(l(e,o)),a&&(a.c(),a.m(s.parentNode,s)))},d(u){u&&(m(t),m(s)),a.d(u)}}}function En(n){let e,t;function i(o,a){return a[0]&18&&(e=null),e==null&&(e=!!(o[21]&&o[23]&&o[23].getTime()>o[1].start.getTime()&&o[23].getTime()<o[1].finish.getTime())),e?Sn:ts}function s(o,a){return a===Sn?Qi(o):o}let r=i(n,[-1,-1]),l=r(s(n,r));return{c(){l.c(),t=ke()},l(o){l.l(o),t=ke()},m(o,a){l.m(o,a),H(o,t,a)},p(o,a){r===(r=i(o,a))&&l?l.p(s(o,r),a):(l.d(1),l=r(s(o,r)),l&&(l.c(),l.m(t.parentNode,t)))},d(o){o&&m(t),l.d(o)}}}function ts(n){let e,t,i;return{c(){e=k("div"),this.h()},l(s){e=w(s,"DIV",{class:!0,style:!0,title:!0}),S(e).forEach(m),this.h()},h(){f(e,"class",t="timer-block active "+(n[21]?n[22]?"overtime":"work":"rest")+" svelte-1k1xkrk"),U(e,"left",n[20].left),U(e,"width",n[20].width),f(e,"title",i="Active: "+ne(n[1].start)+" - now ("+wt(n[1])+")"+(n[22]?" ‚ö†Ô∏è Overtime":""))},m(s,r){H(s,e,r)},p(s,r){r[0]&18&&t!==(t="timer-block active "+(s[21]?s[22]?"overtime":"work":"rest")+" svelte-1k1xkrk")&&f(e,"class",t),r[0]&2&&U(e,"left",s[20].left),r[0]&2&&U(e,"width",s[20].width),r[0]&18&&i!==(i="Active: "+ne(s[1].start)+" - now ("+wt(s[1])+")"+(s[22]?" ‚ö†Ô∏è Overtime":""))&&f(e,"title",i)},d(s){s&&m(e)}}}function Sn(n){let e,t,i,s,r;return{c(){e=k("div"),i=R(),s=k("div"),this.h()},l(l){e=w(l,"DIV",{class:!0,style:!0,title:!0}),S(e).forEach(m),i=L(l),s=w(l,"DIV",{class:!0,style:!0,title:!0}),S(s).forEach(m),this.h()},h(){f(e,"class","timer-block active work svelte-1k1xkrk"),U(e,"left",n[20].left),U(e,"width",n[26]+"%"),f(e,"title",t="Active: "+ne(n[1].start)+" - "+ne(n[23])+" (Normal)"),f(s,"class","timer-block active overtime svelte-1k1xkrk"),U(s,"left",n[28]+"%"),U(s,"width",n[27]+"%"),f(s,"title",r="Active: "+ne(n[23])+" - now ‚ö†Ô∏è Overtime")},m(l,o){H(l,e,o),H(l,i,o),H(l,s,o)},p(l,o){o[0]&2&&U(e,"left",l[20].left),o[0]&18&&U(e,"width",l[26]+"%"),o[0]&18&&t!==(t="Active: "+ne(l[1].start)+" - "+ne(l[23])+" (Normal)")&&f(e,"title",t),o[0]&18&&U(s,"left",l[28]+"%"),o[0]&18&&U(s,"width",l[27]+"%"),o[0]&18&&r!==(r="Active: "+ne(l[23])+" - now ‚ö†Ô∏è Overtime")&&f(s,"title",r)},d(l){l&&(m(e),m(i),m(s))}}}function ns(n){let e,t,i='<span class="timeline-title svelte-1k1xkrk">Timeline</span> <div class="legend svelte-1k1xkrk"><span class="legend-item svelte-1k1xkrk"><span class="legend-color work svelte-1k1xkrk"></span> <span>Work</span></span> <span class="legend-item svelte-1k1xkrk" title="Overtime: 2+ min after alarm, or 25+ min for consecutive work"><span class="legend-color overtime svelte-1k1xkrk"></span> <span>Overtime</span></span> <span class="legend-item svelte-1k1xkrk"><span class="legend-color rest svelte-1k1xkrk"></span> <span>Rest</span></span></div>',s,r,l,o=ne(new Date(n[2]))+"",a,u,c,d=ne(new Date(n[3]))+"",v,_,g,b,I=[],P=new Map,N,T=n[6].visible&&wn(n),O=Ve(n[7]),M=[];for(let E=0;E<O.length;E+=1)M[E]=bn(kn(n,O,E));let z=Ve(n[0]);const y=E=>E[29].start;for(let E=0;E<z.length;E+=1){let V=pn(n,z,E),C=y(V);P.set(C,I[E]=Dn(C,V))}let j=n[1]&&En(Pt(n));return{c(){e=k("div"),t=k("div"),t.innerHTML=i,s=R(),r=k("div"),l=k("div"),a=x(o),u=R(),c=k("div"),v=x(d),_=R(),T&&T.c(),g=R();for(let E=0;E<M.length;E+=1)M[E].c();b=R();for(let E=0;E<I.length;E+=1)I[E].c();N=R(),j&&j.c(),this.h()},l(E){e=w(E,"DIV",{class:!0});var V=S(e);t=w(V,"DIV",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-1sof6z9"&&(t.innerHTML=i),s=L(V),r=w(V,"DIV",{class:!0});var C=S(r);l=w(C,"DIV",{class:!0});var F=S(l);a=ee(F,o),F.forEach(m),u=L(C),c=w(C,"DIV",{class:!0});var A=S(c);v=ee(A,d),A.forEach(m),_=L(C),T&&T.l(C),g=L(C);for(let p=0;p<M.length;p+=1)M[p].l(C);b=L(C);for(let p=0;p<I.length;p+=1)I[p].l(C);N=L(C),j&&j.l(C),C.forEach(m),V.forEach(m),this.h()},h(){f(t,"class","timeline-header svelte-1k1xkrk"),f(l,"class","time-label start svelte-1k1xkrk"),f(c,"class","time-label end svelte-1k1xkrk"),f(r,"class","timeline-bar svelte-1k1xkrk"),f(e,"class","timeline-container svelte-1k1xkrk")},m(E,V){H(E,e,V),h(e,t),h(e,s),h(e,r),h(r,l),h(l,a),h(r,u),h(r,c),h(c,v),h(r,_),T&&T.m(r,null),h(r,g);for(let C=0;C<M.length;C+=1)M[C]&&M[C].m(r,null);h(r,b);for(let C=0;C<I.length;C+=1)I[C]&&I[C].m(r,null);h(r,N),j&&j.m(r,null)},p(E,V){if(V[0]&4&&o!==(o=ne(new Date(E[2]))+"")&&oe(a,o),V[0]&8&&d!==(d=ne(new Date(E[3]))+"")&&oe(v,d),E[6].visible?T?T.p(E,V):(T=wn(E),T.c(),T.m(r,g)):T&&(T.d(1),T=null),V[0]&128){O=Ve(E[7]);let C;for(C=0;C<O.length;C+=1){const F=kn(E,O,C);M[C]?M[C].p(F,V):(M[C]=bn(F),M[C].c(),M[C].m(r,b))}for(;C<M.length;C+=1)M[C].d(1);M.length=O.length}V[0]&3841&&(z=Ve(E[0]),I=Wn(I,V,y,1,E,z,P,r,ti,Dn,N,pn)),E[1]?j?j.p(Pt(E),V):(j=En(Pt(E)),j.c(),j.m(r,null)):j&&(j.d(1),j=null)},i:le,o:le,d(E){E&&m(e),T&&T.d(),_t(M,E);for(let V=0;V<I.length;V+=1)I[V].d();j&&j.d()}}}function ne(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function wt(n){return`${Math.round(n.durationS()/60)} min`}function is(n,e,t){let i,s,r,l,o,a,{timers:u=[]}=e,{activeTimer:c=null}=e;const d=40*60*1e3;let v=0,_=0;function g(y){if(s===0)return{left:"0%",width:"0%"};const j=y.start.getTime()-r,E=y.finish.getTime()-y.start.getTime(),V=j/s*100,C=E/s*100;return{left:`${V}%`,width:`${C}%`}}function b(y){return y.name===Ae.WORK}function I(y,j){const E=j.findIndex(A=>A.start.getTime()===y.start.getTime());if(E<=0)return!0;const V=j[E-1];return b(V)?(y.start.getTime()-V.finish.getTime())/(1e3*60)>=5:V.durationS()/60>=5}function P(y,j){if(!b(y))return[];const E=[y],V=j.findIndex(C=>C.start.getTime()===y.start.getTime());for(let C=V-1;C>=0;C--){const F=j[C],A=E[0],q=(A.start.getTime()-F.finish.getTime())/(1e3*60);if(b(F)&&q<5)E.unshift(F);else{if(!b(F)&&F.durationS()/60<5)continue;if(!b(F)&&I(A,j))break}}return E}function N(y,j){if(!b(y)||!y.value||y.value===0)return!1;const E=2,V=25,C=P(y,j);if(C.length===1){const F=y.durationS()/60,A=y.value;return F>A+E}else{const F=C.reduce((p,q)=>p+(q.value||0),0);return C.reduce((p,q)=>p+q.durationS()/60,0)>F+V}}function T(y,j){if(!N(y,j)||!y.value)return null;const E=2,V=25,C=P(y,j);if(C.length===1){const F=y.start.getTime()+(y.value+E)*60*1e3;return new Date(F)}else{const A=C.reduce((q,Q)=>q+(Q.value||0),0)+V;let p=0;for(const q of C){const Q=q.durationS()/60,Y=p+Q;if(Y>A){const he=A-p,Z=q.start.getTime()+he*60*1e3;return new Date(Z)}p=Y}}return null}const O=y=>vt(y),M=y=>vt(y),z=y=>vt(y);return n.$$set=y=>{"timers"in y&&t(0,u=y.timers),"activeTimer"in y&&t(1,c=y.activeTimer)},n.$$.update=()=>{n.$$.dirty[0]&3&&t(4,i=c?[...u,c]:u),n.$$.dirty[0]&16&&t(2,r=i.length===0?Date.now():Math.min(...i.map(y=>y.start.getTime()))),n.$$.dirty[0]&12310&&t(3,l=(()=>{if(i.length===0)return Date.now()+d;const j=Math.max(...i.map(V=>V.finish.getTime()));let E=Math.max(j,r+d);if(E+=v*36e5,c&&E!==_){const V=c.finish.getTime(),C=E-V,F=10*60*1e3;C<F&&(t(12,v++,v),E+=36e5,t(13,_=E),console.log("Extended timeline, total extensions:",v,"new end:",new Date(E)))}return E})()),n.$$.dirty[0]&12&&t(5,s=l-r),n.$$.dirty[0]&44&&t(7,o=(()=>{if(s===0)return[];const y=[],j=new Date(r),E=new Date(l),V=new Date(j);for(V.setMinutes(0,0,0),V.setHours(V.getHours()+1);V.getTime()<=E.getTime();){const F=(V.getTime()-r)/s*100;if(F>=0&&F<=100){const A=F<5||F>95;y.push({position:F,label:A?"":V.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})})}V.setHours(V.getHours()+1)}return y})()),n.$$.dirty[0]&44&&t(6,a=(()=>{const y=Date.now();if(l>y){const j=Math.max(r,y),E=j-r,V=l-j,C=E/s*100,F=V/s*100;return{left:`${C}%`,width:`${F}%`,visible:F>0}}return{left:"0%",width:"0%",visible:!1}})())},[u,c,r,l,i,s,a,o,g,b,N,T,v,_,O,M,z]}class ss extends Te{constructor(e){super(),De(this,e,is,ns,be,{timers:0,activeTimer:1},null,[-1,-1])}}function $t(n){const e=n.slice(),t=e[10](e[0],e[7].finish);return e[37]=t,e}function Rt(n){const e=n.slice(),t=e[10](e[1],e[0]);return e[37]=t,e}function Lt(n){const e=n.slice(),t=e[10](e[8].start,e[1]);return e[37]=t,e}function In(n,e,t){const i=n.slice();return i[38]=e[t],i}function yn(n){let e,t,i,s,r="Edit Timer",l,o,a="√ó",u,c,d,v,_,g="Type:",b,I,P=n[4].name+"",N,T,O,M,z="Duration:",y,j,E,V,C,F,A,p,q,Q=we(n[2])+"",Y,he,Z,Le=we(n[3])+"",ie,$,B,D,K,ae,re,Oe="üí° Drag the edges to adjust timer boundaries",Me,X,Se,Fe="Delete",st,He,It,ze,Jt="Cancel",yt,Ge,Yt="Save",Ct,Zt,me=n[6].length>0&&Cn(n),ve=n[8]&&Mn(Lt(n)),_e=n[4]&&jn(Rt(n)),ge=n[7]&&Nn($t(n));return{c(){e=k("div"),t=k("div"),i=k("div"),s=k("h2"),s.textContent=r,l=R(),o=k("button"),o.textContent=a,u=R(),c=k("div"),d=k("div"),v=k("div"),_=k("span"),_.textContent=g,b=R(),I=k("span"),N=x(P),T=R(),O=k("div"),M=k("span"),M.textContent=z,y=R(),j=k("span"),E=x(n[9]),V=x(" min"),C=R(),me&&me.c(),F=R(),A=k("div"),p=k("div"),q=k("span"),Y=x(Q),he=R(),Z=k("span"),ie=x(Le),$=R(),B=k("div"),ve&&ve.c(),D=R(),_e&&_e.c(),K=R(),ge&&ge.c(),ae=R(),re=k("div"),re.textContent=Oe,Me=R(),X=k("div"),Se=k("button"),Se.textContent=Fe,st=R(),He=k("div"),It=R(),ze=k("button"),ze.textContent=Jt,yt=R(),Ge=k("button"),Ge.textContent=Yt,this.h()},l(se){e=w(se,"DIV",{class:!0});var ye=S(e);t=w(ye,"DIV",{class:!0});var Ze=S(t);i=w(Ze,"DIV",{class:!0});var rt=S(i);s=w(rt,"H2",{class:!0,"data-svelte-h":!0}),te(s)!=="svelte-1ut3txv"&&(s.textContent=r),l=L(rt),o=w(rt,"BUTTON",{class:!0,"data-svelte-h":!0}),te(o)!=="svelte-y9ayml"&&(o.textContent=a),rt.forEach(m),u=L(Ze),c=w(Ze,"DIV",{class:!0});var Qe=S(c);d=w(Qe,"DIV",{class:!0});var ot=S(d);v=w(ot,"DIV",{class:!0});var at=S(v);_=w(at,"SPAN",{class:!0,"data-svelte-h":!0}),te(_)!=="svelte-owo3qx"&&(_.textContent=g),b=L(at),I=w(at,"SPAN",{class:!0});var Qt=S(I);N=ee(Qt,P),Qt.forEach(m),at.forEach(m),T=L(ot),O=w(ot,"DIV",{class:!0});var ct=S(O);M=w(ct,"SPAN",{class:!0,"data-svelte-h":!0}),te(M)!=="svelte-2ef875"&&(M.textContent=z),y=L(ct),j=w(ct,"SPAN",{class:!0});var Ot=S(j);E=ee(Ot,n[9]),V=ee(Ot," min"),Ot.forEach(m),ct.forEach(m),ot.forEach(m),C=L(Qe),me&&me.l(Qe),F=L(Qe),A=w(Qe,"DIV",{class:!0});var xe=S(A);p=w(xe,"DIV",{class:!0});var ut=S(p);q=w(ut,"SPAN",{});var xt=S(q);Y=ee(xt,Q),xt.forEach(m),he=L(ut),Z=w(ut,"SPAN",{});var en=S(Z);ie=ee(en,Le),en.forEach(m),ut.forEach(m),$=L(xe),B=w(xe,"DIV",{class:!0});var et=S(B);ve&&ve.l(et),D=L(et),_e&&_e.l(et),K=L(et),ge&&ge.l(et),et.forEach(m),ae=L(xe),re=w(xe,"DIV",{class:!0,"data-svelte-h":!0}),te(re)!=="svelte-173xjy6"&&(re.textContent=Oe),xe.forEach(m),Qe.forEach(m),Me=L(Ze),X=w(Ze,"DIV",{class:!0});var We=S(X);Se=w(We,"BUTTON",{class:!0,"data-svelte-h":!0}),te(Se)!=="svelte-6r50uh"&&(Se.textContent=Fe),st=L(We),He=w(We,"DIV",{class:!0}),S(He).forEach(m),It=L(We),ze=w(We,"BUTTON",{class:!0,"data-svelte-h":!0}),te(ze)!=="svelte-1ph2inm"&&(ze.textContent=Jt),yt=L(We),Ge=w(We,"BUTTON",{class:!0,"data-svelte-h":!0}),te(Ge)!=="svelte-9t0vpj"&&(Ge.textContent=Yt),We.forEach(m),Ze.forEach(m),ye.forEach(m),this.h()},h(){f(s,"class","svelte-khj96w"),f(o,"class","close-btn svelte-khj96w"),f(i,"class","modal-header svelte-khj96w"),f(_,"class","label svelte-khj96w"),f(I,"class","value svelte-khj96w"),f(v,"class","info svelte-khj96w"),f(M,"class","label svelte-khj96w"),f(j,"class","value svelte-khj96w"),f(O,"class","info svelte-khj96w"),f(d,"class","info-row svelte-khj96w"),f(p,"class","timeline-labels svelte-khj96w"),f(B,"class","timeline-track svelte-khj96w"),f(re,"class","timeline-hint svelte-khj96w"),f(A,"class","timeline-editor svelte-khj96w"),f(c,"class","modal-body svelte-khj96w"),f(Se,"class","btn btn-delete svelte-khj96w"),f(He,"class","spacer svelte-khj96w"),f(ze,"class","btn btn-cancel svelte-khj96w"),f(Ge,"class","btn btn-save svelte-khj96w"),f(X,"class","modal-footer svelte-khj96w"),f(t,"class","modal svelte-khj96w"),f(e,"class","modal-backdrop svelte-khj96w")},m(se,ye){H(se,e,ye),h(e,t),h(t,i),h(i,s),h(i,l),h(i,o),h(t,u),h(t,c),h(c,d),h(d,v),h(v,_),h(v,b),h(v,I),h(I,N),h(d,T),h(d,O),h(O,M),h(O,y),h(O,j),h(j,E),h(j,V),h(c,C),me&&me.m(c,null),h(c,F),h(c,A),h(A,p),h(p,q),h(q,Y),h(p,he),h(p,Z),h(Z,ie),h(A,$),h(A,B),ve&&ve.m(B,null),h(B,D),_e&&_e.m(B,null),h(B,K),ge&&ge.m(B,null),h(A,ae),h(A,re),n[30](A),h(t,Me),h(t,X),h(X,Se),h(X,st),h(X,He),h(X,It),h(X,ze),h(X,yt),h(X,Ge),Ct||(Zt=[G(o,"click",n[16]),G(i,"click",nn(n[27])),G(c,"click",nn(n[26])),G(Se,"click",n[17]),G(ze,"click",n[16]),G(Ge,"click",n[15]),G(e,"click",n[16])],Ct=!0)},p(se,ye){ye[0]&16&&P!==(P=se[4].name+"")&&oe(N,P),ye[0]&512&&oe(E,se[9]),se[6].length>0?me?me.p(se,ye):(me=Cn(se),me.c(),me.m(c,F)):me&&(me.d(1),me=null),ye[0]&4&&Q!==(Q=we(se[2])+"")&&oe(Y,Q),ye[0]&8&&Le!==(Le=we(se[3])+"")&&oe(ie,Le),se[8]?ve?ve.p(Lt(se),ye):(ve=Mn(Lt(se)),ve.c(),ve.m(B,D)):ve&&(ve.d(1),ve=null),se[4]?_e?_e.p(Rt(se),ye):(_e=jn(Rt(se)),_e.c(),_e.m(B,K)):_e&&(_e.d(1),_e=null),se[7]?ge?ge.p($t(se),ye):(ge=Nn($t(se)),ge.c(),ge.m(B,null)):ge&&(ge.d(1),ge=null)},d(se){se&&m(e),me&&me.d(),ve&&ve.d(),_e&&_e.d(),ge&&ge.d(),n[30](null),Ct=!1,Re(Zt)}}}function Cn(n){let e,t=Ve(n[6]),i=[];for(let s=0;s<t.length;s+=1)i[s]=On(In(n,t,s));return{c(){e=k("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var r=S(e);for(let l=0;l<i.length;l+=1)i[l].l(r);r.forEach(m),this.h()},h(){f(e,"class","warnings svelte-khj96w")},m(s,r){H(s,e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(s,r){if(r[0]&64){t=Ve(s[6]);let l;for(l=0;l<t.length;l+=1){const o=In(s,t,l);i[l]?i[l].p(o,r):(i[l]=On(o),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&m(e),_t(i,s)}}}function On(n){let e,t,i=n[38]+"",s;return{c(){e=k("div"),t=x("‚ö†Ô∏è "),s=x(i),this.h()},l(r){e=w(r,"DIV",{class:!0});var l=S(e);t=ee(l,"‚ö†Ô∏è "),s=ee(l,i),l.forEach(m),this.h()},h(){f(e,"class","warning-item svelte-khj96w")},m(r,l){H(r,e,l),h(e,t),h(e,s)},p(r,l){l[0]&64&&i!==(i=r[38]+"")&&oe(s,i)},d(r){r&&m(e)}}}function Mn(n){let e,t,i=n[8].name+"",s,r,l;return{c(){e=k("div"),t=k("span"),s=x(i),this.h()},l(o){e=w(o,"DIV",{class:!0,style:!0,title:!0});var a=S(e);t=w(a,"SPAN",{class:!0});var u=S(t);s=ee(u,i),u.forEach(m),a.forEach(m),this.h()},h(){f(t,"class","timer-label svelte-khj96w"),f(e,"class",r="timer-block prev "+(n[14](n[8])?"work":"rest")+" svelte-khj96w"),U(e,"left",n[37].left),U(e,"width",n[37].width),f(e,"title",l=n[8].name+": "+we(n[8].start)+" - "+we(n[1]))},m(o,a){H(o,e,a),h(e,t),h(t,s)},p(o,a){a[0]&256&&i!==(i=o[8].name+"")&&oe(s,i),a[0]&256&&r!==(r="timer-block prev "+(o[14](o[8])?"work":"rest")+" svelte-khj96w")&&f(e,"class",r),a[0]&258&&U(e,"left",o[37].left),a[0]&258&&U(e,"width",o[37].width),a[0]&258&&l!==(l=o[8].name+": "+we(o[8].start)+" - "+we(o[1]))&&f(e,"title",l)},d(o){o&&m(e)}}}function jn(n){let e,t,i,s,r,l=n[4].name+"",o,a,u,c=we(n[1])+"",d,v,_=we(n[0])+"",g,b,I,P,N,T;return{c(){e=k("div"),t=k("div"),i=R(),s=k("div"),r=k("div"),o=x(l),a=R(),u=k("div"),d=x(c),v=x(" - "),g=x(_),b=R(),I=k("div"),this.h()},l(O){e=w(O,"DIV",{class:!0,style:!0});var M=S(e);t=w(M,"DIV",{class:!0,title:!0}),S(t).forEach(m),i=L(M),s=w(M,"DIV",{class:!0});var z=S(s);r=w(z,"DIV",{class:!0});var y=S(r);o=ee(y,l),y.forEach(m),a=L(z),u=w(z,"DIV",{class:!0});var j=S(u);d=ee(j,c),v=ee(j," - "),g=ee(j,_),j.forEach(m),z.forEach(m),b=L(M),I=w(M,"DIV",{class:!0,title:!0}),S(I).forEach(m),M.forEach(m),this.h()},h(){f(t,"class","drag-handle left svelte-khj96w"),f(t,"title","Drag to adjust start time"),f(r,"class","timer-label svelte-khj96w"),f(u,"class","timer-times svelte-khj96w"),f(s,"class","timer-content svelte-khj96w"),f(I,"class","drag-handle right svelte-khj96w"),f(I,"title","Drag to adjust end time"),f(e,"class",P="timer-block current "+(n[14](n[4])?"work":"rest")+" svelte-khj96w"),U(e,"left",n[37].left),U(e,"width",n[37].width)},m(O,M){H(O,e,M),h(e,t),h(e,i),h(e,s),h(s,r),h(r,o),h(s,a),h(s,u),h(u,d),h(u,v),h(u,g),h(e,b),h(e,I),N||(T=[G(t,"mousedown",n[28]),G(I,"mousedown",n[29])],N=!0)},p(O,M){M[0]&16&&l!==(l=O[4].name+"")&&oe(o,l),M[0]&2&&c!==(c=we(O[1])+"")&&oe(d,c),M[0]&1&&_!==(_=we(O[0])+"")&&oe(g,_),M[0]&16&&P!==(P="timer-block current "+(O[14](O[4])?"work":"rest")+" svelte-khj96w")&&f(e,"class",P),M[0]&3&&U(e,"left",O[37].left),M[0]&3&&U(e,"width",O[37].width)},d(O){O&&m(e),N=!1,Re(T)}}}function Nn(n){let e,t,i=n[7].name+"",s,r,l;return{c(){e=k("div"),t=k("span"),s=x(i),this.h()},l(o){e=w(o,"DIV",{class:!0,style:!0,title:!0});var a=S(e);t=w(a,"SPAN",{class:!0});var u=S(t);s=ee(u,i),u.forEach(m),a.forEach(m),this.h()},h(){f(t,"class","timer-label svelte-khj96w"),f(e,"class",r="timer-block next "+(n[14](n[7])?"work":"rest")+" svelte-khj96w"),U(e,"left",n[37].left),U(e,"width",n[37].width),f(e,"title",l=n[7].name+": "+we(n[0])+" - "+we(n[7].finish))},m(o,a){H(o,e,a),h(e,t),h(t,s)},p(o,a){a[0]&128&&i!==(i=o[7].name+"")&&oe(s,i),a[0]&128&&r!==(r="timer-block next "+(o[14](o[7])?"work":"rest")+" svelte-khj96w")&&f(e,"class",r),a[0]&129&&U(e,"left",o[37].left),a[0]&129&&U(e,"width",o[37].width),a[0]&129&&l!==(l=o[7].name+": "+we(o[0])+" - "+we(o[7].finish))&&f(e,"title",l)},d(o){o&&m(e)}}}function ls(n){let e,t,i,s=n[4]&&yn(n);return{c(){s&&s.c(),e=ke()},l(r){s&&s.l(r),e=ke()},m(r,l){s&&s.m(r,l),H(r,e,l),t||(i=[G(window,"keydown",n[18]),G(window,"mousemove",n[12]),G(window,"mouseup",n[13])],t=!0)},p(r,l){r[4]?s?s.p(r,l):(s=yn(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:le,o:le,d(r){r&&m(e),s&&s.d(r),t=!1,Re(i)}}}function we(n){return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}function rs(n,e,t){let i,s,r,l,o,a,u,c,d,v,_,g;Ce(n,Xt,D=>t(4,_=D)),Ce(n,Ie,D=>t(25,g=D));let b=0,I=0,P,N,T=null,O=!1,M=null,z=0,y=400,j;function E(){const D=[];if(s&&(u.getTime()-s.start.getTime())/(1e3*60)<.5&&D.push(`Previous ${s.name} will be removed (< 30 sec)`),r){const K=c;(r.finish.getTime()-K.getTime())/(1e3*60)<.5&&D.push(`Next ${r.name} will be removed (< 30 sec)`)}return D}function V(D,K){const ae=D.getTime()-l.getTime(),re=K.getTime()-D.getTime(),Oe=ae/a*100,Me=re/a*100;return{left:`${Oe}%`,width:`${Me}%`}}function C(D,K){O=!0,M=D,z=K.clientX,j&&(y=j.offsetWidth),K.preventDefault()}function F(D){if(!O||!M)return;const ae=(D.clientX-z)/y*a,re=Math.round(ae/(60*1e3));M==="start"?t(19,b=re):t(20,I=re)}function A(){O=!1,M=null}function p(D){return D.name===Ae.WORK}function q(){if(_){if(u>=c){alert("Start time must be before finish time");return}v.length>0&&!confirm(`Warning:
${v.join(`
`)}

Continue with save?`)||(Ie.update(D=>{const K=D.timerHistory.list.findIndex(X=>X.start.getTime()===_.start.getTime());if(K===-1)return D;const ae=D.timerHistory.list[K],re=[];if(K>0){const X=D.timerHistory.list[K-1],Se=ae.start.getTime();if(u.getTime()!==Se){const Fe=new Date(u);if((Fe.getTime()-X.start.getTime())/1e3<30)re.push(K-1);else{const He=new Pe(X.value,X.name,X.start,Fe);D.timerHistory.list[K-1]=He}}}if(K<D.timerHistory.list.length-1){const X=D.timerHistory.list[K+1],Se=ae.finish.getTime();if(c.getTime()!==Se){const Fe=new Date(c);if((X.finish.getTime()-Fe.getTime())/1e3<30)re.push(K+1);else{const He=new Pe(X.value,X.name,Fe,X.finish);D.timerHistory.list[K+1]=He}}}re.sort((X,Se)=>Se-X).forEach(X=>{D.timerHistory.list.splice(X,1)});const Oe=K-re.filter(X=>X<K).length,Me=new Pe(ae.value,ae.name,u,c);return D.timerHistory.list[Oe]=Me,D}),mt())}}function Q(){mt()}function Y(){_&&confirm("Delete this timer?")&&(Ie.update(D=>D.remove(_.start)),mt())}function he(D){D.key==="Escape"&&mt()}function Z(D){sn.call(this,n,D)}function Le(D){sn.call(this,n,D)}const ie=D=>C("start",D),$=D=>C("end",D);function B(D){Ke[D?"unshift":"push"](()=>{j=D,t(5,j)})}return n.$$.update=()=>{n.$$.dirty[0]&33554448&&t(24,i=_?g.timerHistory.list.findIndex(D=>D.start.getTime()===_.start.getTime()):-1),n.$$.dirty[0]&50331648&&t(8,s=i>0?g.timerHistory.list[i-1]:null),n.$$.dirty[0]&50331648&&t(7,r=i>=0&&i<g.timerHistory.list.length-1?g.timerHistory.list[i+1]:null),n.$$.dirty[0]&8388624&&_&&_.start.getTime()!==T&&(t(23,T=_.start.getTime()),t(21,P=_.start instanceof Date?_.start:new Date(_.start)),t(22,N=_.finish instanceof Date?_.finish:new Date(_.finish)),t(19,b=0),t(20,I=0)),n.$$.dirty[0]&2097152&&t(2,l=P?new Date(P.getTime()-30*60*1e3):new Date),n.$$.dirty[0]&4194304&&t(3,o=N?new Date(N.getTime()+30*60*1e3):new Date),n.$$.dirty[0]&12&&(a=o.getTime()-l.getTime()),n.$$.dirty[0]&16&&(_||t(23,T=null)),n.$$.dirty[0]&2621440&&t(1,u=P?new Date(P.getTime()+b*60*1e3):new Date),n.$$.dirty[0]&5242880&&t(0,c=N?new Date(N.getTime()+I*60*1e3):new Date),n.$$.dirty[0]&19&&t(9,d=_?Math.round((c.getTime()-u.getTime())/(1e3*60)):0)},t(6,v=E()),[c,u,l,o,_,j,v,r,s,d,V,C,F,A,p,q,Q,Y,he,b,I,P,N,T,i,g,Z,Le,ie,$,B]}class os extends Te{constructor(e){super(),De(this,e,rs,ls,be,{},null,[-1,-1])}}function as(n){let e,t,i,s,r,l,o,a,u,c;return{c(){e=k("div"),t=k("button"),i=x(n[1]),r=R(),l=k("button"),o=x(n[2]),this.h()},l(d){e=w(d,"DIV",{class:!0});var v=S(e);t=w(v,"BUTTON",{class:!0});var _=S(t);i=ee(_,n[1]),_.forEach(m),r=L(v),l=w(v,"BUTTON",{class:!0});var g=S(l);o=ee(g,n[2]),g.forEach(m),v.forEach(m),this.h()},h(){f(t,"class",s="tab "+(n[0]?"":"active")+" svelte-1hgfxul"),f(l,"class",a="tab "+(n[0]?"active":"")+" svelte-1hgfxul"),f(e,"class","tabs-container svelte-1hgfxul")},m(d,v){H(d,e,v),h(e,t),h(t,i),h(e,r),h(e,l),h(l,o),u||(c=[G(t,"click",n[3]),G(l,"click",n[4])],u=!0)},p(d,[v]){v&2&&oe(i,d[1]),v&1&&s!==(s="tab "+(d[0]?"":"active")+" svelte-1hgfxul")&&f(t,"class",s),v&4&&oe(o,d[2]),v&1&&a!==(a="tab "+(d[0]?"active":"")+" svelte-1hgfxul")&&f(l,"class",a)},i:le,o:le,d(d){d&&m(e),u=!1,Re(c)}}}function cs(n,e,t){let{checked:i=!1}=e,{leftLabel:s=""}=e,{rightLabel:r=""}=e;const l=()=>t(0,i=!1),o=()=>t(0,i=!0);return n.$$set=a=>{"checked"in a&&t(0,i=a.checked),"leftLabel"in a&&t(1,s=a.leftLabel),"rightLabel"in a&&t(2,r=a.rightLabel)},[i,s,r,l,o]}class us extends Te{constructor(e){super(),De(this,e,cs,as,be,{checked:0,leftLabel:1,rightLabel:2})}}function Vn(n,e,t){const i=n.slice();return i[8]=e[t],i}function fs(n){let e,t,i=[],s=new Map,r,l=n[0].active&&An(n),o=Ve([...n[1]].reverse());const a=u=>u[8].start;for(let u=0;u<o.length;u+=1){let c=Vn(n,o,u),d=a(c);s.set(d,i[u]=Pn(d,c))}return{c(){e=k("div"),l&&l.c(),t=R();for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=w(u,"DIV",{class:!0});var c=S(e);l&&l.l(c),t=L(c);for(let d=0;d<i.length;d+=1)i[d].l(c);c.forEach(m),this.h()},h(){f(e,"class","logs svelte-rjdqds")},m(u,c){H(u,e,c),l&&l.m(e,null),h(e,t);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);r=!0},p(u,c){u[0].active?l?(l.p(u,c),c&1&&W(l,1)):(l=An(u),l.c(),W(l,1),l.m(e,t)):l&&(Je(),J(l,1,1,()=>{l=null}),Ye()),c&2&&(o=Ve([...u[1]].reverse()),Je(),i=Wn(i,c,a,1,u,o,s,e,ni,Pn,null,Vn),Ye())},i(u){if(!r){W(l);for(let c=0;c<o.length;c+=1)W(i[c]);r=!0}},o(u){J(l);for(let c=0;c<i.length;c+=1)J(i[c]);r=!1},d(u){u&&m(e),l&&l.d();for(let c=0;c<i.length;c+=1)i[c].d()}}}function ds(n){let e,t;return e=new ss({props:{timers:n[1],activeTimer:n[0].active}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,s){fe(e,i,s),t=!0},p(i,s){const r={};s&2&&(r.timers=i[1]),s&1&&(r.activeTimer=i[0].active),e.$set(r)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){J(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function An(n){let e,t;const i=[n[0].active,{topLog:!0}];let s={};for(let r=0;r<i.length;r+=1)s=Xe(s,i[r]);return e=new Zn({props:s}),{c(){ce(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,l){fe(e,r,l),t=!0},p(r,l){const o=l&1?Et(i,[qn(r[0].active),i[1]]):{};e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Pn(n,e){let t,i,s;const r=[e[8],{topLog:!1}];function l(){return e[6](e[8])}let o={};for(let a=0;a<r.length;a+=1)o=Xe(o,r[a]);return i=new Zn({props:o}),i.$on("click",l),i.$on("remove",e[7]),{key:n,first:null,c(){t=ke(),ce(i.$$.fragment),this.h()},l(a){t=ke(),ue(i.$$.fragment,a),this.h()},h(){this.first=t},m(a,u){H(a,t,u),fe(i,a,u),s=!0},p(a,u){e=a;const c=u&2?Et(r,[qn(e[8]),r[1]]):{};i.$set(c)},i(a){s||(W(i.$$.fragment,a),s=!0)},o(a){J(i.$$.fragment,a),s=!1},d(a){a&&m(t),de(i,a)}}}function hs(n){let e,t,i,s,r="Clear logs",l,o,a="Active time: ",u,c=cn(n[3])+"",d,v,_,g,b,I,P,N,T,O,M,z,y;e=new os({});function j(A){n[5](A)}let E={leftLabel:"Logs",rightLabel:"Graph"};n[2]!==void 0&&(E.checked=n[2]),b=new us({props:E}),Ke.push(()=>Gt(b,"checked",j));const V=[ds,fs],C=[];function F(A,p){return A[2]?0:1}return T=F(n),O=C[T]=V[T](n),{c(){ce(e.$$.fragment),t=R(),i=k("div"),s=k("button"),s.textContent=r,l=R(),o=k("span"),o.textContent=a,u=k("span"),d=x(c),v=R(),_=k("div"),g=k("div"),ce(b.$$.fragment),P=R(),N=k("div"),O.c(),this.h()},l(A){ue(e.$$.fragment,A),t=L(A),i=w(A,"DIV",{class:!0});var p=S(i);s=w(p,"BUTTON",{class:!0,"data-svelte-h":!0}),te(s)!=="svelte-1renoko"&&(s.textContent=r),l=L(p),o=w(p,"SPAN",{class:!0,"data-svelte-h":!0}),te(o)!=="svelte-18pz33x"&&(o.textContent=a),u=w(p,"SPAN",{class:!0});var q=S(u);d=ee(q,c),q.forEach(m),p.forEach(m),v=L(A),_=w(A,"DIV",{class:!0});var Q=S(_);g=w(Q,"DIV",{class:!0});var Y=S(g);ue(b.$$.fragment,Y),Y.forEach(m),P=L(Q),N=w(Q,"DIV",{class:!0});var he=S(N);O.l(he),he.forEach(m),Q.forEach(m),this.h()},h(){f(s,"class","clear svelte-rjdqds"),f(o,"class","svelte-rjdqds"),f(u,"class","svelte-rjdqds"),f(i,"class","header svelte-rjdqds"),f(g,"class","tabs-header svelte-rjdqds"),f(N,"class","content-wrapper svelte-rjdqds"),f(_,"class","content-section svelte-rjdqds")},m(A,p){fe(e,A,p),H(A,t,p),H(A,i,p),h(i,s),h(i,l),h(i,o),h(i,u),h(u,d),H(A,v,p),H(A,_,p),h(_,g),fe(b,g,null),h(_,P),h(_,N),C[T].m(N,null),M=!0,z||(y=G(s,"click",n[4]),z=!0)},p(A,[p]){(!M||p&8)&&c!==(c=cn(A[3])+"")&&oe(d,c);const q={};!I&&p&4&&(I=!0,q.checked=A[2],zt(()=>I=!1)),b.$set(q);let Q=T;T=F(A),T===Q?C[T].p(A,p):(Je(),J(C[Q],1,1,()=>{C[Q]=null}),Ye(),O=C[T],O?O.p(A,p):(O=C[T]=V[T](A),O.c()),W(O,1),O.m(N,null))},i(A){M||(W(e.$$.fragment,A),W(b.$$.fragment,A),W(O),M=!0)},o(A){J(e.$$.fragment,A),J(b.$$.fragment,A),J(O),M=!1},d(A){A&&(m(t),m(i),m(v),m(_)),de(e,A),de(b),C[T].d(),z=!1,y()}}}function ms(n,e,t){let i,s;Ce(n,Ie,d=>t(0,i=d)),Ce(n,Si,d=>t(3,s=d));var r=[];let l=!0;const o=()=>Ie.update(d=>d.clearLogs());function a(d){l=d,t(2,l)}const u=d=>vt(d),c=d=>Ie.update(v=>v.remove(d.detail));return n.$$.update=()=>{var d;n.$$.dirty&1&&t(1,r=((d=i==null?void 0:i.timerHistory)==null?void 0:d.list)||[])},[i,r,l,s,o,a,u,c]}class vs extends Te{constructor(e){super(),De(this,e,ms,hs,be,{})}}function _s(n){const e=n-1;return e*e*e+1}function bt(n,{delay:e=0,duration:t=400,easing:i=_s,x:s=0,y:r=0,opacity:l=0}={}){const o=getComputedStyle(n),a=+o.opacity,u=o.transform==="none"?"":o.transform,c=a*(1-l),[d,v]=ln(s),[_,g]=ln(r);return{delay:e,duration:t,easing:i,css:(b,I)=>`
			transform: ${u} translate(${(1-b)*d}${v}, ${(1-b)*_}${g});
			opacity: ${a-c*I}`}}function gs(n){let e,t,i,s,r,l,o,a,u,c,d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},n[0]],v={};for(let _=0;_<d.length;_+=1)v=Xe(v,d[_]);return{c(){e=je("svg"),t=je("circle"),i=je("line"),s=je("line"),r=je("line"),l=je("line"),o=je("line"),a=je("line"),u=je("line"),c=je("line"),this.h()},l(_){e=Ne(_,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var g=S(e);t=Ne(g,"circle",{cx:!0,cy:!0,r:!0}),S(t).forEach(m),i=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(i).forEach(m),s=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(s).forEach(m),r=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(r).forEach(m),l=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(l).forEach(m),o=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(o).forEach(m),a=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(a).forEach(m),u=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(u).forEach(m),c=Ne(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(c).forEach(m),g.forEach(m),this.h()},h(){f(t,"cx","12"),f(t,"cy","12"),f(t,"r","5"),f(i,"x1","12"),f(i,"y1","1"),f(i,"x2","12"),f(i,"y2","3"),f(s,"x1","12"),f(s,"y1","21"),f(s,"x2","12"),f(s,"y2","23"),f(r,"x1","4.22"),f(r,"y1","4.22"),f(r,"x2","5.64"),f(r,"y2","5.64"),f(l,"x1","18.36"),f(l,"y1","18.36"),f(l,"x2","19.78"),f(l,"y2","19.78"),f(o,"x1","1"),f(o,"y1","12"),f(o,"x2","3"),f(o,"y2","12"),f(a,"x1","21"),f(a,"y1","12"),f(a,"x2","23"),f(a,"y2","12"),f(u,"x1","4.22"),f(u,"y1","19.78"),f(u,"x2","5.64"),f(u,"y2","18.36"),f(c,"x1","18.36"),f(c,"y1","5.64"),f(c,"x2","19.78"),f(c,"y2","4.22"),pt(e,v)},m(_,g){H(_,e,g),h(e,t),h(e,i),h(e,s),h(e,r),h(e,l),h(e,o),h(e,a),h(e,u),h(e,c)},p(_,[g]){pt(e,v=Et(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},g&1&&_[0]]))},i:le,o:le,d(_){_&&m(e)}}}function ps(n,e,t){const i=[];let s=kt(e,i);return n.$$set=r=>{e=Xe(Xe({},e),Bn(r)),t(0,s=kt(e,i))},[s]}class ks extends Te{constructor(e){super(),De(this,e,ps,gs,be,{})}}function ws(n){let e,t,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},n[0]],s={};for(let r=0;r<i.length;r+=1)s=Xe(s,i[r]);return{c(){e=je("svg"),t=je("path"),this.h()},l(r){e=Ne(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var l=S(e);t=Ne(l,"path",{d:!0}),S(t).forEach(m),l.forEach(m),this.h()},h(){f(t,"d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"),pt(e,s)},m(r,l){H(r,e,l),h(e,t)},p(r,[l]){pt(e,s=Et(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"none"},{stroke:"currentColor"},{"stroke-width":"2"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},l&1&&r[0]]))},i:le,o:le,d(r){r&&m(e)}}}function bs(n,e,t){const i=[];let s=kt(e,i);return n.$$set=r=>{e=Xe(Xe({},e),Bn(r)),t(0,s=kt(e,i))},[s]}class Ts extends Te{constructor(e){super(),De(this,e,bs,ws,be,{})}}function Ds(n){let e,t,i,s,r;return t=new ks({}),{c(){e=k("div"),ce(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=S(e);ue(t.$$.fragment,o),o.forEach(m),this.h()},h(){f(e,"class","icon sun svelte-1u641rb")},m(l,o){H(l,e,o),fe(t,e,null),r=!0},i(l){r||(W(t.$$.fragment,l),l&&Fn(()=>{r&&(s&&s.end(1),i=zn(e,bt,{y:20,duration:400}),i.start())}),r=!0)},o(l){J(t.$$.fragment,l),i&&i.invalidate(),l&&(s=Gn(e,bt,{y:-20,duration:400})),r=!1},d(l){l&&m(e),de(t),l&&s&&s.end()}}}function Es(n){let e,t,i,s,r;return t=new Ts({}),{c(){e=k("div"),ce(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=S(e);ue(t.$$.fragment,o),o.forEach(m),this.h()},h(){f(e,"class","icon moon svelte-1u641rb")},m(l,o){H(l,e,o),fe(t,e,null),r=!0},i(l){r||(W(t.$$.fragment,l),l&&Fn(()=>{r&&(s&&s.end(1),i=zn(e,bt,{y:20,duration:400}),i.start())}),r=!0)},o(l){J(t.$$.fragment,l),i&&i.invalidate(),l&&(s=Gn(e,bt,{y:-20,duration:400})),r=!1},d(l){l&&m(e),de(t),l&&s&&s.end()}}}function Ss(n){let e,t,i,s,r,l,o,a;const u=[Es,Ds],c=[];function d(v,_){return v[0]?0:1}return i=d(n),s=c[i]=u[i](n),{c(){e=k("button"),t=k("div"),s.c(),this.h()},l(v){e=w(v,"BUTTON",{class:!0,"aria-label":!0,title:!0});var _=S(e);t=w(_,"DIV",{class:!0});var g=S(t);s.l(g),g.forEach(m),_.forEach(m),this.h()},h(){f(t,"class","icon-container svelte-1u641rb"),f(e,"class","theme-toggle svelte-1u641rb"),f(e,"aria-label","Toggle dark mode"),f(e,"title",r=n[0]?"Switch to light mode":"Switch to dark mode")},m(v,_){H(v,e,_),h(e,t),c[i].m(t,null),l=!0,o||(a=G(e,"click",n[1]),o=!0)},p(v,[_]){let g=i;i=d(v),i!==g&&(Je(),J(c[g],1,1,()=>{c[g]=null}),Ye(),s=c[i],s||(s=c[i]=u[i](v),s.c()),W(s,1),s.m(t,null)),(!l||_&1&&r!==(r=v[0]?"Switch to light mode":"Switch to dark mode"))&&f(e,"title",r)},i(v){l||(W(s),l=!0)},o(v){J(s),l=!1},d(v){v&&m(e),c[i].d(),o=!1,a()}}}function Is(n,e,t){let i;Ce(n,Bt,r=>t(0,i=r));function s(){Bt.update(r=>!r)}return[i,s]}class ys extends Te{constructor(e){super(),De(this,e,Is,Ss,be,{})}}function Cs(n){let e,t,i,s,r,l="Let's Pomodoro!",o,a,u,c,d,v,_,g,b,I;u=new ys({});function P(T){n[9](T)}let N={debugFlag:n[0]};return n[1]!==void 0&&(N.remainedSeconds=n[1]),d=new qi({props:N}),Ke.push(()=>Gt(d,"remainedSeconds",P)),d.$on("timer",n[4]),d.$on("current",n[5]),d.$on("cancel",n[6]),b=new vs({}),{c(){e=k("main"),t=k("div"),i=k("div"),s=k("div"),r=k("h1"),r.textContent=l,o=R(),a=k("div"),ce(u.$$.fragment),c=R(),ce(d.$$.fragment),_=R(),g=k("div"),ce(b.$$.fragment),this.h()},l(T){e=w(T,"MAIN",{class:!0});var O=S(e);t=w(O,"DIV",{class:!0});var M=S(t);i=w(M,"DIV",{class:!0});var z=S(i);s=w(z,"DIV",{class:!0});var y=S(s);r=w(y,"H1",{class:!0,"data-svelte-h":!0}),te(r)!=="svelte-cxq7y3"&&(r.textContent=l),o=L(y),a=w(y,"DIV",{class:!0});var j=S(a);ue(u.$$.fragment,j),j.forEach(m),y.forEach(m),c=L(z),ue(d.$$.fragment,z),z.forEach(m),_=L(M),g=w(M,"DIV",{class:!0});var E=S(g);ue(b.$$.fragment,E),E.forEach(m),M.forEach(m),O.forEach(m),this.h()},h(){f(r,"class","logo svelte-7bfrvu"),f(a,"class","toggle-wrapper svelte-7bfrvu"),f(s,"class","header-row svelte-7bfrvu"),f(i,"class","pomodoro svelte-7bfrvu"),f(g,"class","logs svelte-7bfrvu"),f(t,"class","container svelte-7bfrvu"),f(e,"class","svelte-7bfrvu"),$e(e,"dark",n[3])},m(T,O){H(T,e,O),h(e,t),h(t,i),h(i,s),h(s,r),h(s,o),h(s,a),fe(u,a,null),h(i,c),fe(d,i,null),h(t,_),h(t,g),fe(b,g,null),I=!0},p(T,O){const M={};O&1&&(M.debugFlag=T[0]),!v&&O&2&&(v=!0,M.remainedSeconds=T[1],zt(()=>v=!1)),d.$set(M),(!I||O&8)&&$e(e,"dark",T[3])},i(T){I||(W(u.$$.fragment,T),W(d.$$.fragment,T),W(b.$$.fragment,T),I=!0)},o(T){J(u.$$.fragment,T),J(d.$$.fragment,T),J(b.$$.fragment,T),I=!1},d(T){T&&m(e),de(u),de(d),de(b)}}}function Os(n){let e;return{c(){e=k("main"),this.h()},l(t){e=w(t,"MAIN",{style:!0,class:!0}),S(e).forEach(m),this.h()},h(){U(e,"background-color","gray"),U(e,"height","90 vh"),f(e,"class","svelte-7bfrvu")},m(t,i){H(t,e,i)},p:le,i:le,o:le,d(t){t&&m(e)}}}function Ms(n){let e,t,i,s,r;const l=[Os,Cs],o=[];function a(u,c){return u[2]?0:1}return e=a(n),t=o[e]=l[e](n),{c(){t.c(),i=R(),s=ke()},l(u){t.l(u),i=L(u),s=ke()},m(u,c){o[e].m(u,c),H(u,i,c),H(u,s,c),r=!0},p(u,[c]){let d=e;e=a(u),e===d?o[e].p(u,c):(Je(),J(o[d],1,1,()=>{o[d]=null}),Ye(),t=o[e],t?t.p(u,c):(t=o[e]=l[e](u),t.c()),W(t,1),t.m(i.parentNode,i))},i(u){r||(W(t),r=!0)},o(u){J(t),r=!1},d(u){u&&(m(i),m(s)),o[e].d(u)}}}function js(n,e,t){let i,s;Ce(n,Bt,g=>t(3,i=g)),Ce(n,Ie,g=>t(8,s=g));let r=!1,l,o=!0,a;ei(()=>{a&&clearInterval(a)});function u(g){Ie.update(b=>b.addTimer(g.detail))}function c(g){Ie.update(b=>b.setActive(g.detail))}function d(){Ie.update(g=>g.resetActive())}Un(()=>{if(console.log("get darkmode:",i),s!=null&&s.active){const g=s.getRecoveryStatus(new Date,tt(r).timersMultiplier);g.shouldArchive?(Ie.update(b=>(b.active&&b.addTimer(b.active),b)),console.log("Timer expired beyond cap while closed, archived to history")):g.shouldResume?(Be.start(g.remainingMinutes,s.active.name,r),console.log("Resumed timer with",g.remainingMinutes,"minutes remaining")):console.log("Timer in overtime, resumed background monitoring")}t(2,o=!1)});function v(g){l=g,t(1,l)}function _(){r=this.checked,t(0,r)}return n.$$.update=()=>{n.$$.dirty&259&&s&&l!==void 0&&Ie.update(g=>(g.tick(new Date,tt(r).timersMultiplier),g)),n.$$.dirty&385&&(s!=null&&s.active?a||t(7,a=setInterval(()=>{Ie.update(g=>{const b=tt(r).timersMultiplier;return g.tick(new Date,b)&&Be.stop(),g})},1e3)):a&&(clearInterval(a),t(7,a=void 0)))},[r,l,o,i,u,c,d,a,s,v,_]}class $s extends Te{constructor(e){super(),De(this,e,js,Ms,be,{})}}export{$s as component};
